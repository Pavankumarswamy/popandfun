var Bg=t=>{throw TypeError(t)};var Pd=(t,e,n)=>e.has(t)||Bg("Cannot "+n);var N=(t,e,n)=>(Pd(t,e,"read from private field"),n?n.call(t):e.get(t)),ue=(t,e,n)=>e.has(t)?Bg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),J=(t,e,n,r)=>(Pd(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),nt=(t,e,n)=>(Pd(t,e,"access private method"),n);var Tl=(t,e,n,r)=>({set _(s){J(t,e,s,n)},get _(){return N(t,e,r)}});function IT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function dw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fw={exports:{}},Iu={},hw={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl=Symbol.for("react.element"),NT=Symbol.for("react.portal"),PT=Symbol.for("react.fragment"),kT=Symbol.for("react.strict_mode"),RT=Symbol.for("react.profiler"),AT=Symbol.for("react.provider"),OT=Symbol.for("react.context"),DT=Symbol.for("react.forward_ref"),MT=Symbol.for("react.suspense"),LT=Symbol.for("react.memo"),jT=Symbol.for("react.lazy"),Wg=Symbol.iterator;function FT(t){return t===null||typeof t!="object"?null:(t=Wg&&t[Wg]||t["@@iterator"],typeof t=="function"?t:null)}var pw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mw=Object.assign,gw={};function yo(t,e,n){this.props=t,this.context=e,this.refs=gw,this.updater=n||pw}yo.prototype.isReactComponent={};yo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vw(){}vw.prototype=yo.prototype;function gp(t,e,n){this.props=t,this.context=e,this.refs=gw,this.updater=n||pw}var vp=gp.prototype=new vw;vp.constructor=gp;mw(vp,yo.prototype);vp.isPureReactComponent=!0;var Vg=Array.isArray,yw=Object.prototype.hasOwnProperty,yp={current:null},_w={key:!0,ref:!0,__self:!0,__source:!0};function ww(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)yw.call(e,r)&&!_w.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:sl,type:t,key:i,ref:o,props:s,_owner:yp.current}}function UT(t,e){return{$$typeof:sl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _p(t){return typeof t=="object"&&t!==null&&t.$$typeof===sl}function $T(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hg=/\/+/g;function kd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$T(""+t.key):e.toString(36)}function nc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sl:case NT:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+kd(o,0):r,Vg(s)?(n="",t!=null&&(n=t.replace(Hg,"$&/")+"/"),nc(s,e,n,"",function(c){return c})):s!=null&&(_p(s)&&(s=UT(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Hg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Vg(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+kd(i,a);o+=nc(i,e,n,l,s)}else if(l=FT(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+kd(i,a++),o+=nc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Il(t,e,n){if(t==null)return t;var r=[],s=0;return nc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function zT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mt={current:null},rc={transition:null},BT={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:rc,ReactCurrentOwner:yp};function xw(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Il,forEach:function(t,e,n){Il(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Il(t,function(){e++}),e},toArray:function(t){return Il(t,function(e){return e})||[]},only:function(t){if(!_p(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=yo;se.Fragment=PT;se.Profiler=RT;se.PureComponent=gp;se.StrictMode=kT;se.Suspense=MT;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BT;se.act=xw;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=yp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)yw.call(e,l)&&!_w.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:sl,type:t.type,key:s,ref:i,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:OT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AT,_context:t},t.Consumer=t};se.createElement=ww;se.createFactory=function(t){var e=ww.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:DT,render:t}};se.isValidElement=_p;se.lazy=function(t){return{$$typeof:jT,_payload:{_status:-1,_result:t},_init:zT}};se.memo=function(t,e){return{$$typeof:LT,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=rc.transition;rc.transition={};try{t()}finally{rc.transition=e}};se.unstable_act=xw;se.useCallback=function(t,e){return mt.current.useCallback(t,e)};se.useContext=function(t){return mt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return mt.current.useDeferredValue(t)};se.useEffect=function(t,e){return mt.current.useEffect(t,e)};se.useId=function(){return mt.current.useId()};se.useImperativeHandle=function(t,e,n){return mt.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return mt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return mt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return mt.current.useMemo(t,e)};se.useReducer=function(t,e,n){return mt.current.useReducer(t,e,n)};se.useRef=function(t){return mt.current.useRef(t)};se.useState=function(t){return mt.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return mt.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return mt.current.useTransition()};se.version="18.3.1";hw.exports=se;var m=hw.exports;const O=dw(m),wp=IT({__proto__:null,default:O},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT=m,VT=Symbol.for("react.element"),HT=Symbol.for("react.fragment"),GT=Object.prototype.hasOwnProperty,KT=WT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qT={key:!0,ref:!0,__self:!0,__source:!0};function Ew(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)GT.call(e,r)&&!qT.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:VT,type:t,key:i,ref:o,props:s,_owner:KT.current}}Iu.Fragment=HT;Iu.jsx=Ew;Iu.jsxs=Ew;fw.exports=Iu;var h=fw.exports,Cw={exports:{}},Lt={},Sw={exports:{}},bw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,P){var j=I.length;I.push(P);e:for(;0<j;){var Q=j-1>>>1,B=I[Q];if(0<s(B,P))I[Q]=P,I[j]=B,j=Q;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var P=I[0],j=I.pop();if(j!==P){I[0]=j;e:for(var Q=0,B=I.length,Z=B>>>1;Q<Z;){var Y=2*(Q+1)-1,Ee=I[Y],Ae=Y+1,F=I[Ae];if(0>s(Ee,j))Ae<B&&0>s(F,Ee)?(I[Q]=F,I[Ae]=j,Q=Ae):(I[Q]=Ee,I[Y]=j,Q=Y);else if(Ae<B&&0>s(F,j))I[Q]=F,I[Ae]=j,Q=Ae;else break e}}return P}function s(I,P){var j=I.sortIndex-P.sortIndex;return j!==0?j:I.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,x=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=I)r(c),P.sortIndex=P.expirationTime,e(l,P);else break;P=n(c)}}function E(I){if(v=!1,w(I),!x)if(n(l)!==null)x=!0,U(C);else{var P=n(c);P!==null&&W(E,P.startTime-I)}}function C(I,P){x=!1,v&&(v=!1,g(T),T=-1),p=!0;var j=f;try{for(w(P),d=n(l);d!==null&&(!(d.expirationTime>P)||I&&!z());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,f=d.priorityLevel;var B=Q(d.expirationTime<=P);P=t.unstable_now(),typeof B=="function"?d.callback=B:d===n(l)&&r(l),w(P)}else r(l);d=n(l)}if(d!==null)var Z=!0;else{var Y=n(c);Y!==null&&W(E,Y.startTime-P),Z=!1}return Z}finally{d=null,f=j,p=!1}}var S=!1,b=null,T=-1,A=5,R=-1;function z(){return!(t.unstable_now()-R<A)}function L(){if(b!==null){var I=t.unstable_now();R=I;var P=!0;try{P=b(!0,I)}finally{P?H():(S=!1,b=null)}}else S=!1}var H;if(typeof y=="function")H=function(){y(L)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,q=M.port2;M.port1.onmessage=L,H=function(){q.postMessage(null)}}else H=function(){_(L,0)};function U(I){b=I,S||(S=!0,H())}function W(I,P){T=_(function(){I(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,U(C))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var j=f;f=P;try{return I()}finally{f=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,P){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var j=f;f=I;try{return P()}finally{f=j}},t.unstable_scheduleCallback=function(I,P,j){var Q=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Q+j:Q):j=Q,I){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=j+B,I={id:u++,callback:P,priorityLevel:I,startTime:j,expirationTime:B,sortIndex:-1},j>Q?(I.sortIndex=j,e(c,I),n(l)===null&&I===n(c)&&(v?(g(T),T=-1):v=!0,W(E,j-Q))):(I.sortIndex=B,e(l,I),x||p||(x=!0,U(C))),I},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(I){var P=f;return function(){var j=f;f=P;try{return I.apply(this,arguments)}finally{f=j}}}})(bw);Sw.exports=bw;var QT=Sw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT=m,Mt=QT;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tw=new Set,xa={};function Zs(t,e){eo(t,e),eo(t+"Capture",e)}function eo(t,e){for(xa[t]=e,t=0;t<e.length;t++)Tw.add(e[t])}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mf=Object.prototype.hasOwnProperty,XT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gg={},Kg={};function JT(t){return Mf.call(Kg,t)?!0:Mf.call(Gg,t)?!1:XT.test(t)?Kg[t]=!0:(Gg[t]=!0,!1)}function ZT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eI(t,e,n,r){if(e===null||typeof e>"u"||ZT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var xp=/[\-:]([a-z])/g;function Ep(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xp,Ep);Je[e]=new gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xp,Ep);Je[e]=new gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xp,Ep);Je[e]=new gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new gt(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cp(t,e,n,r){var s=Je.hasOwnProperty(e)?Je[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eI(e,n,s,r)&&(n=null),r||s===null?JT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ar=YT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nl=Symbol.for("react.element"),yi=Symbol.for("react.portal"),_i=Symbol.for("react.fragment"),Sp=Symbol.for("react.strict_mode"),Lf=Symbol.for("react.profiler"),Iw=Symbol.for("react.provider"),Nw=Symbol.for("react.context"),bp=Symbol.for("react.forward_ref"),jf=Symbol.for("react.suspense"),Ff=Symbol.for("react.suspense_list"),Tp=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),Pw=Symbol.for("react.offscreen"),qg=Symbol.iterator;function jo(t){return t===null||typeof t!="object"?null:(t=qg&&t[qg]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,Rd;function Xo(t){if(Rd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rd=e&&e[1]||""}return`
`+Rd+t}var Ad=!1;function Od(t,e){if(!t||Ad)return"";Ad=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ad=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xo(t):""}function tI(t){switch(t.tag){case 5:return Xo(t.type);case 16:return Xo("Lazy");case 13:return Xo("Suspense");case 19:return Xo("SuspenseList");case 0:case 2:case 15:return t=Od(t.type,!1),t;case 11:return t=Od(t.type.render,!1),t;case 1:return t=Od(t.type,!0),t;default:return""}}function Uf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _i:return"Fragment";case yi:return"Portal";case Lf:return"Profiler";case Sp:return"StrictMode";case jf:return"Suspense";case Ff:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nw:return(t.displayName||"Context")+".Consumer";case Iw:return(t._context.displayName||"Context")+".Provider";case bp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tp:return e=t.displayName||null,e!==null?e:Uf(t.type)||"Memo";case wr:e=t._payload,t=t._init;try{return Uf(t(e))}catch{}}return null}function nI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uf(e);case 8:return e===Sp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rI(t){var e=kw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pl(t){t._valueTracker||(t._valueTracker=rI(t))}function Rw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=kw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $f(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Aw(t,e){e=e.checked,e!=null&&Cp(t,"checked",e,!1)}function zf(t,e){Aw(t,e);var n=Jr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bf(t,e.type,Jr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bf(t,e,n){(e!=="number"||Tc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jo=Array.isArray;function Ai(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Wf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(Jo(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jr(n)}}function Ow(t,e){var n=Jr(e.value),r=Jr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Jg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Dw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Dw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kl,Mw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kl=kl||document.createElement("div"),kl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ea(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sI=["Webkit","ms","Moz","O"];Object.keys(sa).forEach(function(t){sI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sa[e]=sa[t]})});function Lw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sa.hasOwnProperty(t)&&sa[t]?(""+e).trim():e+"px"}function jw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Lw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var iI=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hf(t,e){if(e){if(iI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function Gf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kf=null;function Ip(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qf=null,Oi=null,Di=null;function Zg(t){if(t=al(t)){if(typeof qf!="function")throw Error(k(280));var e=t.stateNode;e&&(e=Au(e),qf(t.stateNode,t.type,e))}}function Fw(t){Oi?Di?Di.push(t):Di=[t]:Oi=t}function Uw(){if(Oi){var t=Oi,e=Di;if(Di=Oi=null,Zg(t),e)for(t=0;t<e.length;t++)Zg(e[t])}}function $w(t,e){return t(e)}function zw(){}var Dd=!1;function Bw(t,e,n){if(Dd)return t(e,n);Dd=!0;try{return $w(t,e,n)}finally{Dd=!1,(Oi!==null||Di!==null)&&(zw(),Uw())}}function Ca(t,e){var n=t.stateNode;if(n===null)return null;var r=Au(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var Qf=!1;if(Jn)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){Qf=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{Qf=!1}function oI(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ia=!1,Ic=null,Nc=!1,Yf=null,aI={onError:function(t){ia=!0,Ic=t}};function lI(t,e,n,r,s,i,o,a,l){ia=!1,Ic=null,oI.apply(aI,arguments)}function cI(t,e,n,r,s,i,o,a,l){if(lI.apply(this,arguments),ia){if(ia){var c=Ic;ia=!1,Ic=null}else throw Error(k(198));Nc||(Nc=!0,Yf=c)}}function ei(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ww(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ev(t){if(ei(t)!==t)throw Error(k(188))}function uI(t){var e=t.alternate;if(!e){if(e=ei(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ev(s),t;if(i===r)return ev(s),e;i=i.sibling}throw Error(k(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function Vw(t){return t=uI(t),t!==null?Hw(t):null}function Hw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hw(t);if(e!==null)return e;t=t.sibling}return null}var Gw=Mt.unstable_scheduleCallback,tv=Mt.unstable_cancelCallback,dI=Mt.unstable_shouldYield,fI=Mt.unstable_requestPaint,je=Mt.unstable_now,hI=Mt.unstable_getCurrentPriorityLevel,Np=Mt.unstable_ImmediatePriority,Kw=Mt.unstable_UserBlockingPriority,Pc=Mt.unstable_NormalPriority,pI=Mt.unstable_LowPriority,qw=Mt.unstable_IdlePriority,Nu=null,Rn=null;function mI(t){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Nu,t,void 0,(t.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:yI,gI=Math.log,vI=Math.LN2;function yI(t){return t>>>=0,t===0?32:31-(gI(t)/vI|0)|0}var Rl=64,Al=4194304;function Zo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Zo(a):(i&=o,i!==0&&(r=Zo(i)))}else o=n&~s,o!==0?r=Zo(o):i!==0&&(r=Zo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hn(e),s=1<<n,r|=t[n],e&=~s;return r}function _I(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-hn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=_I(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Xf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qw(){var t=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),t}function Md(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function il(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hn(e),t[e]=n}function xI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-hn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Pp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var pe=0;function Yw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xw,kp,Jw,Zw,e0,Jf=!1,Ol=[],Lr=null,jr=null,Fr=null,Sa=new Map,ba=new Map,Er=[],EI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nv(t,e){switch(t){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Sa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ba.delete(e.pointerId)}}function Uo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=al(e),e!==null&&kp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function CI(t,e,n,r,s){switch(e){case"focusin":return Lr=Uo(Lr,t,e,n,r,s),!0;case"dragenter":return jr=Uo(jr,t,e,n,r,s),!0;case"mouseover":return Fr=Uo(Fr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Sa.set(i,Uo(Sa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ba.set(i,Uo(ba.get(i)||null,t,e,n,r,s)),!0}return!1}function t0(t){var e=Cs(t.target);if(e!==null){var n=ei(e);if(n!==null){if(e=n.tag,e===13){if(e=Ww(n),e!==null){t.blockedOn=e,e0(t.priority,function(){Jw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Kf=r,n.target.dispatchEvent(r),Kf=null}else return e=al(n),e!==null&&kp(e),t.blockedOn=n,!1;e.shift()}return!0}function rv(t,e,n){sc(t)&&n.delete(e)}function SI(){Jf=!1,Lr!==null&&sc(Lr)&&(Lr=null),jr!==null&&sc(jr)&&(jr=null),Fr!==null&&sc(Fr)&&(Fr=null),Sa.forEach(rv),ba.forEach(rv)}function $o(t,e){t.blockedOn===e&&(t.blockedOn=null,Jf||(Jf=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,SI)))}function Ta(t){function e(s){return $o(s,t)}if(0<Ol.length){$o(Ol[0],t);for(var n=1;n<Ol.length;n++){var r=Ol[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Lr!==null&&$o(Lr,t),jr!==null&&$o(jr,t),Fr!==null&&$o(Fr,t),Sa.forEach(e),ba.forEach(e),n=0;n<Er.length;n++)r=Er[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Er.length&&(n=Er[0],n.blockedOn===null);)t0(n),n.blockedOn===null&&Er.shift()}var Mi=ar.ReactCurrentBatchConfig,Rc=!0;function bI(t,e,n,r){var s=pe,i=Mi.transition;Mi.transition=null;try{pe=1,Rp(t,e,n,r)}finally{pe=s,Mi.transition=i}}function TI(t,e,n,r){var s=pe,i=Mi.transition;Mi.transition=null;try{pe=4,Rp(t,e,n,r)}finally{pe=s,Mi.transition=i}}function Rp(t,e,n,r){if(Rc){var s=Zf(t,e,n,r);if(s===null)Hd(t,e,r,Ac,n),nv(t,r);else if(CI(s,t,e,n,r))r.stopPropagation();else if(nv(t,r),e&4&&-1<EI.indexOf(t)){for(;s!==null;){var i=al(s);if(i!==null&&Xw(i),i=Zf(t,e,n,r),i===null&&Hd(t,e,r,Ac,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Hd(t,e,r,null,n)}}var Ac=null;function Zf(t,e,n,r){if(Ac=null,t=Ip(r),t=Cs(t),t!==null)if(e=ei(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ww(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ac=t,null}function n0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hI()){case Np:return 1;case Kw:return 4;case Pc:case pI:return 16;case qw:return 536870912;default:return 16}default:return 16}}var Or=null,Ap=null,ic=null;function r0(){if(ic)return ic;var t,e=Ap,n=e.length,r,s="value"in Or?Or.value:Or.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ic=s.slice(t,1<r?1-r:void 0)}function oc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dl(){return!0}function sv(){return!1}function jt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Dl:sv,this.isPropagationStopped=sv,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),e}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Op=jt(_o),ol=Re({},_o,{view:0,detail:0}),II=jt(ol),Ld,jd,zo,Pu=Re({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zo&&(zo&&t.type==="mousemove"?(Ld=t.screenX-zo.screenX,jd=t.screenY-zo.screenY):jd=Ld=0,zo=t),Ld)},movementY:function(t){return"movementY"in t?t.movementY:jd}}),iv=jt(Pu),NI=Re({},Pu,{dataTransfer:0}),PI=jt(NI),kI=Re({},ol,{relatedTarget:0}),Fd=jt(kI),RI=Re({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),AI=jt(RI),OI=Re({},_o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DI=jt(OI),MI=Re({},_o,{data:0}),ov=jt(MI),LI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FI[t])?!!e[t]:!1}function Dp(){return UI}var $I=Re({},ol,{key:function(t){if(t.key){var e=LI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dp,charCode:function(t){return t.type==="keypress"?oc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zI=jt($I),BI=Re({},Pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),av=jt(BI),WI=Re({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dp}),VI=jt(WI),HI=Re({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),GI=jt(HI),KI=Re({},Pu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qI=jt(KI),QI=[9,13,27,32],Mp=Jn&&"CompositionEvent"in window,oa=null;Jn&&"documentMode"in document&&(oa=document.documentMode);var YI=Jn&&"TextEvent"in window&&!oa,s0=Jn&&(!Mp||oa&&8<oa&&11>=oa),lv=" ",cv=!1;function i0(t,e){switch(t){case"keyup":return QI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wi=!1;function XI(t,e){switch(t){case"compositionend":return o0(e);case"keypress":return e.which!==32?null:(cv=!0,lv);case"textInput":return t=e.data,t===lv&&cv?null:t;default:return null}}function JI(t,e){if(wi)return t==="compositionend"||!Mp&&i0(t,e)?(t=r0(),ic=Ap=Or=null,wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return s0&&e.locale!=="ko"?null:e.data;default:return null}}var ZI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZI[t.type]:e==="textarea"}function a0(t,e,n,r){Fw(r),e=Oc(e,"onChange"),0<e.length&&(n=new Op("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var aa=null,Ia=null;function eN(t){y0(t,0)}function ku(t){var e=Ci(t);if(Rw(e))return t}function tN(t,e){if(t==="change")return e}var l0=!1;if(Jn){var Ud;if(Jn){var $d="oninput"in document;if(!$d){var dv=document.createElement("div");dv.setAttribute("oninput","return;"),$d=typeof dv.oninput=="function"}Ud=$d}else Ud=!1;l0=Ud&&(!document.documentMode||9<document.documentMode)}function fv(){aa&&(aa.detachEvent("onpropertychange",c0),Ia=aa=null)}function c0(t){if(t.propertyName==="value"&&ku(Ia)){var e=[];a0(e,Ia,t,Ip(t)),Bw(eN,e)}}function nN(t,e,n){t==="focusin"?(fv(),aa=e,Ia=n,aa.attachEvent("onpropertychange",c0)):t==="focusout"&&fv()}function rN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(Ia)}function sN(t,e){if(t==="click")return ku(e)}function iN(t,e){if(t==="input"||t==="change")return ku(e)}function oN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:oN;function Na(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Mf.call(e,s)||!gn(t[s],e[s]))return!1}return!0}function hv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pv(t,e){var n=hv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hv(n)}}function u0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function d0(){for(var t=window,e=Tc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tc(t.document)}return e}function Lp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aN(t){var e=d0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&u0(n.ownerDocument.documentElement,n)){if(r!==null&&Lp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=pv(n,i);var o=pv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lN=Jn&&"documentMode"in document&&11>=document.documentMode,xi=null,eh=null,la=null,th=!1;function mv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;th||xi==null||xi!==Tc(r)||(r=xi,"selectionStart"in r&&Lp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),la&&Na(la,r)||(la=r,r=Oc(eh,"onSelect"),0<r.length&&(e=new Op("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xi)))}function Ml(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ei={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},zd={},f0={};Jn&&(f0=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);function Ru(t){if(zd[t])return zd[t];if(!Ei[t])return t;var e=Ei[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in f0)return zd[t]=e[n];return t}var h0=Ru("animationend"),p0=Ru("animationiteration"),m0=Ru("animationstart"),g0=Ru("transitionend"),v0=new Map,gv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(t,e){v0.set(t,e),Zs(e,[t])}for(var Bd=0;Bd<gv.length;Bd++){var Wd=gv[Bd],cN=Wd.toLowerCase(),uN=Wd[0].toUpperCase()+Wd.slice(1);is(cN,"on"+uN)}is(h0,"onAnimationEnd");is(p0,"onAnimationIteration");is(m0,"onAnimationStart");is("dblclick","onDoubleClick");is("focusin","onFocus");is("focusout","onBlur");is(g0,"onTransitionEnd");eo("onMouseEnter",["mouseout","mouseover"]);eo("onMouseLeave",["mouseout","mouseover"]);eo("onPointerEnter",["pointerout","pointerover"]);eo("onPointerLeave",["pointerout","pointerover"]);Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function vv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cI(r,e,void 0,t),t.currentTarget=null}function y0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;vv(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;vv(s,a,c),i=l}}}if(Nc)throw t=Yf,Nc=!1,Yf=null,t}function Se(t,e){var n=e[oh];n===void 0&&(n=e[oh]=new Set);var r=t+"__bubble";n.has(r)||(_0(e,t,2,!1),n.add(r))}function Vd(t,e,n){var r=0;e&&(r|=4),_0(n,t,r,e)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function Pa(t){if(!t[Ll]){t[Ll]=!0,Tw.forEach(function(n){n!=="selectionchange"&&(dN.has(n)||Vd(n,!1,t),Vd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ll]||(e[Ll]=!0,Vd("selectionchange",!1,e))}}function _0(t,e,n,r){switch(n0(e)){case 1:var s=bI;break;case 4:s=TI;break;default:s=Rp}n=s.bind(null,e,n,t),s=void 0,!Qf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Hd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Cs(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Bw(function(){var c=i,u=Ip(n),d=[];e:{var f=v0.get(t);if(f!==void 0){var p=Op,x=t;switch(t){case"keypress":if(oc(n)===0)break e;case"keydown":case"keyup":p=zI;break;case"focusin":x="focus",p=Fd;break;case"focusout":x="blur",p=Fd;break;case"beforeblur":case"afterblur":p=Fd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=iv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=PI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=VI;break;case h0:case p0:case m0:p=AI;break;case g0:p=GI;break;case"scroll":p=II;break;case"wheel":p=qI;break;case"copy":case"cut":case"paste":p=DI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=av}var v=(e&4)!==0,_=!v&&t==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var y=c,w;y!==null;){w=y;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,g!==null&&(E=Ca(y,g),E!=null&&v.push(ka(y,E,w)))),_)break;y=y.return}0<v.length&&(f=new p(f,x,null,n,u),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Kf&&(x=n.relatedTarget||n.fromElement)&&(Cs(x)||x[Zn]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=c,x=x?Cs(x):null,x!==null&&(_=ei(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=c),p!==x)){if(v=iv,E="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=av,E="onPointerLeave",g="onPointerEnter",y="pointer"),_=p==null?f:Ci(p),w=x==null?f:Ci(x),f=new v(E,y+"leave",p,n,u),f.target=_,f.relatedTarget=w,E=null,Cs(u)===c&&(v=new v(g,y+"enter",x,n,u),v.target=w,v.relatedTarget=_,E=v),_=E,p&&x)t:{for(v=p,g=x,y=0,w=v;w;w=di(w))y++;for(w=0,E=g;E;E=di(E))w++;for(;0<y-w;)v=di(v),y--;for(;0<w-y;)g=di(g),w--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=di(v),g=di(g)}v=null}else v=null;p!==null&&yv(d,f,p,v,!1),x!==null&&_!==null&&yv(d,_,x,v,!0)}}e:{if(f=c?Ci(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=tN;else if(uv(f))if(l0)C=iN;else{C=rN;var S=nN}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=sN);if(C&&(C=C(t,c))){a0(d,C,n,u);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Bf(f,"number",f.value)}switch(S=c?Ci(c):window,t){case"focusin":(uv(S)||S.contentEditable==="true")&&(xi=S,eh=c,la=null);break;case"focusout":la=eh=xi=null;break;case"mousedown":th=!0;break;case"contextmenu":case"mouseup":case"dragend":th=!1,mv(d,n,u);break;case"selectionchange":if(lN)break;case"keydown":case"keyup":mv(d,n,u)}var b;if(Mp)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else wi?i0(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(s0&&n.locale!=="ko"&&(wi||T!=="onCompositionStart"?T==="onCompositionEnd"&&wi&&(b=r0()):(Or=u,Ap="value"in Or?Or.value:Or.textContent,wi=!0)),S=Oc(c,T),0<S.length&&(T=new ov(T,t,null,n,u),d.push({event:T,listeners:S}),b?T.data=b:(b=o0(n),b!==null&&(T.data=b)))),(b=YI?XI(t,n):JI(t,n))&&(c=Oc(c,"onBeforeInput"),0<c.length&&(u=new ov("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=b))}y0(d,e)})}function ka(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Oc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ca(t,n),i!=null&&r.unshift(ka(t,i,s)),i=Ca(t,e),i!=null&&r.push(ka(t,i,s))),t=t.return}return r}function di(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ca(n,i),l!=null&&o.unshift(ka(n,l,a))):s||(l=Ca(n,i),l!=null&&o.push(ka(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fN=/\r\n?/g,hN=/\u0000|\uFFFD/g;function _v(t){return(typeof t=="string"?t:""+t).replace(fN,`
`).replace(hN,"")}function jl(t,e,n){if(e=_v(e),_v(t)!==e&&n)throw Error(k(425))}function Dc(){}var nh=null,rh=null;function sh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ih=typeof setTimeout=="function"?setTimeout:void 0,pN=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,mN=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(t){return wv.resolve(null).then(t).catch(gN)}:ih;function gN(t){setTimeout(function(){throw t})}function Gd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ta(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ta(e)}function Ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wo=Math.random().toString(36).slice(2),Nn="__reactFiber$"+wo,Ra="__reactProps$"+wo,Zn="__reactContainer$"+wo,oh="__reactEvents$"+wo,vN="__reactListeners$"+wo,yN="__reactHandles$"+wo;function Cs(t){var e=t[Nn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zn]||n[Nn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xv(t);t!==null;){if(n=t[Nn])return n;t=xv(t)}return e}t=n,n=t.parentNode}return null}function al(t){return t=t[Nn]||t[Zn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ci(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function Au(t){return t[Ra]||null}var ah=[],Si=-1;function os(t){return{current:t}}function Te(t){0>Si||(t.current=ah[Si],ah[Si]=null,Si--)}function we(t,e){Si++,ah[Si]=t.current,t.current=e}var Zr={},lt=os(Zr),St=os(!1),js=Zr;function to(t,e){var n=t.type.contextTypes;if(!n)return Zr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function bt(t){return t=t.childContextTypes,t!=null}function Mc(){Te(St),Te(lt)}function Ev(t,e,n){if(lt.current!==Zr)throw Error(k(168));we(lt,e),we(St,n)}function w0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(k(108,nI(t)||"Unknown",s));return Re({},n,r)}function Lc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zr,js=lt.current,we(lt,t),we(St,St.current),!0}function Cv(t,e,n){var r=t.stateNode;if(!r)throw Error(k(169));n?(t=w0(t,e,js),r.__reactInternalMemoizedMergedChildContext=t,Te(St),Te(lt),we(lt,t)):Te(St),we(St,n)}var Bn=null,Ou=!1,Kd=!1;function x0(t){Bn===null?Bn=[t]:Bn.push(t)}function _N(t){Ou=!0,x0(t)}function as(){if(!Kd&&Bn!==null){Kd=!0;var t=0,e=pe;try{var n=Bn;for(pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bn=null,Ou=!1}catch(s){throw Bn!==null&&(Bn=Bn.slice(t+1)),Gw(Np,as),s}finally{pe=e,Kd=!1}}return null}var bi=[],Ti=0,jc=null,Fc=0,zt=[],Bt=0,Fs=null,Vn=1,Hn="";function _s(t,e){bi[Ti++]=Fc,bi[Ti++]=jc,jc=t,Fc=e}function E0(t,e,n){zt[Bt++]=Vn,zt[Bt++]=Hn,zt[Bt++]=Fs,Fs=t;var r=Vn;t=Hn;var s=32-hn(r)-1;r&=~(1<<s),n+=1;var i=32-hn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Vn=1<<32-hn(e)+s|n<<s|r,Hn=i+t}else Vn=1<<i|n<<s|r,Hn=t}function jp(t){t.return!==null&&(_s(t,1),E0(t,1,0))}function Fp(t){for(;t===jc;)jc=bi[--Ti],bi[Ti]=null,Fc=bi[--Ti],bi[Ti]=null;for(;t===Fs;)Fs=zt[--Bt],zt[Bt]=null,Hn=zt[--Bt],zt[Bt]=null,Vn=zt[--Bt],zt[Bt]=null}var Ot=null,At=null,Ne=!1,on=null;function C0(t,e){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ot=t,At=Ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ot=t,At=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fs!==null?{id:Vn,overflow:Hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ot=t,At=null,!0):!1;default:return!1}}function lh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ch(t){if(Ne){var e=At;if(e){var n=e;if(!Sv(t,e)){if(lh(t))throw Error(k(418));e=Ur(n.nextSibling);var r=Ot;e&&Sv(t,e)?C0(r,n):(t.flags=t.flags&-4097|2,Ne=!1,Ot=t)}}else{if(lh(t))throw Error(k(418));t.flags=t.flags&-4097|2,Ne=!1,Ot=t}}}function bv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ot=t}function Fl(t){if(t!==Ot)return!1;if(!Ne)return bv(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sh(t.type,t.memoizedProps)),e&&(e=At)){if(lh(t))throw S0(),Error(k(418));for(;e;)C0(t,e),e=Ur(e.nextSibling)}if(bv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){At=Ur(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}At=null}}else At=Ot?Ur(t.stateNode.nextSibling):null;return!0}function S0(){for(var t=At;t;)t=Ur(t.nextSibling)}function no(){At=Ot=null,Ne=!1}function Up(t){on===null?on=[t]:on.push(t)}var wN=ar.ReactCurrentBatchConfig;function Bo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function Ul(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Tv(t){var e=t._init;return e(t._payload)}function b0(t){function e(g,y){if(t){var w=g.deletions;w===null?(g.deletions=[y],g.flags|=16):w.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=Wr(g,y),g.index=0,g.sibling=null,g}function i(g,y,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<y?(g.flags|=2,y):w):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,w,E){return y===null||y.tag!==6?(y=ef(w,g.mode,E),y.return=g,y):(y=s(y,w),y.return=g,y)}function l(g,y,w,E){var C=w.type;return C===_i?u(g,y,w.props.children,E,w.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===wr&&Tv(C)===y.type)?(E=s(y,w.props),E.ref=Bo(g,y,w),E.return=g,E):(E=hc(w.type,w.key,w.props,null,g.mode,E),E.ref=Bo(g,y,w),E.return=g,E)}function c(g,y,w,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=tf(w,g.mode,E),y.return=g,y):(y=s(y,w.children||[]),y.return=g,y)}function u(g,y,w,E,C){return y===null||y.tag!==7?(y=Ms(w,g.mode,E,C),y.return=g,y):(y=s(y,w),y.return=g,y)}function d(g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ef(""+y,g.mode,w),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Nl:return w=hc(y.type,y.key,y.props,null,g.mode,w),w.ref=Bo(g,null,y),w.return=g,w;case yi:return y=tf(y,g.mode,w),y.return=g,y;case wr:var E=y._init;return d(g,E(y._payload),w)}if(Jo(y)||jo(y))return y=Ms(y,g.mode,w,null),y.return=g,y;Ul(g,y)}return null}function f(g,y,w,E){var C=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(g,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Nl:return w.key===C?l(g,y,w,E):null;case yi:return w.key===C?c(g,y,w,E):null;case wr:return C=w._init,f(g,y,C(w._payload),E)}if(Jo(w)||jo(w))return C!==null?null:u(g,y,w,E,null);Ul(g,w)}return null}function p(g,y,w,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(w)||null,a(y,g,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Nl:return g=g.get(E.key===null?w:E.key)||null,l(y,g,E,C);case yi:return g=g.get(E.key===null?w:E.key)||null,c(y,g,E,C);case wr:var S=E._init;return p(g,y,w,S(E._payload),C)}if(Jo(E)||jo(E))return g=g.get(w)||null,u(y,g,E,C,null);Ul(y,E)}return null}function x(g,y,w,E){for(var C=null,S=null,b=y,T=y=0,A=null;b!==null&&T<w.length;T++){b.index>T?(A=b,b=null):A=b.sibling;var R=f(g,b,w[T],E);if(R===null){b===null&&(b=A);break}t&&b&&R.alternate===null&&e(g,b),y=i(R,y,T),S===null?C=R:S.sibling=R,S=R,b=A}if(T===w.length)return n(g,b),Ne&&_s(g,T),C;if(b===null){for(;T<w.length;T++)b=d(g,w[T],E),b!==null&&(y=i(b,y,T),S===null?C=b:S.sibling=b,S=b);return Ne&&_s(g,T),C}for(b=r(g,b);T<w.length;T++)A=p(b,g,T,w[T],E),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?T:A.key),y=i(A,y,T),S===null?C=A:S.sibling=A,S=A);return t&&b.forEach(function(z){return e(g,z)}),Ne&&_s(g,T),C}function v(g,y,w,E){var C=jo(w);if(typeof C!="function")throw Error(k(150));if(w=C.call(w),w==null)throw Error(k(151));for(var S=C=null,b=y,T=y=0,A=null,R=w.next();b!==null&&!R.done;T++,R=w.next()){b.index>T?(A=b,b=null):A=b.sibling;var z=f(g,b,R.value,E);if(z===null){b===null&&(b=A);break}t&&b&&z.alternate===null&&e(g,b),y=i(z,y,T),S===null?C=z:S.sibling=z,S=z,b=A}if(R.done)return n(g,b),Ne&&_s(g,T),C;if(b===null){for(;!R.done;T++,R=w.next())R=d(g,R.value,E),R!==null&&(y=i(R,y,T),S===null?C=R:S.sibling=R,S=R);return Ne&&_s(g,T),C}for(b=r(g,b);!R.done;T++,R=w.next())R=p(b,g,T,R.value,E),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?T:R.key),y=i(R,y,T),S===null?C=R:S.sibling=R,S=R);return t&&b.forEach(function(L){return e(g,L)}),Ne&&_s(g,T),C}function _(g,y,w,E){if(typeof w=="object"&&w!==null&&w.type===_i&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Nl:e:{for(var C=w.key,S=y;S!==null;){if(S.key===C){if(C=w.type,C===_i){if(S.tag===7){n(g,S.sibling),y=s(S,w.props.children),y.return=g,g=y;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===wr&&Tv(C)===S.type){n(g,S.sibling),y=s(S,w.props),y.ref=Bo(g,S,w),y.return=g,g=y;break e}n(g,S);break}else e(g,S);S=S.sibling}w.type===_i?(y=Ms(w.props.children,g.mode,E,w.key),y.return=g,g=y):(E=hc(w.type,w.key,w.props,null,g.mode,E),E.ref=Bo(g,y,w),E.return=g,g=E)}return o(g);case yi:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(g,y.sibling),y=s(y,w.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=tf(w,g.mode,E),y.return=g,g=y}return o(g);case wr:return S=w._init,_(g,y,S(w._payload),E)}if(Jo(w))return x(g,y,w,E);if(jo(w))return v(g,y,w,E);Ul(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(g,y.sibling),y=s(y,w),y.return=g,g=y):(n(g,y),y=ef(w,g.mode,E),y.return=g,g=y),o(g)):n(g,y)}return _}var ro=b0(!0),T0=b0(!1),Uc=os(null),$c=null,Ii=null,$p=null;function zp(){$p=Ii=$c=null}function Bp(t){var e=Uc.current;Te(Uc),t._currentValue=e}function uh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Li(t,e){$c=t,$p=Ii=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wt=!0),t.firstContext=null)}function Ht(t){var e=t._currentValue;if($p!==t)if(t={context:t,memoizedValue:e,next:null},Ii===null){if($c===null)throw Error(k(308));Ii=t,$c.dependencies={lanes:0,firstContext:t}}else Ii=Ii.next=t;return e}var Ss=null;function Wp(t){Ss===null?Ss=[t]:Ss.push(t)}function I0(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Wp(e)):(n.next=s.next,s.next=n),e.interleaved=n,er(t,r)}function er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xr=!1;function Vp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $r(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,er(t,n)}return s=r.interleaved,s===null?(e.next=e,Wp(r)):(e.next=s.next,s.next=e),r.interleaved=e,er(t,n)}function ac(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pp(t,n)}}function Iv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zc(t,e,n,r){var s=t.updateQueue;xr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,v=a;switch(f=e,p=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){d=x.call(p,d,f);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,f=typeof x=="function"?x.call(p,d,f):x,f==null)break e;d=Re({},d,f);break e;case 2:xr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);$s|=o,t.lanes=o,t.memoizedState=d}}function Nv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(k(191,s));s.call(r)}}}var ll={},An=os(ll),Aa=os(ll),Oa=os(ll);function bs(t){if(t===ll)throw Error(k(174));return t}function Hp(t,e){switch(we(Oa,e),we(Aa,t),we(An,ll),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vf(e,t)}Te(An),we(An,e)}function so(){Te(An),Te(Aa),Te(Oa)}function P0(t){bs(Oa.current);var e=bs(An.current),n=Vf(e,t.type);e!==n&&(we(Aa,t),we(An,n))}function Gp(t){Aa.current===t&&(Te(An),Te(Aa))}var Pe=os(0);function Bc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qd=[];function Kp(){for(var t=0;t<qd.length;t++)qd[t]._workInProgressVersionPrimary=null;qd.length=0}var lc=ar.ReactCurrentDispatcher,Qd=ar.ReactCurrentBatchConfig,Us=0,ke=null,ze=null,Ge=null,Wc=!1,ca=!1,Da=0,xN=0;function rt(){throw Error(k(321))}function qp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gn(t[n],e[n]))return!1;return!0}function Qp(t,e,n,r,s,i){if(Us=i,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lc.current=t===null||t.memoizedState===null?bN:TN,t=n(r,s),ca){i=0;do{if(ca=!1,Da=0,25<=i)throw Error(k(301));i+=1,Ge=ze=null,e.updateQueue=null,lc.current=IN,t=n(r,s)}while(ca)}if(lc.current=Vc,e=ze!==null&&ze.next!==null,Us=0,Ge=ze=ke=null,Wc=!1,e)throw Error(k(300));return t}function Yp(){var t=Da!==0;return Da=0,t}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?ke.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function Gt(){if(ze===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Ge===null?ke.memoizedState:Ge.next;if(e!==null)Ge=e,ze=t;else{if(t===null)throw Error(k(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ge===null?ke.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function Ma(t,e){return typeof e=="function"?e(t):e}function Yd(t){var e=Gt(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Us&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ke.lanes|=u,$s|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,gn(r,e.memoizedState)||(wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ke.lanes|=i,$s|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xd(t){var e=Gt(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);gn(i,e.memoizedState)||(wt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function k0(){}function R0(t,e){var n=ke,r=Gt(),s=e(),i=!gn(r.memoizedState,s);if(i&&(r.memoizedState=s,wt=!0),r=r.queue,Xp(D0.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,La(9,O0.bind(null,n,r,s,e),void 0,null),Qe===null)throw Error(k(349));Us&30||A0(n,e,s)}return s}function A0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function O0(t,e,n,r){e.value=n,e.getSnapshot=r,M0(e)&&L0(t)}function D0(t,e,n){return n(function(){M0(e)&&L0(t)})}function M0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gn(t,n)}catch{return!0}}function L0(t){var e=er(t,1);e!==null&&pn(e,t,1,-1)}function Pv(t){var e=Sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:t},e.queue=t,t=t.dispatch=SN.bind(null,ke,t),[e.memoizedState,t]}function La(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function j0(){return Gt().memoizedState}function cc(t,e,n,r){var s=Sn();ke.flags|=t,s.memoizedState=La(1|e,n,void 0,r===void 0?null:r)}function Du(t,e,n,r){var s=Gt();r=r===void 0?null:r;var i=void 0;if(ze!==null){var o=ze.memoizedState;if(i=o.destroy,r!==null&&qp(r,o.deps)){s.memoizedState=La(e,n,i,r);return}}ke.flags|=t,s.memoizedState=La(1|e,n,i,r)}function kv(t,e){return cc(8390656,8,t,e)}function Xp(t,e){return Du(2048,8,t,e)}function F0(t,e){return Du(4,2,t,e)}function U0(t,e){return Du(4,4,t,e)}function $0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function z0(t,e,n){return n=n!=null?n.concat([t]):null,Du(4,4,$0.bind(null,e,t),n)}function Jp(){}function B0(t,e){var n=Gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function W0(t,e){var n=Gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function V0(t,e,n){return Us&21?(gn(n,e)||(n=Qw(),ke.lanes|=n,$s|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=n)}function EN(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var r=Qd.transition;Qd.transition={};try{t(!1),e()}finally{pe=n,Qd.transition=r}}function H0(){return Gt().memoizedState}function CN(t,e,n){var r=Br(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},G0(t))K0(e,n);else if(n=I0(t,e,n,r),n!==null){var s=ht();pn(n,t,r,s),q0(n,e,r)}}function SN(t,e,n){var r=Br(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(G0(t))K0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,gn(a,o)){var l=e.interleaved;l===null?(s.next=s,Wp(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=I0(t,e,s,r),n!==null&&(s=ht(),pn(n,t,r,s),q0(n,e,r))}}function G0(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function K0(t,e){ca=Wc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function q0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pp(t,n)}}var Vc={readContext:Ht,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},bN={readContext:Ht,useCallback:function(t,e){return Sn().memoizedState=[t,e===void 0?null:e],t},useContext:Ht,useEffect:kv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cc(4194308,4,$0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cc(4194308,4,t,e)},useInsertionEffect:function(t,e){return cc(4,2,t,e)},useMemo:function(t,e){var n=Sn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=CN.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=Sn();return t={current:t},e.memoizedState=t},useState:Pv,useDebugValue:Jp,useDeferredValue:function(t){return Sn().memoizedState=t},useTransition:function(){var t=Pv(!1),e=t[0];return t=EN.bind(null,t[1]),Sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ke,s=Sn();if(Ne){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),Qe===null)throw Error(k(349));Us&30||A0(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,kv(D0.bind(null,r,i,t),[t]),r.flags|=2048,La(9,O0.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Sn(),e=Qe.identifierPrefix;if(Ne){var n=Hn,r=Vn;n=(r&~(1<<32-hn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Da++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},TN={readContext:Ht,useCallback:B0,useContext:Ht,useEffect:Xp,useImperativeHandle:z0,useInsertionEffect:F0,useLayoutEffect:U0,useMemo:W0,useReducer:Yd,useRef:j0,useState:function(){return Yd(Ma)},useDebugValue:Jp,useDeferredValue:function(t){var e=Gt();return V0(e,ze.memoizedState,t)},useTransition:function(){var t=Yd(Ma)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:k0,useSyncExternalStore:R0,useId:H0,unstable_isNewReconciler:!1},IN={readContext:Ht,useCallback:B0,useContext:Ht,useEffect:Xp,useImperativeHandle:z0,useInsertionEffect:F0,useLayoutEffect:U0,useMemo:W0,useReducer:Xd,useRef:j0,useState:function(){return Xd(Ma)},useDebugValue:Jp,useDeferredValue:function(t){var e=Gt();return ze===null?e.memoizedState=t:V0(e,ze.memoizedState,t)},useTransition:function(){var t=Xd(Ma)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:k0,useSyncExternalStore:R0,useId:H0,unstable_isNewReconciler:!1};function en(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function dh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mu={isMounted:function(t){return(t=t._reactInternals)?ei(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ht(),s=Br(t),i=Qn(r,s);i.payload=e,n!=null&&(i.callback=n),e=$r(t,i,s),e!==null&&(pn(e,t,s,r),ac(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ht(),s=Br(t),i=Qn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=$r(t,i,s),e!==null&&(pn(e,t,s,r),ac(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ht(),r=Br(t),s=Qn(n,r);s.tag=2,e!=null&&(s.callback=e),e=$r(t,s,r),e!==null&&(pn(e,t,r,n),ac(e,t,r))}};function Rv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Na(n,r)||!Na(s,i):!0}function Q0(t,e,n){var r=!1,s=Zr,i=e.contextType;return typeof i=="object"&&i!==null?i=Ht(i):(s=bt(e)?js:lt.current,r=e.contextTypes,i=(r=r!=null)?to(t,s):Zr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Av(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mu.enqueueReplaceState(e,e.state,null)}function fh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Vp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ht(i):(i=bt(e)?js:lt.current,s.context=to(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(dh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Mu.enqueueReplaceState(s,s.state,null),zc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function io(t,e){try{var n="",r=e;do n+=tI(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Jd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var NN=typeof WeakMap=="function"?WeakMap:Map;function Y0(t,e,n){n=Qn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gc||(Gc=!0,Ch=r),hh(t,e)},n}function X0(t,e,n){n=Qn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){hh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hh(t,e),typeof r!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ov(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new NN;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=BN.bind(null,t,e,n),e.then(t,t))}function Dv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Mv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qn(-1,1),e.tag=2,$r(n,e,1))),n.lanes|=1),t)}var PN=ar.ReactCurrentOwner,wt=!1;function ut(t,e,n,r){e.child=t===null?T0(e,null,n,r):ro(e,t.child,n,r)}function Lv(t,e,n,r,s){n=n.render;var i=e.ref;return Li(e,s),r=Qp(t,e,n,r,i,s),n=Yp(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,tr(t,e,s)):(Ne&&n&&jp(e),e.flags|=1,ut(t,e,r,s),e.child)}function jv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!om(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,J0(t,e,i,r,s)):(t=hc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Na,n(o,r)&&t.ref===e.ref)return tr(t,e,s)}return e.flags|=1,t=Wr(i,r),t.ref=e.ref,t.return=e,e.child=t}function J0(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Na(i,r)&&t.ref===e.ref)if(wt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(wt=!0);else return e.lanes=t.lanes,tr(t,e,s)}return ph(t,e,n,r,s)}function Z0(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Pi,Pt),Pt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(Pi,Pt),Pt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,we(Pi,Pt),Pt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,we(Pi,Pt),Pt|=r;return ut(t,e,s,n),e.child}function ex(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ph(t,e,n,r,s){var i=bt(n)?js:lt.current;return i=to(e,i),Li(e,s),n=Qp(t,e,n,r,i,s),r=Yp(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,tr(t,e,s)):(Ne&&r&&jp(e),e.flags|=1,ut(t,e,n,s),e.child)}function Fv(t,e,n,r,s){if(bt(n)){var i=!0;Lc(e)}else i=!1;if(Li(e,s),e.stateNode===null)uc(t,e),Q0(e,n,r),fh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ht(c):(c=bt(n)?js:lt.current,c=to(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Av(e,o,r,c),xr=!1;var f=e.memoizedState;o.state=f,zc(e,r,o,s),l=e.memoizedState,a!==r||f!==l||St.current||xr?(typeof u=="function"&&(dh(e,n,u,r),l=e.memoizedState),(a=xr||Rv(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,N0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:en(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ht(l):(l=bt(n)?js:lt.current,l=to(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Av(e,o,r,l),xr=!1,f=e.memoizedState,o.state=f,zc(e,r,o,s);var x=e.memoizedState;a!==d||f!==x||St.current||xr?(typeof p=="function"&&(dh(e,n,p,r),x=e.memoizedState),(c=xr||Rv(e,n,c,r,f,x,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return mh(t,e,n,r,i,s)}function mh(t,e,n,r,s,i){ex(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Cv(e,n,!1),tr(t,e,i);r=e.stateNode,PN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ro(e,t.child,null,i),e.child=ro(e,null,a,i)):ut(t,e,a,i),e.memoizedState=r.state,s&&Cv(e,n,!0),e.child}function tx(t){var e=t.stateNode;e.pendingContext?Ev(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ev(t,e.context,!1),Hp(t,e.containerInfo)}function Uv(t,e,n,r,s){return no(),Up(s),e.flags|=256,ut(t,e,n,r),e.child}var gh={dehydrated:null,treeContext:null,retryLane:0};function vh(t){return{baseLanes:t,cachePool:null,transitions:null}}function nx(t,e,n){var r=e.pendingProps,s=Pe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),we(Pe,s&1),t===null)return ch(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Fu(o,r,0,null),t=Ms(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=vh(n),e.memoizedState=gh,t):Zp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return kN(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Wr(a,i):(i=Ms(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?vh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=gh,r}return i=t.child,t=i.sibling,r=Wr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zp(t,e){return e=Fu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $l(t,e,n,r){return r!==null&&Up(r),ro(e,t.child,null,n),t=Zp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kN(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Jd(Error(k(422))),$l(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Fu({mode:"visible",children:r.children},s,0,null),i=Ms(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ro(e,t.child,null,o),e.child.memoizedState=vh(o),e.memoizedState=gh,i);if(!(e.mode&1))return $l(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(k(419)),r=Jd(i,r,void 0),$l(t,e,o,r)}if(a=(o&t.childLanes)!==0,wt||a){if(r=Qe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,er(t,s),pn(r,t,s,-1))}return im(),r=Jd(Error(k(421))),$l(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=WN.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,At=Ur(s.nextSibling),Ot=e,Ne=!0,on=null,t!==null&&(zt[Bt++]=Vn,zt[Bt++]=Hn,zt[Bt++]=Fs,Vn=t.id,Hn=t.overflow,Fs=e),e=Zp(e,r.children),e.flags|=4096,e)}function $v(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),uh(t.return,e,n)}function Zd(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function rx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ut(t,e,r.children,n),r=Pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$v(t,n,e);else if(t.tag===19)$v(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(Pe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Bc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Zd(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Bc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Zd(e,!0,n,null,i);break;case"together":Zd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$s|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=Wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function RN(t,e,n){switch(e.tag){case 3:tx(e),no();break;case 5:P0(e);break;case 1:bt(e.type)&&Lc(e);break;case 4:Hp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;we(Uc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we(Pe,Pe.current&1),e.flags|=128,null):n&e.child.childLanes?nx(t,e,n):(we(Pe,Pe.current&1),t=tr(t,e,n),t!==null?t.sibling:null);we(Pe,Pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),we(Pe,Pe.current),r)break;return null;case 22:case 23:return e.lanes=0,Z0(t,e,n)}return tr(t,e,n)}var sx,yh,ix,ox;sx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yh=function(){};ix=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,bs(An.current);var i=null;switch(n){case"input":s=$f(t,s),r=$f(t,r),i=[];break;case"select":s=Re({},s,{value:void 0}),r=Re({},r,{value:void 0}),i=[];break;case"textarea":s=Wf(t,s),r=Wf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Dc)}Hf(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xa.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Se("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};ox=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wo(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function st(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AN(t,e,n){var r=e.pendingProps;switch(Fp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(e),null;case 1:return bt(e.type)&&Mc(),st(e),null;case 3:return r=e.stateNode,so(),Te(St),Te(lt),Kp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,on!==null&&(Th(on),on=null))),yh(t,e),st(e),null;case 5:Gp(e);var s=bs(Oa.current);if(n=e.type,t!==null&&e.stateNode!=null)ix(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(k(166));return st(e),null}if(t=bs(An.current),Fl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Nn]=e,r[Ra]=i,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(s=0;s<ea.length;s++)Se(ea[s],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Qg(r,i),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Se("invalid",r);break;case"textarea":Xg(r,i),Se("invalid",r)}Hf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&jl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&jl(r.textContent,a,t),s=["children",""+a]):xa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":Pl(r),Yg(r,i,!0);break;case"textarea":Pl(r),Jg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Dc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Dw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Nn]=e,t[Ra]=r,sx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Gf(n,r),n){case"dialog":Se("cancel",t),Se("close",t),s=r;break;case"iframe":case"object":case"embed":Se("load",t),s=r;break;case"video":case"audio":for(s=0;s<ea.length;s++)Se(ea[s],t);s=r;break;case"source":Se("error",t),s=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),s=r;break;case"details":Se("toggle",t),s=r;break;case"input":Qg(t,r),s=$f(t,r),Se("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Re({},r,{value:void 0}),Se("invalid",t);break;case"textarea":Xg(t,r),s=Wf(t,r),Se("invalid",t);break;default:s=r}Hf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?jw(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Mw(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ea(t,l):typeof l=="number"&&Ea(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xa.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Se("scroll",t):l!=null&&Cp(t,i,l,o))}switch(n){case"input":Pl(t),Yg(t,r,!1);break;case"textarea":Pl(t),Jg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ai(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ai(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Dc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return st(e),null;case 6:if(t&&e.stateNode!=null)ox(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(k(166));if(n=bs(Oa.current),bs(An.current),Fl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nn]=e,(i=r.nodeValue!==n)&&(t=Ot,t!==null))switch(t.tag){case 3:jl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nn]=e,e.stateNode=r}return st(e),null;case 13:if(Te(Pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&At!==null&&e.mode&1&&!(e.flags&128))S0(),no(),e.flags|=98560,i=!1;else if(i=Fl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(k(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[Nn]=e}else no(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;st(e),i=!1}else on!==null&&(Th(on),on=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?Ve===0&&(Ve=3):im())),e.updateQueue!==null&&(e.flags|=4),st(e),null);case 4:return so(),yh(t,e),t===null&&Pa(e.stateNode.containerInfo),st(e),null;case 10:return Bp(e.type._context),st(e),null;case 17:return bt(e.type)&&Mc(),st(e),null;case 19:if(Te(Pe),i=e.memoizedState,i===null)return st(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Wo(i,!1);else{if(Ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bc(t),o!==null){for(e.flags|=128,Wo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(Pe,Pe.current&1|2),e.child}t=t.sibling}i.tail!==null&&je()>oo&&(e.flags|=128,r=!0,Wo(i,!1),e.lanes=4194304)}else{if(!r)if(t=Bc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ne)return st(e),null}else 2*je()-i.renderingStartTime>oo&&n!==1073741824&&(e.flags|=128,r=!0,Wo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=je(),e.sibling=null,n=Pe.current,we(Pe,r?n&1|2:n&1),e):(st(e),null);case 22:case 23:return sm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pt&1073741824&&(st(e),e.subtreeFlags&6&&(e.flags|=8192)):st(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function ON(t,e){switch(Fp(e),e.tag){case 1:return bt(e.type)&&Mc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return so(),Te(St),Te(lt),Kp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gp(e),null;case 13:if(Te(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));no()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(Pe),null;case 4:return so(),null;case 10:return Bp(e.type._context),null;case 22:case 23:return sm(),null;case 24:return null;default:return null}}var zl=!1,ot=!1,DN=typeof WeakSet=="function"?WeakSet:Set,$=null;function Ni(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function _h(t,e,n){try{n()}catch(r){Me(t,e,r)}}var zv=!1;function MN(t,e){if(nh=Rc,t=d0(),Lp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rh={focusedElem:t,selectionRange:n},Rc=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,_=x.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:en(e.type,v),_);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(E){Me(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return x=zv,zv=!1,x}function ua(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&_h(e,n,i)}s=s.next}while(s!==r)}}function Lu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ax(t){var e=t.alternate;e!==null&&(t.alternate=null,ax(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nn],delete e[Ra],delete e[oh],delete e[vN],delete e[yN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lx(t){return t.tag===5||t.tag===3||t.tag===4}function Bv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Dc));else if(r!==4&&(t=t.child,t!==null))for(xh(t,e,n),t=t.sibling;t!==null;)xh(t,e,n),t=t.sibling}function Eh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Eh(t,e,n),t=t.sibling;t!==null;)Eh(t,e,n),t=t.sibling}var Ye=null,sn=!1;function pr(t,e,n){for(n=n.child;n!==null;)cx(t,e,n),n=n.sibling}function cx(t,e,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Nu,n)}catch{}switch(n.tag){case 5:ot||Ni(n,e);case 6:var r=Ye,s=sn;Ye=null,pr(t,e,n),Ye=r,sn=s,Ye!==null&&(sn?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(sn?(t=Ye,n=n.stateNode,t.nodeType===8?Gd(t.parentNode,n):t.nodeType===1&&Gd(t,n),Ta(t)):Gd(Ye,n.stateNode));break;case 4:r=Ye,s=sn,Ye=n.stateNode.containerInfo,sn=!0,pr(t,e,n),Ye=r,sn=s;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_h(n,e,o),s=s.next}while(s!==r)}pr(t,e,n);break;case 1:if(!ot&&(Ni(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Me(n,e,a)}pr(t,e,n);break;case 21:pr(t,e,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,pr(t,e,n),ot=r):pr(t,e,n);break;default:pr(t,e,n)}}function Wv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DN),e.forEach(function(r){var s=VN.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ye=a.stateNode,sn=!1;break e;case 3:Ye=a.stateNode.containerInfo,sn=!0;break e;case 4:Ye=a.stateNode.containerInfo,sn=!0;break e}a=a.return}if(Ye===null)throw Error(k(160));cx(i,o,s),Ye=null,sn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Me(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ux(e,t),e=e.sibling}function ux(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xt(e,t),Cn(t),r&4){try{ua(3,t,t.return),Lu(3,t)}catch(v){Me(t,t.return,v)}try{ua(5,t,t.return)}catch(v){Me(t,t.return,v)}}break;case 1:Xt(e,t),Cn(t),r&512&&n!==null&&Ni(n,n.return);break;case 5:if(Xt(e,t),Cn(t),r&512&&n!==null&&Ni(n,n.return),t.flags&32){var s=t.stateNode;try{Ea(s,"")}catch(v){Me(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Aw(s,i),Gf(a,o);var c=Gf(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?jw(s,d):u==="dangerouslySetInnerHTML"?Mw(s,d):u==="children"?Ea(s,d):Cp(s,u,d,c)}switch(a){case"input":zf(s,i);break;case"textarea":Ow(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ai(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ai(s,!!i.multiple,i.defaultValue,!0):Ai(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ra]=i}catch(v){Me(t,t.return,v)}}break;case 6:if(Xt(e,t),Cn(t),r&4){if(t.stateNode===null)throw Error(k(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Me(t,t.return,v)}}break;case 3:if(Xt(e,t),Cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ta(e.containerInfo)}catch(v){Me(t,t.return,v)}break;case 4:Xt(e,t),Cn(t);break;case 13:Xt(e,t),Cn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nm=je())),r&4&&Wv(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(ot=(c=ot)||u,Xt(e,t),ot=c):Xt(e,t),Cn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for($=t,u=t.child;u!==null;){for(d=$=u;$!==null;){switch(f=$,p=f.child,f.tag){case 0:case 11:case 14:case 15:ua(4,f,f.return);break;case 1:Ni(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(v){Me(r,n,v)}}break;case 5:Ni(f,f.return);break;case 22:if(f.memoizedState!==null){Hv(d);continue}}p!==null?(p.return=f,$=p):Hv(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Lw("display",o))}catch(v){Me(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Me(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xt(e,t),Cn(t),r&4&&Wv(t);break;case 21:break;default:Xt(e,t),Cn(t)}}function Cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lx(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ea(s,""),r.flags&=-33);var i=Bv(t);Eh(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Bv(t);xh(t,a,o);break;default:throw Error(k(161))}}catch(l){Me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LN(t,e,n){$=t,dx(t)}function dx(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||zl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ot;a=zl;var c=ot;if(zl=o,(ot=l)&&!c)for($=s;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?Gv(s):l!==null?(l.return=o,$=l):Gv(s);for(;i!==null;)$=i,dx(i),i=i.sibling;$=s,zl=a,ot=c}Vv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):Vv(t)}}function Vv(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ot||Lu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ot)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:en(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Nv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ta(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}ot||e.flags&512&&wh(e)}catch(f){Me(e,e.return,f)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function Hv(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function Gv(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lu(4,e)}catch(l){Me(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Me(e,s,l)}}var i=e.return;try{wh(e)}catch(l){Me(e,i,l)}break;case 5:var o=e.return;try{wh(e)}catch(l){Me(e,o,l)}}}catch(l){Me(e,e.return,l)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var jN=Math.ceil,Hc=ar.ReactCurrentDispatcher,em=ar.ReactCurrentOwner,Vt=ar.ReactCurrentBatchConfig,le=0,Qe=null,$e=null,Xe=0,Pt=0,Pi=os(0),Ve=0,ja=null,$s=0,ju=0,tm=0,da=null,_t=null,nm=0,oo=1/0,zn=null,Gc=!1,Ch=null,zr=null,Bl=!1,Dr=null,Kc=0,fa=0,Sh=null,dc=-1,fc=0;function ht(){return le&6?je():dc!==-1?dc:dc=je()}function Br(t){return t.mode&1?le&2&&Xe!==0?Xe&-Xe:wN.transition!==null?(fc===0&&(fc=Qw()),fc):(t=pe,t!==0||(t=window.event,t=t===void 0?16:n0(t.type)),t):1}function pn(t,e,n,r){if(50<fa)throw fa=0,Sh=null,Error(k(185));il(t,n,r),(!(le&2)||t!==Qe)&&(t===Qe&&(!(le&2)&&(ju|=n),Ve===4&&Cr(t,Xe)),Tt(t,r),n===1&&le===0&&!(e.mode&1)&&(oo=je()+500,Ou&&as()))}function Tt(t,e){var n=t.callbackNode;wI(t,e);var r=kc(t,t===Qe?Xe:0);if(r===0)n!==null&&tv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tv(n),e===1)t.tag===0?_N(Kv.bind(null,t)):x0(Kv.bind(null,t)),mN(function(){!(le&6)&&as()}),n=null;else{switch(Yw(r)){case 1:n=Np;break;case 4:n=Kw;break;case 16:n=Pc;break;case 536870912:n=qw;break;default:n=Pc}n=_x(n,fx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fx(t,e){if(dc=-1,fc=0,le&6)throw Error(k(327));var n=t.callbackNode;if(ji()&&t.callbackNode!==n)return null;var r=kc(t,t===Qe?Xe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qc(t,r);else{e=r;var s=le;le|=2;var i=px();(Qe!==t||Xe!==e)&&(zn=null,oo=je()+500,Ds(t,e));do try{$N();break}catch(a){hx(t,a)}while(!0);zp(),Hc.current=i,le=s,$e!==null?e=0:(Qe=null,Xe=0,e=Ve)}if(e!==0){if(e===2&&(s=Xf(t),s!==0&&(r=s,e=bh(t,s))),e===1)throw n=ja,Ds(t,0),Cr(t,r),Tt(t,je()),n;if(e===6)Cr(t,r);else{if(s=t.current.alternate,!(r&30)&&!FN(s)&&(e=qc(t,r),e===2&&(i=Xf(t),i!==0&&(r=i,e=bh(t,i))),e===1))throw n=ja,Ds(t,0),Cr(t,r),Tt(t,je()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(k(345));case 2:ws(t,_t,zn);break;case 3:if(Cr(t,r),(r&130023424)===r&&(e=nm+500-je(),10<e)){if(kc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ht(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ih(ws.bind(null,t,_t,zn),e);break}ws(t,_t,zn);break;case 4:if(Cr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-hn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jN(r/1960))-r,10<r){t.timeoutHandle=ih(ws.bind(null,t,_t,zn),r);break}ws(t,_t,zn);break;case 5:ws(t,_t,zn);break;default:throw Error(k(329))}}}return Tt(t,je()),t.callbackNode===n?fx.bind(null,t):null}function bh(t,e){var n=da;return t.current.memoizedState.isDehydrated&&(Ds(t,e).flags|=256),t=qc(t,e),t!==2&&(e=_t,_t=n,e!==null&&Th(e)),t}function Th(t){_t===null?_t=t:_t.push.apply(_t,t)}function FN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cr(t,e){for(e&=~tm,e&=~ju,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hn(e),r=1<<n;t[n]=-1,e&=~r}}function Kv(t){if(le&6)throw Error(k(327));ji();var e=kc(t,0);if(!(e&1))return Tt(t,je()),null;var n=qc(t,e);if(t.tag!==0&&n===2){var r=Xf(t);r!==0&&(e=r,n=bh(t,r))}if(n===1)throw n=ja,Ds(t,0),Cr(t,e),Tt(t,je()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ws(t,_t,zn),Tt(t,je()),null}function rm(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(oo=je()+500,Ou&&as())}}function zs(t){Dr!==null&&Dr.tag===0&&!(le&6)&&ji();var e=le;le|=1;var n=Vt.transition,r=pe;try{if(Vt.transition=null,pe=1,t)return t()}finally{pe=r,Vt.transition=n,le=e,!(le&6)&&as()}}function sm(){Pt=Pi.current,Te(Pi)}function Ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pN(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(Fp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mc();break;case 3:so(),Te(St),Te(lt),Kp();break;case 5:Gp(r);break;case 4:so();break;case 13:Te(Pe);break;case 19:Te(Pe);break;case 10:Bp(r.type._context);break;case 22:case 23:sm()}n=n.return}if(Qe=t,$e=t=Wr(t.current,null),Xe=Pt=e,Ve=0,ja=null,tm=ju=$s=0,_t=da=null,Ss!==null){for(e=0;e<Ss.length;e++)if(n=Ss[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ss=null}return t}function hx(t,e){do{var n=$e;try{if(zp(),lc.current=Vc,Wc){for(var r=ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wc=!1}if(Us=0,Ge=ze=ke=null,ca=!1,Da=0,em.current=null,n===null||n.return===null){Ve=1,ja=e,$e=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Xe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Dv(o);if(p!==null){p.flags&=-257,Mv(p,o,a,i,e),p.mode&1&&Ov(i,c,e),e=p,l=c;var x=e.updateQueue;if(x===null){var v=new Set;v.add(l),e.updateQueue=v}else x.add(l);break e}else{if(!(e&1)){Ov(i,c,e),im();break e}l=Error(k(426))}}else if(Ne&&a.mode&1){var _=Dv(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Mv(_,o,a,i,e),Up(io(l,a));break e}}i=l=io(l,a),Ve!==4&&(Ve=2),da===null?da=[i]:da.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Y0(i,l,e);Iv(i,g);break e;case 1:a=l;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(zr===null||!zr.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=X0(i,a,e);Iv(i,E);break e}}i=i.return}while(i!==null)}gx(n)}catch(C){e=C,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function px(){var t=Hc.current;return Hc.current=Vc,t===null?Vc:t}function im(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Qe===null||!($s&268435455)&&!(ju&268435455)||Cr(Qe,Xe)}function qc(t,e){var n=le;le|=2;var r=px();(Qe!==t||Xe!==e)&&(zn=null,Ds(t,e));do try{UN();break}catch(s){hx(t,s)}while(!0);if(zp(),le=n,Hc.current=r,$e!==null)throw Error(k(261));return Qe=null,Xe=0,Ve}function UN(){for(;$e!==null;)mx($e)}function $N(){for(;$e!==null&&!dI();)mx($e)}function mx(t){var e=yx(t.alternate,t,Pt);t.memoizedProps=t.pendingProps,e===null?gx(t):$e=e,em.current=null}function gx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ON(n,e),n!==null){n.flags&=32767,$e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ve=6,$e=null;return}}else if(n=AN(n,e,Pt),n!==null){$e=n;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);Ve===0&&(Ve=5)}function ws(t,e,n){var r=pe,s=Vt.transition;try{Vt.transition=null,pe=1,zN(t,e,n,r)}finally{Vt.transition=s,pe=r}return null}function zN(t,e,n,r){do ji();while(Dr!==null);if(le&6)throw Error(k(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(xI(t,i),t===Qe&&($e=Qe=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bl||(Bl=!0,_x(Pc,function(){return ji(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vt.transition,Vt.transition=null;var o=pe;pe=1;var a=le;le|=4,em.current=null,MN(t,n),ux(n,t),aN(rh),Rc=!!nh,rh=nh=null,t.current=n,LN(n),fI(),le=a,pe=o,Vt.transition=i}else t.current=n;if(Bl&&(Bl=!1,Dr=t,Kc=s),i=t.pendingLanes,i===0&&(zr=null),mI(n.stateNode),Tt(t,je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Gc)throw Gc=!1,t=Ch,Ch=null,t;return Kc&1&&t.tag!==0&&ji(),i=t.pendingLanes,i&1?t===Sh?fa++:(fa=0,Sh=t):fa=0,as(),null}function ji(){if(Dr!==null){var t=Yw(Kc),e=Vt.transition,n=pe;try{if(Vt.transition=null,pe=16>t?16:t,Dr===null)var r=!1;else{if(t=Dr,Dr=null,Kc=0,le&6)throw Error(k(331));var s=le;for(le|=4,$=t.current;$!==null;){var i=$,o=i.child;if($.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for($=c;$!==null;){var u=$;switch(u.tag){case 0:case 11:case 15:ua(8,u,i)}var d=u.child;if(d!==null)d.return=u,$=d;else for(;$!==null;){u=$;var f=u.sibling,p=u.return;if(ax(u),u===c){$=null;break}if(f!==null){f.return=p,$=f;break}$=p}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ua(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,$=g;break e}$=i.return}}var y=t.current;for($=y;$!==null;){o=$;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,$=w;else e:for(o=y;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Lu(9,a)}}catch(C){Me(a,a.return,C)}if(a===o){$=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,$=E;break e}$=a.return}}if(le=s,as(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Nu,t)}catch{}r=!0}return r}finally{pe=n,Vt.transition=e}}return!1}function qv(t,e,n){e=io(n,e),e=Y0(t,e,1),t=$r(t,e,1),e=ht(),t!==null&&(il(t,1,e),Tt(t,e))}function Me(t,e,n){if(t.tag===3)qv(t,t,n);else for(;e!==null;){if(e.tag===3){qv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zr===null||!zr.has(r))){t=io(n,t),t=X0(e,t,1),e=$r(e,t,1),t=ht(),e!==null&&(il(e,1,t),Tt(e,t));break}}e=e.return}}function BN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ht(),t.pingedLanes|=t.suspendedLanes&n,Qe===t&&(Xe&n)===n&&(Ve===4||Ve===3&&(Xe&130023424)===Xe&&500>je()-nm?Ds(t,0):tm|=n),Tt(t,e)}function vx(t,e){e===0&&(t.mode&1?(e=Al,Al<<=1,!(Al&130023424)&&(Al=4194304)):e=1);var n=ht();t=er(t,e),t!==null&&(il(t,e,n),Tt(t,n))}function WN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vx(t,n)}function VN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(e),vx(t,n)}var yx;yx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wt=!1,RN(t,e,n);wt=!!(t.flags&131072)}else wt=!1,Ne&&e.flags&1048576&&E0(e,Fc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;uc(t,e),t=e.pendingProps;var s=to(e,lt.current);Li(e,n),s=Qp(null,e,r,t,s,n);var i=Yp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bt(r)?(i=!0,Lc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vp(e),s.updater=Mu,e.stateNode=s,s._reactInternals=e,fh(e,r,t,n),e=mh(null,e,r,!0,i,n)):(e.tag=0,Ne&&i&&jp(e),ut(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(uc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=GN(r),t=en(r,t),s){case 0:e=ph(null,e,r,t,n);break e;case 1:e=Fv(null,e,r,t,n);break e;case 11:e=Lv(null,e,r,t,n);break e;case 14:e=jv(null,e,r,en(r.type,t),n);break e}throw Error(k(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:en(r,s),ph(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:en(r,s),Fv(t,e,r,s,n);case 3:e:{if(tx(e),t===null)throw Error(k(387));r=e.pendingProps,i=e.memoizedState,s=i.element,N0(t,e),zc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=io(Error(k(423)),e),e=Uv(t,e,r,n,s);break e}else if(r!==s){s=io(Error(k(424)),e),e=Uv(t,e,r,n,s);break e}else for(At=Ur(e.stateNode.containerInfo.firstChild),Ot=e,Ne=!0,on=null,n=T0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(no(),r===s){e=tr(t,e,n);break e}ut(t,e,r,n)}e=e.child}return e;case 5:return P0(e),t===null&&ch(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,sh(r,s)?o=null:i!==null&&sh(r,i)&&(e.flags|=32),ex(t,e),ut(t,e,o,n),e.child;case 6:return t===null&&ch(e),null;case 13:return nx(t,e,n);case 4:return Hp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ro(e,null,r,n):ut(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:en(r,s),Lv(t,e,r,s,n);case 7:return ut(t,e,e.pendingProps,n),e.child;case 8:return ut(t,e,e.pendingProps.children,n),e.child;case 12:return ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,we(Uc,r._currentValue),r._currentValue=o,i!==null)if(gn(i.value,o)){if(i.children===s.children&&!St.current){e=tr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Qn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),uh(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(k(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),uh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ut(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Li(e,n),s=Ht(s),r=r(s),e.flags|=1,ut(t,e,r,n),e.child;case 14:return r=e.type,s=en(r,e.pendingProps),s=en(r.type,s),jv(t,e,r,s,n);case 15:return J0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:en(r,s),uc(t,e),e.tag=1,bt(r)?(t=!0,Lc(e)):t=!1,Li(e,n),Q0(e,r,s),fh(e,r,s,n),mh(null,e,r,!0,t,n);case 19:return rx(t,e,n);case 22:return Z0(t,e,n)}throw Error(k(156,e.tag))};function _x(t,e){return Gw(t,e)}function HN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,e,n,r){return new HN(t,e,n,r)}function om(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GN(t){if(typeof t=="function")return om(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bp)return 11;if(t===Tp)return 14}return 2}function Wr(t,e){var n=t.alternate;return n===null?(n=Wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function hc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")om(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _i:return Ms(n.children,s,i,e);case Sp:o=8,s|=8;break;case Lf:return t=Wt(12,n,e,s|2),t.elementType=Lf,t.lanes=i,t;case jf:return t=Wt(13,n,e,s),t.elementType=jf,t.lanes=i,t;case Ff:return t=Wt(19,n,e,s),t.elementType=Ff,t.lanes=i,t;case Pw:return Fu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Iw:o=10;break e;case Nw:o=9;break e;case bp:o=11;break e;case Tp:o=14;break e;case wr:o=16,r=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=Wt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ms(t,e,n,r){return t=Wt(7,t,r,e),t.lanes=n,t}function Fu(t,e,n,r){return t=Wt(22,t,r,e),t.elementType=Pw,t.lanes=n,t.stateNode={isHidden:!1},t}function ef(t,e,n){return t=Wt(6,t,null,e),t.lanes=n,t}function tf(t,e,n){return e=Wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function KN(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Md(0),this.expirationTimes=Md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Md(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function am(t,e,n,r,s,i,o,a,l){return t=new KN(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Wt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vp(i),t}function qN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wx(t){if(!t)return Zr;t=t._reactInternals;e:{if(ei(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(bt(n))return w0(t,n,e)}return e}function xx(t,e,n,r,s,i,o,a,l){return t=am(n,r,!0,t,s,i,o,a,l),t.context=wx(null),n=t.current,r=ht(),s=Br(n),i=Qn(r,s),i.callback=e??null,$r(n,i,s),t.current.lanes=s,il(t,s,r),Tt(t,r),t}function Uu(t,e,n,r){var s=e.current,i=ht(),o=Br(s);return n=wx(n),e.context===null?e.context=n:e.pendingContext=n,e=Qn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$r(s,e,o),t!==null&&(pn(t,s,o,i),ac(t,s,o)),o}function Qc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lm(t,e){Qv(t,e),(t=t.alternate)&&Qv(t,e)}function QN(){return null}var Ex=typeof reportError=="function"?reportError:function(t){console.error(t)};function cm(t){this._internalRoot=t}$u.prototype.render=cm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));Uu(t,e,null,null)};$u.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zs(function(){Uu(null,t,null,null)}),e[Zn]=null}};function $u(t){this._internalRoot=t}$u.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Er.length&&e!==0&&e<Er[n].priority;n++);Er.splice(n,0,t),n===0&&t0(t)}};function um(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yv(){}function YN(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Qc(o);i.call(c)}}var o=xx(e,r,t,0,null,!1,!1,"",Yv);return t._reactRootContainer=o,t[Zn]=o.current,Pa(t.nodeType===8?t.parentNode:t),zs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Qc(l);a.call(c)}}var l=am(t,0,!1,null,null,!1,!1,"",Yv);return t._reactRootContainer=l,t[Zn]=l.current,Pa(t.nodeType===8?t.parentNode:t),zs(function(){Uu(e,l,n,r)}),l}function Bu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Qc(o);a.call(l)}}Uu(e,o,t,s)}else o=YN(n,e,t,s,r);return Qc(o)}Xw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zo(e.pendingLanes);n!==0&&(Pp(e,n|1),Tt(e,je()),!(le&6)&&(oo=je()+500,as()))}break;case 13:zs(function(){var r=er(t,1);if(r!==null){var s=ht();pn(r,t,1,s)}}),lm(t,1)}};kp=function(t){if(t.tag===13){var e=er(t,134217728);if(e!==null){var n=ht();pn(e,t,134217728,n)}lm(t,134217728)}};Jw=function(t){if(t.tag===13){var e=Br(t),n=er(t,e);if(n!==null){var r=ht();pn(n,t,e,r)}lm(t,e)}};Zw=function(){return pe};e0=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};qf=function(t,e,n){switch(e){case"input":if(zf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Au(r);if(!s)throw Error(k(90));Rw(r),zf(r,s)}}}break;case"textarea":Ow(t,n);break;case"select":e=n.value,e!=null&&Ai(t,!!n.multiple,e,!1)}};$w=rm;zw=zs;var XN={usingClientEntryPoint:!1,Events:[al,Ci,Au,Fw,Uw,rm]},Vo={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JN={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vw(t),t===null?null:t.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||QN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{Nu=Wl.inject(JN),Rn=Wl}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XN;Lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!um(e))throw Error(k(200));return qN(t,e,null,n)};Lt.createRoot=function(t,e){if(!um(t))throw Error(k(299));var n=!1,r="",s=Ex;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=am(t,1,!1,null,null,n,!1,r,s),t[Zn]=e.current,Pa(t.nodeType===8?t.parentNode:t),new cm(e)};Lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=Vw(e),t=t===null?null:t.stateNode,t};Lt.flushSync=function(t){return zs(t)};Lt.hydrate=function(t,e,n){if(!zu(e))throw Error(k(200));return Bu(null,t,e,!0,n)};Lt.hydrateRoot=function(t,e,n){if(!um(t))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ex;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=xx(e,null,t,1,n??null,s,!1,i,o),t[Zn]=e.current,Pa(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new $u(e)};Lt.render=function(t,e,n){if(!zu(e))throw Error(k(200));return Bu(null,t,e,!1,n)};Lt.unmountComponentAtNode=function(t){if(!zu(t))throw Error(k(40));return t._reactRootContainer?(zs(function(){Bu(null,null,t,!1,function(){t._reactRootContainer=null,t[Zn]=null})}),!0):!1};Lt.unstable_batchedUpdates=rm;Lt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zu(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return Bu(t,e,n,!1,r)};Lt.version="18.3.1-next-f1338f8080-20240426";function Cx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cx)}catch(t){console.error(t)}}Cx(),Cw.exports=Lt;var ti=Cw.exports;const Sx=dw(ti);var bx,Xv=ti;bx=Xv.createRoot,Xv.hydrateRoot;const ZN=1,eP=1e6;let nf=0;function tP(){return nf=(nf+1)%Number.MAX_SAFE_INTEGER,nf.toString()}const rf=new Map,Jv=t=>{if(rf.has(t))return;const e=setTimeout(()=>{rf.delete(t),ha({type:"REMOVE_TOAST",toastId:t})},eP);rf.set(t,e)},nP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,ZN)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Jv(n):t.toasts.forEach(r=>{Jv(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},pc=[];let mc={toasts:[]};function ha(t){mc=nP(mc,t),pc.forEach(e=>{e(mc)})}function rP({...t}){const e=tP(),n=s=>ha({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>ha({type:"DISMISS_TOAST",toastId:e});return ha({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function sP(){const[t,e]=m.useState(mc);return m.useEffect(()=>(pc.push(e),()=>{const n=pc.indexOf(e);n>-1&&pc.splice(n,1)}),[t]),{...t,toast:rP,dismiss:n=>ha({type:"DISMISS_TOAST",toastId:n})}}function V(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Zv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Tx(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Zv(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Zv(t[s],null)}}}}function xe(...t){return m.useCallback(Tx(...t),t)}function iP(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ls(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var g;const{scope:f,children:p,...x}=d,v=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,_=m.useMemo(()=>x,Object.values(x));return h.jsx(v.Provider,{value:_,children:p})};c.displayName=i+"Provider";function u(d,f){var v;const p=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,x=m.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,oP(s,...e)]}function oP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function ao(t){const e=lP(t),n=m.forwardRef((r,s)=>{const{children:i,...o}=r,a=m.Children.toArray(i),l=a.find(uP);if(l){const c=l.props.children,u=a.map(d=>d===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:d);return h.jsx(e,{...o,ref:s,children:m.isValidElement(c)?m.cloneElement(c,void 0,u):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var aP=ao("Slot");function lP(t){const e=m.forwardRef((n,r)=>{const{children:s,...i}=n;if(m.isValidElement(s)){const o=fP(s),a=dP(i,s.props);return s.type!==m.Fragment&&(a.ref=r?Tx(r,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ix=Symbol("radix.slottable");function cP(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Ix,e}function uP(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ix}function dP(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function fP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function dm(t){const e=t+"CollectionProvider",[n,r]=ls(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:_,children:g}=v,y=O.useRef(null),w=O.useRef(new Map).current;return h.jsx(s,{scope:_,itemMap:w,collectionRef:y,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=ao(a),c=O.forwardRef((v,_)=>{const{scope:g,children:y}=v,w=i(a,g),E=xe(_,w.collectionRef);return h.jsx(l,{ref:E,children:y})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=ao(u),p=O.forwardRef((v,_)=>{const{scope:g,children:y,...w}=v,E=O.useRef(null),C=xe(_,E),S=i(u,g);return O.useEffect(()=>(S.itemMap.set(E,{ref:E,...w}),()=>void S.itemMap.delete(E))),h.jsx(f,{[d]:"",ref:C,children:y})});p.displayName=u;function x(v){const _=i(t+"CollectionConsumer",v);return O.useCallback(()=>{const y=_.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((S,b)=>w.indexOf(S.ref.current)-w.indexOf(b.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},x,r]}var hP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],te=hP.reduce((t,e)=>{const n=ao(`Primitive.${e}`),r=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Nx(t,e){t&&ti.flushSync(()=>t.dispatchEvent(e))}function Kt(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function pP(t,e=globalThis==null?void 0:globalThis.document){const n=Kt(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var mP="DismissableLayer",Ih="dismissableLayer.update",gP="dismissableLayer.pointerDownOutside",vP="dismissableLayer.focusOutside",ey,Px=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cl=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(Px),[u,d]=m.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),x=xe(e,b=>d(b)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=v.indexOf(_),y=u?v.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,E=y>=g,C=_P(b=>{const T=b.target,A=[...c.branches].some(R=>R.contains(T));!E||A||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},f),S=wP(b=>{const T=b.target;[...c.branches].some(R=>R.contains(T))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},f);return pP(b=>{y===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},f),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ey=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),ty(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=ey)}},[u,f,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),ty())},[u,c]),m.useEffect(()=>{const b=()=>p({});return document.addEventListener(Ih,b),()=>document.removeEventListener(Ih,b)},[]),h.jsx(te.div,{...l,ref:x,style:{pointerEvents:w?E?"auto":"none":void 0,...t.style},onFocusCapture:V(t.onFocusCapture,S.onFocusCapture),onBlurCapture:V(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:V(t.onPointerDownCapture,C.onPointerDownCapture)})});cl.displayName=mP;var yP="DismissableLayerBranch",kx=m.forwardRef((t,e)=>{const n=m.useContext(Px),r=m.useRef(null),s=xe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(te.div,{...t,ref:s})});kx.displayName=yP;function _P(t,e=globalThis==null?void 0:globalThis.document){const n=Kt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Rx(gP,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function wP(t,e=globalThis==null?void 0:globalThis.document){const n=Kt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&Rx(vP,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ty(){const t=new CustomEvent(Ih);document.dispatchEvent(t)}function Rx(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Nx(s,i):s.dispatchEvent(i)}var xP=cl,EP=kx,Ze=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},CP="Portal",Wu=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Ze(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Sx.createPortal(h.jsx(te.div,{...r,ref:e}),o):null});Wu.displayName=CP;function SP(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var ni=t=>{const{present:e,children:n}=t,r=bP(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=xe(r.ref,TP(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};ni.displayName="Presence";function bP(t){const[e,n]=m.useState(),r=m.useRef(null),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=SP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Vl(r.current);i.current=a==="mounted"?c:"none"},[a]),Ze(()=>{const c=r.current,u=s.current;if(u!==t){const f=i.current,p=Vl(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Ze(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=p=>{const v=Vl(r.current).includes(p.animationName);if(p.target===e&&v&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},f=p=>{p.target===e&&(i.current=Vl(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Vl(t){return(t==null?void 0:t.animationName)||"none"}function TP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var IP=wp[" useInsertionEffect ".trim().toString()]||Ze;function lo({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=NP({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const u=m.useRef(t!==void 0);m.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=m.useCallback(u=>{var d;if(a){const f=PP(u)?u(t):u;f!==t&&((d=o.current)==null||d.call(o,f))}else i(u)},[a,t,i,o]);return[l,c]}function NP({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),s=m.useRef(n),i=m.useRef(e);return IP(()=>{i.current=e},[e]),m.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function PP(t){return typeof t=="function"}var Ax=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),kP="VisuallyHidden",Vu=m.forwardRef((t,e)=>h.jsx(te.span,{...t,ref:e,style:{...Ax,...t.style}}));Vu.displayName=kP;var RP=Vu,fm="ToastProvider",[hm,AP,OP]=dm("Toast"),[Ox,l5]=ls("Toast",[OP]),[DP,Hu]=Ox(fm),Dx=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),d=m.useRef(!1),f=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${fm}\`. Expected non-empty \`string\`.`),h.jsx(hm.Provider,{scope:e,children:h.jsx(DP,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(p=>p+1),[]),onToastRemove:m.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};Dx.displayName=fm;var Mx="ToastViewport",MP=["F8"],Nh="toast.viewportPause",Ph="toast.viewportResume",Lx=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=MP,label:s="Notifications ({hotkey})",...i}=t,o=Hu(Mx,n),a=AP(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=xe(e,d,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;m.useEffect(()=>{const _=g=>{var w;r.length!==0&&r.every(E=>g[E]||g.code===E)&&((w=d.current)==null||w.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),m.useEffect(()=>{const _=l.current,g=d.current;if(x&&_&&g){const y=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Nh);g.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Ph);g.dispatchEvent(S),o.isClosePausedRef.current=!1}},E=S=>{!_.contains(S.relatedTarget)&&w()},C=()=>{_.contains(document.activeElement)||w()};return _.addEventListener("focusin",y),_.addEventListener("focusout",E),_.addEventListener("pointermove",y),_.addEventListener("pointerleave",C),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{_.removeEventListener("focusin",y),_.removeEventListener("focusout",E),_.removeEventListener("pointermove",y),_.removeEventListener("pointerleave",C),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:_})=>{const y=a().map(w=>{const E=w.ref.current,C=[E,...qP(E)];return _==="forwards"?C:C.reverse()});return(_==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const _=d.current;if(_){const g=y=>{var C,S,b;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const T=document.activeElement,A=y.shiftKey;if(y.target===_&&A){(C=c.current)==null||C.focus();return}const L=v({tabbingDirection:A?"backwards":"forwards"}),H=L.findIndex(M=>M===T);sf(L.slice(H+1))?y.preventDefault():A?(S=c.current)==null||S.focus():(b=u.current)==null||b.focus()}};return _.addEventListener("keydown",g),()=>_.removeEventListener("keydown",g)}},[a,v]),h.jsxs(EP,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&h.jsx(kh,{ref:c,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"forwards"});sf(_)}}),h.jsx(hm.Slot,{scope:n,children:h.jsx(te.ol,{tabIndex:-1,...i,ref:f})}),x&&h.jsx(kh,{ref:u,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"backwards"});sf(_)}})]})});Lx.displayName=Mx;var jx="ToastFocusProxy",kh=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Hu(jx,n);return h.jsx(Vu,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});kh.displayName=jx;var ul="Toast",LP="toast.swipeStart",jP="toast.swipeMove",FP="toast.swipeCancel",UP="toast.swipeEnd",Fx=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=lo({prop:r,defaultProp:s??!0,onChange:i,caller:ul});return h.jsx(ni,{present:n||a,children:h.jsx(BP,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Kt(t.onPause),onResume:Kt(t.onResume),onSwipeStart:V(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:V(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:V(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:V(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});Fx.displayName=ul;var[$P,zP]=Ox(ul,{onClose(){}}),BP=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:p,...x}=t,v=Hu(ul,n),[_,g]=m.useState(null),y=xe(e,M=>g(M)),w=m.useRef(null),E=m.useRef(null),C=s||v.duration,S=m.useRef(0),b=m.useRef(C),T=m.useRef(0),{onToastAdd:A,onToastRemove:R}=v,z=Kt(()=>{var q;(_==null?void 0:_.contains(document.activeElement))&&((q=v.viewport)==null||q.focus()),o()}),L=m.useCallback(M=>{!M||M===1/0||(window.clearTimeout(T.current),S.current=new Date().getTime(),T.current=window.setTimeout(z,M))},[z]);m.useEffect(()=>{const M=v.viewport;if(M){const q=()=>{L(b.current),c==null||c()},U=()=>{const W=new Date().getTime()-S.current;b.current=b.current-W,window.clearTimeout(T.current),l==null||l()};return M.addEventListener(Nh,U),M.addEventListener(Ph,q),()=>{M.removeEventListener(Nh,U),M.removeEventListener(Ph,q)}}},[v.viewport,C,l,c,L]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&L(C)},[i,C,v.isClosePausedRef,L]),m.useEffect(()=>(A(),()=>R()),[A,R]);const H=m.useMemo(()=>_?Hx(_):null,[_]);return v.viewport?h.jsxs(h.Fragment,{children:[H&&h.jsx(WP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),h.jsx($P,{scope:n,onClose:z,children:ti.createPortal(h.jsx(hm.ItemSlot,{scope:n,children:h.jsx(xP,{asChild:!0,onEscapeKeyDown:V(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||z(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:V(t.onKeyDown,M=>{M.key==="Escape"&&(a==null||a(M.nativeEvent),M.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:V(t.onPointerDown,M=>{M.button===0&&(w.current={x:M.clientX,y:M.clientY})}),onPointerMove:V(t.onPointerMove,M=>{if(!w.current)return;const q=M.clientX-w.current.x,U=M.clientY-w.current.y,W=!!E.current,I=["left","right"].includes(v.swipeDirection),P=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,j=I?P(0,q):0,Q=I?0:P(0,U),B=M.pointerType==="touch"?10:2,Z={x:j,y:Q},Y={originalEvent:M,delta:Z};W?(E.current=Z,Hl(jP,d,Y,{discrete:!1})):ny(Z,v.swipeDirection,B)?(E.current=Z,Hl(LP,u,Y,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(q)>B||Math.abs(U)>B)&&(w.current=null)}),onPointerUp:V(t.onPointerUp,M=>{const q=E.current,U=M.target;if(U.hasPointerCapture(M.pointerId)&&U.releasePointerCapture(M.pointerId),E.current=null,w.current=null,q){const W=M.currentTarget,I={originalEvent:M,delta:q};ny(q,v.swipeDirection,v.swipeThreshold)?Hl(UP,p,I,{discrete:!0}):Hl(FP,f,I,{discrete:!0}),W.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),WP=t=>{const{__scopeToast:e,children:n,...r}=t,s=Hu(ul,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return GP(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:h.jsx(Wu,{asChild:!0,children:h.jsx(Vu,{...r,children:i&&h.jsxs(h.Fragment,{children:[s.label," ",n]})})})},VP="ToastTitle",Ux=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(te.div,{...r,ref:e})});Ux.displayName=VP;var HP="ToastDescription",$x=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(te.div,{...r,ref:e})});$x.displayName=HP;var zx="ToastAction",Bx=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(Vx,{altText:n,asChild:!0,children:h.jsx(pm,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${zx}\`. Expected non-empty \`string\`.`),null)});Bx.displayName=zx;var Wx="ToastClose",pm=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=zP(Wx,n);return h.jsx(Vx,{asChild:!0,children:h.jsx(te.button,{type:"button",...r,ref:e,onClick:V(t.onClick,s.onClose)})})});pm.displayName=Wx;var Vx=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return h.jsx(te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Hx(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),KP(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Hx(r))}}),e}function Hl(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Nx(s,i):s.dispatchEvent(i)}var ny=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function GP(t=()=>{}){const e=Kt(t);Ze(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function KP(t){return t.nodeType===t.ELEMENT_NODE}function qP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function sf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var QP=Dx,Gx=Lx,Kx=Fx,qx=Ux,Qx=$x,Yx=Bx,Xx=pm;function Jx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Jx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Zx(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Jx(t))&&(r&&(r+=" "),r+=e);return r}const ry=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,sy=Zx,Gu=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return sy(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const f=ry(u)||ry(d);return s[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...p}=u;return Object.entries(p).every(x=>{let[v,_]=x;return Array.isArray(_)?_.includes({...i,...a}[v]):{...i,...a}[v]===_})?[...c,d,f]:c},[]);return sy(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...XP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:eE("lucide",s),...a},[...o.map(([c,u])=>m.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(JP,{ref:i,iconNode:e,className:eE(`lucide-${YP(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=et("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=et("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=et("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=et("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=et("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=et("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=et("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=et("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=et("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=et("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=et("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=et("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=et("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=et("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gm="-",ok=t=>{const e=lk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(gm);return a[0]===""&&a.length!==1&&a.shift(),cE(a,e)||ak(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},cE=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?cE(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(gm);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},iy=/^\[(.+)\]$/,ak=t=>{if(iy.test(t)){const e=iy.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},lk=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return uk(Object.entries(t.classGroups),n).forEach(([i,o])=>{Rh(o,r,i,e)}),r},Rh=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:oy(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(ck(s)){Rh(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Rh(o,oy(e,i),n,r)})})},oy=(t,e)=>{let n=t;return e.split(gm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ck=t=>t.isThemeGetter,uk=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,dk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},uE="!",fk=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let _=0;_<a.length;_++){let g=a[_];if(c===0){if(g===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(u,_)),u=_+i;continue}if(g==="/"){d=_;continue}}g==="["?c++:g==="]"&&c--}const f=l.length===0?a:a.substring(u),p=f.startsWith(uE),x=p?f.substring(1):f,v=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},hk=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},pk=t=>({cache:dk(t.cacheSize),parseClassName:fk(t),...ok(t)}),mk=/\s+/,gk=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(mk);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:p}=n(c);let x=!!p,v=r(x?f.substring(0,p):f);if(!v){if(!x){a=c+(a.length>0?" "+a:a);continue}if(v=r(f),!v){a=c+(a.length>0?" "+a:a);continue}x=!1}const _=hk(u).join(":"),g=d?_+uE:_,y=g+v;if(i.includes(y))continue;i.push(y);const w=s(v,x);for(let E=0;E<w.length;++E){const C=w[E];i.push(g+C)}a=c+(a.length>0?" "+a:a)}return a};function vk(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=dE(e))&&(r&&(r+=" "),r+=n);return r}const dE=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=dE(t[r]))&&(n&&(n+=" "),n+=e);return n};function yk(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=pk(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=gk(l,n);return s(l,u),u}return function(){return i(vk.apply(null,arguments))}}const Ce=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},fE=/^\[(?:([a-z-]+):)?(.+)\]$/i,_k=/^\d+\/\d+$/,wk=new Set(["px","full","screen"]),xk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ek=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ck=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Sk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Un=t=>Fi(t)||wk.has(t)||_k.test(t),mr=t=>xo(t,"length",Ok),Fi=t=>!!t&&!Number.isNaN(Number(t)),of=t=>xo(t,"number",Fi),Ho=t=>!!t&&Number.isInteger(Number(t)),Tk=t=>t.endsWith("%")&&Fi(t.slice(0,-1)),ee=t=>fE.test(t),gr=t=>xk.test(t),Ik=new Set(["length","size","percentage"]),Nk=t=>xo(t,Ik,hE),Pk=t=>xo(t,"position",hE),kk=new Set(["image","url"]),Rk=t=>xo(t,kk,Mk),Ak=t=>xo(t,"",Dk),Go=()=>!0,xo=(t,e,n)=>{const r=fE.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Ok=t=>Ek.test(t)&&!Ck.test(t),hE=()=>!1,Dk=t=>Sk.test(t),Mk=t=>bk.test(t),Lk=()=>{const t=Ce("colors"),e=Ce("spacing"),n=Ce("blur"),r=Ce("brightness"),s=Ce("borderColor"),i=Ce("borderRadius"),o=Ce("borderSpacing"),a=Ce("borderWidth"),l=Ce("contrast"),c=Ce("grayscale"),u=Ce("hueRotate"),d=Ce("invert"),f=Ce("gap"),p=Ce("gradientColorStops"),x=Ce("gradientColorStopPositions"),v=Ce("inset"),_=Ce("margin"),g=Ce("opacity"),y=Ce("padding"),w=Ce("saturate"),E=Ce("scale"),C=Ce("sepia"),S=Ce("skew"),b=Ce("space"),T=Ce("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",ee,e],L=()=>[ee,e],H=()=>["",Un,mr],M=()=>["auto",Fi,ee],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",ee],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Fi,ee];return{cacheSize:500,separator:":",theme:{colors:[Go],spacing:[Un,mr],blur:["none","",gr,ee],brightness:Q(),borderColor:[t],borderRadius:["none","","full",gr,ee],borderSpacing:L(),borderWidth:H(),contrast:Q(),grayscale:P(),hueRotate:Q(),invert:P(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[Tk,mr],inset:z(),margin:z(),opacity:Q(),padding:L(),saturate:Q(),scale:Q(),sepia:P(),skew:Q(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",ee]}],container:["container"],columns:[{columns:[gr]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),ee]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ho,ee]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ee]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Ho,ee]}],"grid-cols":[{"grid-cols":[Go]}],"col-start-end":[{col:["auto",{span:["full",Ho,ee]},ee]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Go]}],"row-start-end":[{row:["auto",{span:[Ho,ee]},ee]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ee]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ee,e]}],"min-w":[{"min-w":[ee,e,"min","max","fit"]}],"max-w":[{"max-w":[ee,e,"none","full","min","max","fit","prose",{screen:[gr]},gr]}],h:[{h:[ee,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ee,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ee,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ee,e,"auto","min","max","fit"]}],"font-size":[{text:["base",gr,mr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",of]}],"font-family":[{font:[Go]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ee]}],"line-clamp":[{"line-clamp":["none",Fi,of]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Un,ee]}],"list-image":[{"list-image":["none",ee]}],"list-style-type":[{list:["none","disc","decimal",ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Un,mr]}],"underline-offset":[{"underline-offset":["auto",Un,ee]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),Pk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Nk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Rk]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Un,ee]}],"outline-w":[{outline:[Un,mr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Un,mr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",gr,Ak]}],"shadow-color":[{shadow:[Go]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",gr,ee]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ee]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ee]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Ho,ee]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ee]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Un,mr,of]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jk=yk(Lk);function oe(...t){return jk(Zx(t))}const Fk=QP,pE=m.forwardRef(({className:t,...e},n)=>h.jsx(Gx,{ref:n,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));pE.displayName=Gx.displayName;const Uk=Gu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),mE=m.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(Kx,{ref:r,className:oe(Uk({variant:e}),t),...n}));mE.displayName=Kx.displayName;const $k=m.forwardRef(({className:t,...e},n)=>h.jsx(Yx,{ref:n,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));$k.displayName=Yx.displayName;const gE=m.forwardRef(({className:t,...e},n)=>h.jsx(Xx,{ref:n,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(lE,{className:"h-4 w-4"})}));gE.displayName=Xx.displayName;const vE=m.forwardRef(({className:t,...e},n)=>h.jsx(qx,{ref:n,className:oe("text-sm font-semibold",t),...e}));vE.displayName=qx.displayName;const yE=m.forwardRef(({className:t,...e},n)=>h.jsx(Qx,{ref:n,className:oe("text-sm opacity-90",t),...e}));yE.displayName=Qx.displayName;function zk(){const{toasts:t}=sP();return h.jsxs(Fk,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return h.jsxs(mE,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(vE,{children:n}),r&&h.jsx(yE,{children:r})]}),s,h.jsx(gE,{})]},e)}),h.jsx(pE,{})]})}var ay=["light","dark"],Bk="(prefers-color-scheme: dark)",Wk=m.createContext(void 0),Vk={setTheme:t=>{},themes:[]},Hk=()=>{var t;return(t=m.useContext(Wk))!=null?t:Vk};m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=s?ay.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(x,v=!1,_=!0)=>{let g=o?o[x]:x,y=v?x+"|| ''":`'${g}'`,w="";return s&&_&&!v&&ay.includes(x)&&(w+=`d.style.colorScheme = '${x}';`),n==="class"?v||g?w+=`c.add(${y})`:w+="null":g&&(w+=`d[s](n,${y})`),w},p=t?`!function(){${u}${f(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${Bk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${d}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var Gk=t=>{switch(t){case"success":return Qk;case"info":return Xk;case"warning":return Yk;case"error":return Jk;default:return null}},Kk=Array(12).fill(0),qk=({visible:t,className:e})=>O.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},O.createElement("div",{className:"sonner-spinner"},Kk.map((n,r)=>O.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Qk=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Yk=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Xk=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Jk=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Zk=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},O.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),O.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),eR=()=>{let[t,e]=O.useState(document.hidden);return O.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Ah=1,tR=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Ah++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],O.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(rR(l)&&!l.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Ah++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},yt=new tR,nR=(t,e)=>{let n=(e==null?void 0:e.id)||Ah++;return yt.addToast({title:t,...e,id:n}),n},rR=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",sR=nR,iR=()=>yt.toasts,oR=()=>yt.getActiveToasts(),Ue=Object.assign(sR,{success:yt.success,info:yt.info,warning:yt.warning,error:yt.error,custom:yt.custom,message:yt.message,promise:yt.promise,dismiss:yt.dismiss,loading:yt.loading},{getHistory:iR,getToasts:oR});function aR(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}aR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Gl(t){return t.label!==void 0}var lR=3,cR="32px",uR="16px",ly=4e3,dR=356,fR=14,hR=20,pR=200;function Jt(...t){return t.filter(Boolean).join(" ")}function mR(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var gR=t=>{var e,n,r,s,i,o,a,l,c,u,d;let{invert:f,toast:p,unstyled:x,interacting:v,setHeights:_,visibleToasts:g,heights:y,index:w,toasts:E,expanded:C,removeToast:S,defaultRichColors:b,closeButton:T,style:A,cancelButtonStyle:R,actionButtonStyle:z,className:L="",descriptionClassName:H="",duration:M,position:q,gap:U,loadingIcon:W,expandByDefault:I,classNames:P,icons:j,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:B}=t,[Z,Y]=O.useState(null),[Ee,Ae]=O.useState(null),[F,he]=O.useState(!1),[Oe,fe]=O.useState(!1),[ae,ce]=O.useState(!1),[tt,Ft]=O.useState(!1),[ms,ur]=O.useState(!1),[gs,Mo]=O.useState(0),[ai,Lg]=O.useState(0),Lo=O.useRef(p.duration||M||ly),jg=O.useRef(null),vs=O.useRef(null),yT=w===0,_T=w+1<=g,Ut=p.type,li=p.dismissible!==!1,wT=p.className||"",xT=p.descriptionClassName||"",bl=O.useMemo(()=>y.findIndex(X=>X.toastId===p.id)||0,[y,p.id]),ET=O.useMemo(()=>{var X;return(X=p.closeButton)!=null?X:T},[p.closeButton,T]),Fg=O.useMemo(()=>p.duration||M||ly,[p.duration,M]),Id=O.useRef(0),ci=O.useRef(0),Ug=O.useRef(0),ui=O.useRef(null),[CT,ST]=q.split("-"),$g=O.useMemo(()=>y.reduce((X,me,Ie)=>Ie>=bl?X:X+me.height,0),[y,bl]),zg=eR(),bT=p.invert||f,Nd=Ut==="loading";ci.current=O.useMemo(()=>bl*U+$g,[bl,$g]),O.useEffect(()=>{Lo.current=Fg},[Fg]),O.useEffect(()=>{he(!0)},[]),O.useEffect(()=>{let X=vs.current;if(X){let me=X.getBoundingClientRect().height;return Lg(me),_(Ie=>[{toastId:p.id,height:me,position:p.position},...Ie]),()=>_(Ie=>Ie.filter(qt=>qt.toastId!==p.id))}},[_,p.id]),O.useLayoutEffect(()=>{if(!F)return;let X=vs.current,me=X.style.height;X.style.height="auto";let Ie=X.getBoundingClientRect().height;X.style.height=me,Lg(Ie),_(qt=>qt.find(Qt=>Qt.toastId===p.id)?qt.map(Qt=>Qt.toastId===p.id?{...Qt,height:Ie}:Qt):[{toastId:p.id,height:Ie,position:p.position},...qt])},[F,p.title,p.description,_,p.id]);let dr=O.useCallback(()=>{fe(!0),Mo(ci.current),_(X=>X.filter(me=>me.toastId!==p.id)),setTimeout(()=>{S(p)},pR)},[p,S,_,ci]);O.useEffect(()=>{if(p.promise&&Ut==="loading"||p.duration===1/0||p.type==="loading")return;let X;return C||v||B&&zg?(()=>{if(Ug.current<Id.current){let me=new Date().getTime()-Id.current;Lo.current=Lo.current-me}Ug.current=new Date().getTime()})():Lo.current!==1/0&&(Id.current=new Date().getTime(),X=setTimeout(()=>{var me;(me=p.onAutoClose)==null||me.call(p,p),dr()},Lo.current)),()=>clearTimeout(X)},[C,v,p,Ut,B,zg,dr]),O.useEffect(()=>{p.delete&&dr()},[dr,p.delete]);function TT(){var X,me,Ie;return j!=null&&j.loading?O.createElement("div",{className:Jt(P==null?void 0:P.loader,(X=p==null?void 0:p.classNames)==null?void 0:X.loader,"sonner-loader"),"data-visible":Ut==="loading"},j.loading):W?O.createElement("div",{className:Jt(P==null?void 0:P.loader,(me=p==null?void 0:p.classNames)==null?void 0:me.loader,"sonner-loader"),"data-visible":Ut==="loading"},W):O.createElement(qk,{className:Jt(P==null?void 0:P.loader,(Ie=p==null?void 0:p.classNames)==null?void 0:Ie.loader),visible:Ut==="loading"})}return O.createElement("li",{tabIndex:0,ref:vs,className:Jt(L,wT,P==null?void 0:P.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,P==null?void 0:P.default,P==null?void 0:P[Ut],(n=p==null?void 0:p.classNames)==null?void 0:n[Ut]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:b,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":F,"data-promise":!!p.promise,"data-swiped":ms,"data-removed":Oe,"data-visible":_T,"data-y-position":CT,"data-x-position":ST,"data-index":w,"data-front":yT,"data-swiping":ae,"data-dismissible":li,"data-type":Ut,"data-invert":bT,"data-swipe-out":tt,"data-swipe-direction":Ee,"data-expanded":!!(C||I&&F),style:{"--index":w,"--toasts-before":w,"--z-index":E.length-w,"--offset":`${Oe?gs:ci.current}px`,"--initial-height":I?"auto":`${ai}px`,...A,...p.style},onDragEnd:()=>{ce(!1),Y(null),ui.current=null},onPointerDown:X=>{Nd||!li||(jg.current=new Date,Mo(ci.current),X.target.setPointerCapture(X.pointerId),X.target.tagName!=="BUTTON"&&(ce(!0),ui.current={x:X.clientX,y:X.clientY}))},onPointerUp:()=>{var X,me,Ie,qt;if(tt||!li)return;ui.current=null;let Qt=Number(((X=vs.current)==null?void 0:X.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),fr=Number(((me=vs.current)==null?void 0:me.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ys=new Date().getTime()-((Ie=jg.current)==null?void 0:Ie.getTime()),Yt=Z==="x"?Qt:fr,hr=Math.abs(Yt)/ys;if(Math.abs(Yt)>=hR||hr>.11){Mo(ci.current),(qt=p.onDismiss)==null||qt.call(p,p),Ae(Z==="x"?Qt>0?"right":"left":fr>0?"down":"up"),dr(),Ft(!0),ur(!1);return}ce(!1),Y(null)},onPointerMove:X=>{var me,Ie,qt,Qt;if(!ui.current||!li||((me=window.getSelection())==null?void 0:me.toString().length)>0)return;let fr=X.clientY-ui.current.y,ys=X.clientX-ui.current.x,Yt=(Ie=t.swipeDirections)!=null?Ie:mR(q);!Z&&(Math.abs(ys)>1||Math.abs(fr)>1)&&Y(Math.abs(ys)>Math.abs(fr)?"x":"y");let hr={x:0,y:0};Z==="y"?(Yt.includes("top")||Yt.includes("bottom"))&&(Yt.includes("top")&&fr<0||Yt.includes("bottom")&&fr>0)&&(hr.y=fr):Z==="x"&&(Yt.includes("left")||Yt.includes("right"))&&(Yt.includes("left")&&ys<0||Yt.includes("right")&&ys>0)&&(hr.x=ys),(Math.abs(hr.x)>0||Math.abs(hr.y)>0)&&ur(!0),(qt=vs.current)==null||qt.style.setProperty("--swipe-amount-x",`${hr.x}px`),(Qt=vs.current)==null||Qt.style.setProperty("--swipe-amount-y",`${hr.y}px`)}},ET&&!p.jsx?O.createElement("button",{"aria-label":Q,"data-disabled":Nd,"data-close-button":!0,onClick:Nd||!li?()=>{}:()=>{var X;dr(),(X=p.onDismiss)==null||X.call(p,p)},className:Jt(P==null?void 0:P.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=j==null?void 0:j.close)!=null?i:Zk):null,p.jsx||m.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:O.createElement(O.Fragment,null,Ut||p.icon||p.promise?O.createElement("div",{"data-icon":"",className:Jt(P==null?void 0:P.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||TT():null,p.type!=="loading"?p.icon||(j==null?void 0:j[Ut])||Gk(Ut):null):null,O.createElement("div",{"data-content":"",className:Jt(P==null?void 0:P.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},O.createElement("div",{"data-title":"",className:Jt(P==null?void 0:P.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?O.createElement("div",{"data-description":"",className:Jt(H,xT,P==null?void 0:P.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),m.isValidElement(p.cancel)?p.cancel:p.cancel&&Gl(p.cancel)?O.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:X=>{var me,Ie;Gl(p.cancel)&&li&&((Ie=(me=p.cancel).onClick)==null||Ie.call(me,X),dr())},className:Jt(P==null?void 0:P.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,m.isValidElement(p.action)?p.action:p.action&&Gl(p.action)?O.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||z,onClick:X=>{var me,Ie;Gl(p.action)&&((Ie=(me=p.action).onClick)==null||Ie.call(me,X),!X.defaultPrevented&&dr())},className:Jt(P==null?void 0:P.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function cy(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function vR(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?uR:cR;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var yR=m.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:f,style:p,visibleToasts:x=lR,toastOptions:v,dir:_=cy(),gap:g=fR,loadingIcon:y,icons:w,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:C}=t,[S,b]=O.useState([]),T=O.useMemo(()=>Array.from(new Set([r].concat(S.filter(B=>B.position).map(B=>B.position)))),[S,r]),[A,R]=O.useState([]),[z,L]=O.useState(!1),[H,M]=O.useState(!1),[q,U]=O.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=O.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=O.useRef(null),j=O.useRef(!1),Q=O.useCallback(B=>{b(Z=>{var Y;return(Y=Z.find(Ee=>Ee.id===B.id))!=null&&Y.delete||yt.dismiss(B.id),Z.filter(({id:Ee})=>Ee!==B.id)})},[]);return O.useEffect(()=>yt.subscribe(B=>{if(B.dismiss){b(Z=>Z.map(Y=>Y.id===B.id?{...Y,delete:!0}:Y));return}setTimeout(()=>{Sx.flushSync(()=>{b(Z=>{let Y=Z.findIndex(Ee=>Ee.id===B.id);return Y!==-1?[...Z.slice(0,Y),{...Z[Y],...B},...Z.slice(Y+1)]:[B,...Z]})})})}),[]),O.useEffect(()=>{if(u!=="system"){U(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:Z})=>{U(Z?"dark":"light")})}catch{B.addListener(({matches:Y})=>{try{U(Y?"dark":"light")}catch(Ee){console.error(Ee)}})}},[u]),O.useEffect(()=>{S.length<=1&&L(!1)},[S]),O.useEffect(()=>{let B=Z=>{var Y,Ee;s.every(Ae=>Z[Ae]||Z.code===Ae)&&(L(!0),(Y=W.current)==null||Y.focus()),Z.code==="Escape"&&(document.activeElement===W.current||(Ee=W.current)!=null&&Ee.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[s]),O.useEffect(()=>{if(W.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,j.current=!1)}},[W.current]),O.createElement("section",{ref:e,"aria-label":`${E} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((B,Z)=>{var Y;let[Ee,Ae]=B.split("-");return S.length?O.createElement("ol",{key:B,dir:_==="auto"?cy():_,tabIndex:-1,ref:W,className:a,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":Ee,"data-lifted":z&&S.length>1&&!i,"data-x-position":Ae,style:{"--front-toast-height":`${((Y=A[0])==null?void 0:Y.height)||0}px`,"--width":`${dR}px`,"--gap":`${g}px`,...p,...vR(l,c)},onBlur:F=>{j.current&&!F.currentTarget.contains(F.relatedTarget)&&(j.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:F=>{F.target instanceof HTMLElement&&F.target.dataset.dismissible==="false"||j.current||(j.current=!0,P.current=F.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{H||L(!1)},onDragEnd:()=>L(!1),onPointerDown:F=>{F.target instanceof HTMLElement&&F.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},S.filter(F=>!F.position&&Z===0||F.position===B).map((F,he)=>{var Oe,fe;return O.createElement(gR,{key:F.id,icons:w,index:he,toast:F,defaultRichColors:d,duration:(Oe=v==null?void 0:v.duration)!=null?Oe:f,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:x,closeButton:(fe=v==null?void 0:v.closeButton)!=null?fe:o,interacting:H,position:B,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:Q,toasts:S.filter(ae=>ae.position==F.position),heights:A.filter(ae=>ae.position==F.position),setHeights:R,expandByDefault:i,gap:g,loadingIcon:y,expanded:z,pauseWhenPageIsHidden:C,swipeDirections:t.swipeDirections})})):null}))});const _R=({...t})=>{const{theme:e="system"}=Hk();return h.jsx(yR,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var wR=wp[" useId ".trim().toString()]||(()=>{}),xR=0;function Vr(t){const[e,n]=m.useState(wR());return Ze(()=>{t||n(r=>r??String(xR++))},[t]),t||(e?`radix-${e}`:"")}const ER=["top","right","bottom","left"],es=Math.min,Rt=Math.max,Yc=Math.round,Kl=Math.floor,On=t=>({x:t,y:t}),CR={left:"right",right:"left",bottom:"top",top:"bottom"},SR={start:"end",end:"start"};function Oh(t,e,n){return Rt(t,es(e,n))}function nr(t,e){return typeof t=="function"?t(e):t}function rr(t){return t.split("-")[0]}function Eo(t){return t.split("-")[1]}function vm(t){return t==="x"?"y":"x"}function ym(t){return t==="y"?"height":"width"}const bR=new Set(["top","bottom"]);function kn(t){return bR.has(rr(t))?"y":"x"}function _m(t){return vm(kn(t))}function TR(t,e,n){n===void 0&&(n=!1);const r=Eo(t),s=_m(t),i=ym(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Xc(o)),[o,Xc(o)]}function IR(t){const e=Xc(t);return[Dh(t),e,Dh(e)]}function Dh(t){return t.replace(/start|end/g,e=>SR[e])}const uy=["left","right"],dy=["right","left"],NR=["top","bottom"],PR=["bottom","top"];function kR(t,e,n){switch(t){case"top":case"bottom":return n?e?dy:uy:e?uy:dy;case"left":case"right":return e?NR:PR;default:return[]}}function RR(t,e,n,r){const s=Eo(t);let i=kR(rr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Dh)))),i}function Xc(t){return t.replace(/left|right|bottom|top/g,e=>CR[e])}function AR(t){return{top:0,right:0,bottom:0,left:0,...t}}function _E(t){return typeof t!="number"?AR(t):{top:t,right:t,bottom:t,left:t}}function Jc(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function fy(t,e,n){let{reference:r,floating:s}=t;const i=kn(e),o=_m(e),a=ym(o),l=rr(e),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-s.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Eo(e)){case"start":p[o]-=f*(n&&c?-1:1);break;case"end":p[o]+=f*(n&&c?-1:1);break}return p}const OR=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=fy(c,r,l),f=r,p={},x=0;for(let v=0;v<a.length;v++){const{name:_,fn:g}=a[v],{x:y,y:w,data:E,reset:C}=await g({x:u,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,d=w??d,p={...p,[_]:{...p[_],...E}},C&&x<=50&&(x++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:u,y:d}=fy(c,f,l)),v=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:p}};async function Fa(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=nr(e,t),x=_E(p),_=a[f?d==="floating"?"reference":"floating":d],g=Jc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},C=Jc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(g.top-C.top+x.top)/E.y,bottom:(C.bottom-g.bottom+x.bottom)/E.y,left:(g.left-C.left+x.left)/E.x,right:(C.right-g.right+x.right)/E.x}}const DR=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=nr(t,e)||{};if(c==null)return{};const d=_E(u),f={x:n,y:r},p=_m(s),x=ym(p),v=await o.getDimensions(c),_=p==="y",g=_?"top":"left",y=_?"bottom":"right",w=_?"clientHeight":"clientWidth",E=i.reference[x]+i.reference[p]-f[p]-i.floating[x],C=f[p]-i.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let b=S?S[w]:0;(!b||!await(o.isElement==null?void 0:o.isElement(S)))&&(b=a.floating[w]||i.floating[x]);const T=E/2-C/2,A=b/2-v[x]/2-1,R=es(d[g],A),z=es(d[y],A),L=R,H=b-v[x]-z,M=b/2-v[x]/2+T,q=Oh(L,M,H),U=!l.arrow&&Eo(s)!=null&&M!==q&&i.reference[x]/2-(M<L?R:z)-v[x]/2<0,W=U?M<L?M-L:M-H:0;return{[p]:f[p]+W,data:{[p]:q,centerOffset:M-q-W,...U&&{alignmentOffset:W}},reset:U}}}),MR=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,..._}=nr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const g=rr(s),y=kn(a),w=rr(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=f||(w||!v?[Xc(a)]:IR(a)),S=x!=="none";!f&&S&&C.push(...RR(a,v,x,E));const b=[a,...C],T=await Fa(e,_),A=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&A.push(T[g]),d){const M=TR(s,o,E);A.push(T[M[0]],T[M[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(M=>M<=0)){var z,L;const M=(((z=i.flip)==null?void 0:z.index)||0)+1,q=b[M];if(q&&(!(d==="alignment"?y!==kn(q):!1)||R.every(I=>I.overflows[0]>0&&kn(I.placement)===y)))return{data:{index:M,overflows:R},reset:{placement:q}};let U=(L=R.filter(W=>W.overflows[0]<=0).sort((W,I)=>W.overflows[1]-I.overflows[1])[0])==null?void 0:L.placement;if(!U)switch(p){case"bestFit":{var H;const W=(H=R.filter(I=>{if(S){const P=kn(I.placement);return P===y||P==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(P=>P>0).reduce((P,j)=>P+j,0)]).sort((I,P)=>I[1]-P[1])[0])==null?void 0:H[0];W&&(U=W);break}case"initialPlacement":U=a;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function hy(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function py(t){return ER.some(e=>t[e]>=0)}const LR=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=nr(t,e);switch(r){case"referenceHidden":{const i=await Fa(e,{...s,elementContext:"reference"}),o=hy(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:py(o)}}}case"escaped":{const i=await Fa(e,{...s,altBoundary:!0}),o=hy(i,n.floating);return{data:{escapedOffsets:o,escaped:py(o)}}}default:return{}}}}},wE=new Set(["left","top"]);async function jR(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=rr(n),a=Eo(n),l=kn(n)==="y",c=wE.has(o)?-1:1,u=i&&l?-1:1,d=nr(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof x=="number"&&(p=a==="end"?x*-1:x),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const FR=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await jR(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},UR=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:g,y}=_;return{x:g,y}}},...l}=nr(t,e),c={x:n,y:r},u=await Fa(e,l),d=kn(rr(s)),f=vm(d);let p=c[f],x=c[d];if(i){const _=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=p+u[_],w=p-u[g];p=Oh(y,p,w)}if(o){const _=d==="y"?"top":"left",g=d==="y"?"bottom":"right",y=x+u[_],w=x-u[g];x=Oh(y,x,w)}const v=a.fn({...e,[f]:p,[d]:x});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[f]:i,[d]:o}}}}}},$R=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=nr(t,e),u={x:n,y:r},d=kn(s),f=vm(d);let p=u[f],x=u[d];const v=nr(a,e),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const w=f==="y"?"height":"width",E=i.reference[f]-i.floating[w]+_.mainAxis,C=i.reference[f]+i.reference[w]-_.mainAxis;p<E?p=E:p>C&&(p=C)}if(c){var g,y;const w=f==="y"?"width":"height",E=wE.has(rr(s)),C=i.reference[d]-i.floating[w]+(E&&((g=o.offset)==null?void 0:g[d])||0)+(E?0:_.crossAxis),S=i.reference[d]+i.reference[w]+(E?0:((y=o.offset)==null?void 0:y[d])||0)-(E?_.crossAxis:0);x<C?x=C:x>S&&(x=S)}return{[f]:p,[d]:x}}}},zR=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=nr(t,e),u=await Fa(e,c),d=rr(s),f=Eo(s),p=kn(s)==="y",{width:x,height:v}=i.floating;let _,g;d==="top"||d==="bottom"?(_=d,g=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=d,_=f==="end"?"top":"bottom");const y=v-u.top-u.bottom,w=x-u.left-u.right,E=es(v-u[_],y),C=es(x-u[g],w),S=!e.middlewareData.shift;let b=E,T=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=y),S&&!f){const R=Rt(u.left,0),z=Rt(u.right,0),L=Rt(u.top,0),H=Rt(u.bottom,0);p?T=x-2*(R!==0||z!==0?R+z:Rt(u.left,u.right)):b=v-2*(L!==0||H!==0?L+H:Rt(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:b});const A=await o.getDimensions(a.floating);return x!==A.width||v!==A.height?{reset:{rects:!0}}:{}}}};function qu(){return typeof window<"u"}function Co(t){return xE(t)?(t.nodeName||"").toLowerCase():"#document"}function Dt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Fn(t){var e;return(e=(xE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function xE(t){return qu()?t instanceof Node||t instanceof Dt(t).Node:!1}function vn(t){return qu()?t instanceof Element||t instanceof Dt(t).Element:!1}function Ln(t){return qu()?t instanceof HTMLElement||t instanceof Dt(t).HTMLElement:!1}function my(t){return!qu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Dt(t).ShadowRoot}const BR=new Set(["inline","contents"]);function dl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=yn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!BR.has(s)}const WR=new Set(["table","td","th"]);function VR(t){return WR.has(Co(t))}const HR=[":popover-open",":modal"];function Qu(t){return HR.some(e=>{try{return t.matches(e)}catch{return!1}})}const GR=["transform","translate","scale","rotate","perspective"],KR=["transform","translate","scale","rotate","perspective","filter"],qR=["paint","layout","strict","content"];function wm(t){const e=xm(),n=vn(t)?yn(t):t;return GR.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||KR.some(r=>(n.willChange||"").includes(r))||qR.some(r=>(n.contain||"").includes(r))}function QR(t){let e=ts(t);for(;Ln(e)&&!co(e);){if(wm(e))return e;if(Qu(e))return null;e=ts(e)}return null}function xm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const YR=new Set(["html","body","#document"]);function co(t){return YR.has(Co(t))}function yn(t){return Dt(t).getComputedStyle(t)}function Yu(t){return vn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ts(t){if(Co(t)==="html")return t;const e=t.assignedSlot||t.parentNode||my(t)&&t.host||Fn(t);return my(e)?e.host:e}function EE(t){const e=ts(t);return co(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ln(e)&&dl(e)?e:EE(e)}function Ua(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=EE(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Dt(s);if(i){const a=Mh(o);return e.concat(o,o.visualViewport||[],dl(s)?s:[],a&&n?Ua(a):[])}return e.concat(s,Ua(s,[],n))}function Mh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function CE(t){const e=yn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ln(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Yc(n)!==i||Yc(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Em(t){return vn(t)?t:t.contextElement}function Ui(t){const e=Em(t);if(!Ln(e))return On(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=CE(e);let o=(i?Yc(n.width):n.width)/r,a=(i?Yc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const XR=On(0);function SE(t){const e=Dt(t);return!xm()||!e.visualViewport?XR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function JR(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Dt(t)?!1:e}function Bs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Em(t);let o=On(1);e&&(r?vn(r)&&(o=Ui(r)):o=Ui(t));const a=JR(i,n,r)?SE(i):On(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const f=Dt(i),p=r&&vn(r)?Dt(r):r;let x=f,v=Mh(x);for(;v&&r&&p!==x;){const _=Ui(v),g=v.getBoundingClientRect(),y=yn(v),w=g.left+(v.clientLeft+parseFloat(y.paddingLeft))*_.x,E=g.top+(v.clientTop+parseFloat(y.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=w,c+=E,x=Dt(v),v=Mh(x)}}return Jc({width:u,height:d,x:l,y:c})}function Cm(t,e){const n=Yu(t).scrollLeft;return e?e.left+n:Bs(Fn(t)).left+n}function bE(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Cm(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function ZR(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Fn(r),a=e?Qu(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=On(1);const u=On(0),d=Ln(r);if((d||!d&&!i)&&((Co(r)!=="body"||dl(o))&&(l=Yu(r)),Ln(r))){const p=Bs(r);c=Ui(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=o&&!d&&!i?bE(o,l,!0):On(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function eA(t){return Array.from(t.getClientRects())}function tA(t){const e=Fn(t),n=Yu(t),r=t.ownerDocument.body,s=Rt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Rt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Cm(t);const a=-n.scrollTop;return yn(r).direction==="rtl"&&(o+=Rt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function nA(t,e){const n=Dt(t),r=Fn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=xm();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const rA=new Set(["absolute","fixed"]);function sA(t,e){const n=Bs(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ln(t)?Ui(t):On(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function gy(t,e,n){let r;if(e==="viewport")r=nA(t,n);else if(e==="document")r=tA(Fn(t));else if(vn(e))r=sA(e,n);else{const s=SE(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Jc(r)}function TE(t,e){const n=ts(t);return n===e||!vn(n)||co(n)?!1:yn(n).position==="fixed"||TE(n,e)}function iA(t,e){const n=e.get(t);if(n)return n;let r=Ua(t,[],!1).filter(a=>vn(a)&&Co(a)!=="body"),s=null;const i=yn(t).position==="fixed";let o=i?ts(t):t;for(;vn(o)&&!co(o);){const a=yn(o),l=wm(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&rA.has(s.position)||dl(o)&&!l&&TE(t,o))?r=r.filter(u=>u!==o):s=a,o=ts(o)}return e.set(t,r),r}function oA(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Qu(e)?[]:iA(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=gy(e,u,s);return c.top=Rt(d.top,c.top),c.right=es(d.right,c.right),c.bottom=es(d.bottom,c.bottom),c.left=Rt(d.left,c.left),c},gy(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function aA(t){const{width:e,height:n}=CE(t);return{width:e,height:n}}function lA(t,e,n){const r=Ln(e),s=Fn(e),i=n==="fixed",o=Bs(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=On(0);function c(){l.x=Cm(s)}if(r||!r&&!i)if((Co(e)!=="body"||dl(s))&&(a=Yu(e)),r){const p=Bs(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&c();i&&!r&&s&&c();const u=s&&!r&&!i?bE(s,a):On(0),d=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function af(t){return yn(t).position==="static"}function vy(t,e){if(!Ln(t)||yn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Fn(t)===n&&(n=n.ownerDocument.body),n}function IE(t,e){const n=Dt(t);if(Qu(t))return n;if(!Ln(t)){let s=ts(t);for(;s&&!co(s);){if(vn(s)&&!af(s))return s;s=ts(s)}return n}let r=vy(t,e);for(;r&&VR(r)&&af(r);)r=vy(r,e);return r&&co(r)&&af(r)&&!wm(r)?n:r||QR(t)||n}const cA=async function(t){const e=this.getOffsetParent||IE,n=this.getDimensions,r=await n(t.floating);return{reference:lA(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function uA(t){return yn(t).direction==="rtl"}const dA={convertOffsetParentRelativeRectToViewportRelativeRect:ZR,getDocumentElement:Fn,getClippingRect:oA,getOffsetParent:IE,getElementRects:cA,getClientRects:eA,getDimensions:aA,getScale:Ui,isElement:vn,isRTL:uA};function NE(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function fA(t,e){let n=null,r;const s=Fn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=c;if(a||e(),!f||!p)return;const x=Kl(d),v=Kl(s.clientWidth-(u+f)),_=Kl(s.clientHeight-(d+p)),g=Kl(u),w={rootMargin:-x+"px "+-v+"px "+-_+"px "+-g+"px",threshold:Rt(0,es(1,l))||1};let E=!0;function C(S){const b=S[0].intersectionRatio;if(b!==l){if(!E)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!NE(c,t.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(C,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,w)}n.observe(t)}return o(!0),i}function hA(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Em(t),u=s||i?[...c?Ua(c):[],...Ua(e)]:[];u.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),i&&g.addEventListener("resize",n)});const d=c&&a?fA(c,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(g=>{let[y]=g;y&&y.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let x,v=l?Bs(t):null;l&&_();function _(){const g=Bs(t);v&&!NE(v,g)&&n(),v=g,x=requestAnimationFrame(_)}return n(),()=>{var g;u.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),d==null||d(),(g=p)==null||g.disconnect(),p=null,l&&cancelAnimationFrame(x)}}const pA=FR,mA=UR,gA=MR,vA=zR,yA=LR,yy=DR,_A=$R,wA=(t,e,n)=>{const r=new Map,s={platform:dA,...n},i={...s.platform,_c:r};return OR(t,e,{...s,platform:i})};var xA=typeof document<"u",EA=function(){},gc=xA?m.useLayoutEffect:EA;function Zc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Zc(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Zc(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function PE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _y(t,e){const n=PE(t);return Math.round(e*n)/n}function lf(t){const e=m.useRef(t);return gc(()=>{e.current=t}),e}function CA(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=m.useState(r);Zc(f,r)||p(r);const[x,v]=m.useState(null),[_,g]=m.useState(null),y=m.useCallback(I=>{I!==S.current&&(S.current=I,v(I))},[]),w=m.useCallback(I=>{I!==b.current&&(b.current=I,g(I))},[]),E=i||x,C=o||_,S=m.useRef(null),b=m.useRef(null),T=m.useRef(u),A=l!=null,R=lf(l),z=lf(s),L=lf(c),H=m.useCallback(()=>{if(!S.current||!b.current)return;const I={placement:e,strategy:n,middleware:f};z.current&&(I.platform=z.current),wA(S.current,b.current,I).then(P=>{const j={...P,isPositioned:L.current!==!1};M.current&&!Zc(T.current,j)&&(T.current=j,ti.flushSync(()=>{d(j)}))})},[f,e,n,z,L]);gc(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(I=>({...I,isPositioned:!1})))},[c]);const M=m.useRef(!1);gc(()=>(M.current=!0,()=>{M.current=!1}),[]),gc(()=>{if(E&&(S.current=E),C&&(b.current=C),E&&C){if(R.current)return R.current(E,C,H);H()}},[E,C,H,R,A]);const q=m.useMemo(()=>({reference:S,floating:b,setReference:y,setFloating:w}),[y,w]),U=m.useMemo(()=>({reference:E,floating:C}),[E,C]),W=m.useMemo(()=>{const I={position:n,left:0,top:0};if(!U.floating)return I;const P=_y(U.floating,u.x),j=_y(U.floating,u.y);return a?{...I,transform:"translate("+P+"px, "+j+"px)",...PE(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:j}},[n,a,U.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:H,refs:q,elements:U,floatingStyles:W}),[u,H,q,U,W])}const SA=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?yy({element:r.current,padding:s}).fn(n):{}:r?yy({element:r,padding:s}).fn(n):{}}}},bA=(t,e)=>({...pA(t),options:[t,e]}),TA=(t,e)=>({...mA(t),options:[t,e]}),IA=(t,e)=>({..._A(t),options:[t,e]}),NA=(t,e)=>({...gA(t),options:[t,e]}),PA=(t,e)=>({...vA(t),options:[t,e]}),kA=(t,e)=>({...yA(t),options:[t,e]}),RA=(t,e)=>({...SA(t),options:[t,e]});var AA="Arrow",kE=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(te.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});kE.displayName=AA;var OA=kE;function DA(t){const[e,n]=m.useState(void 0);return Ze(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Sm="Popper",[RE,Xu]=ls(Sm),[MA,AE]=RE(Sm),OE=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return h.jsx(MA,{scope:e,anchor:r,onAnchorChange:s,children:n})};OE.displayName=Sm;var DE="PopperAnchor",ME=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=AE(DE,n),o=m.useRef(null),a=xe(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(te.div,{...s,ref:a})});ME.displayName=DE;var bm="PopperContent",[LA,jA]=RE(bm),LE=m.forwardRef((t,e)=>{var F,he,Oe,fe,ae,ce;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:x,...v}=t,_=AE(bm,n),[g,y]=m.useState(null),w=xe(e,tt=>y(tt)),[E,C]=m.useState(null),S=DA(E),b=(S==null?void 0:S.width)??0,T=(S==null?void 0:S.height)??0,A=r+(i!=="center"?"-"+i:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},z=Array.isArray(c)?c:[c],L=z.length>0,H={padding:R,boundary:z.filter(UA),altBoundary:L},{refs:M,floatingStyles:q,placement:U,isPositioned:W,middlewareData:I}=CA({strategy:"fixed",placement:A,whileElementsMounted:(...tt)=>hA(...tt,{animationFrame:p==="always"}),elements:{reference:_.anchor},middleware:[bA({mainAxis:s+T,alignmentAxis:o}),l&&TA({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?IA():void 0,...H}),l&&NA({...H}),PA({...H,apply:({elements:tt,rects:Ft,availableWidth:ms,availableHeight:ur})=>{const{width:gs,height:Mo}=Ft.reference,ai=tt.floating.style;ai.setProperty("--radix-popper-available-width",`${ms}px`),ai.setProperty("--radix-popper-available-height",`${ur}px`),ai.setProperty("--radix-popper-anchor-width",`${gs}px`),ai.setProperty("--radix-popper-anchor-height",`${Mo}px`)}}),E&&RA({element:E,padding:a}),$A({arrowWidth:b,arrowHeight:T}),f&&kA({strategy:"referenceHidden",...H})]}),[P,j]=UE(U),Q=Kt(x);Ze(()=>{W&&(Q==null||Q())},[W,Q]);const B=(F=I.arrow)==null?void 0:F.x,Z=(he=I.arrow)==null?void 0:he.y,Y=((Oe=I.arrow)==null?void 0:Oe.centerOffset)!==0,[Ee,Ae]=m.useState();return Ze(()=>{g&&Ae(window.getComputedStyle(g).zIndex)},[g]),h.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:W?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(fe=I.transformOrigin)==null?void 0:fe.x,(ae=I.transformOrigin)==null?void 0:ae.y].join(" "),...((ce=I.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(LA,{scope:n,placedSide:P,onArrowChange:C,arrowX:B,arrowY:Z,shouldHideArrow:Y,children:h.jsx(te.div,{"data-side":P,"data-align":j,...v,ref:w,style:{...v.style,animation:W?void 0:"none"}})})})});LE.displayName=bm;var jE="PopperArrow",FA={top:"bottom",right:"left",bottom:"top",left:"right"},FE=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=jA(jE,r),o=FA[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(OA,{...s,ref:n,style:{...s.style,display:"block"}})})});FE.displayName=jE;function UA(t){return t!==null}var $A=t=>({name:"transformOrigin",options:t,fn(e){var _,g,y;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=UE(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((g=s.arrow)==null?void 0:g.x)??0)+a/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let x="",v="";return c==="bottom"?(x=o?d:`${f}px`,v=`${-l}px`):c==="top"?(x=o?d:`${f}px`,v=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,v=o?d:`${p}px`):c==="left"&&(x=`${r.floating.width+l}px`,v=o?d:`${p}px`),{data:{x,y:v}}}});function UE(t){const[e,n="center"]=t.split("-");return[e,n]}var zA=OE,$E=ME,zE=LE,BE=FE,[Ju,c5]=ls("Tooltip",[Xu]),Tm=Xu(),WE="TooltipProvider",BA=700,wy="tooltip.open",[WA,VE]=Ju(WE),HE=t=>{const{__scopeTooltip:e,delayDuration:n=BA,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=m.useRef(!0),a=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),h.jsx(WA,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};HE.displayName=WE;var GE="Tooltip",[u5,Zu]=Ju(GE),Lh="TooltipTrigger",VA=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Zu(Lh,n),i=VE(Lh,n),o=Tm(n),a=m.useRef(null),l=xe(e,a,s.onTriggerChange),c=m.useRef(!1),u=m.useRef(!1),d=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),h.jsx($E,{asChild:!0,...o,children:h.jsx(te.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:V(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:V(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:V(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:V(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:V(t.onBlur,s.onClose),onClick:V(t.onClick,s.onClose)})})});VA.displayName=Lh;var HA="TooltipPortal",[d5,GA]=Ju(HA,{forceMount:void 0}),uo="TooltipContent",KE=m.forwardRef((t,e)=>{const n=GA(uo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Zu(uo,t.__scopeTooltip);return h.jsx(ni,{present:r||o.open,children:o.disableHoverableContent?h.jsx(qE,{side:s,...i,ref:e}):h.jsx(KA,{side:s,...i,ref:e})})}),KA=m.forwardRef((t,e)=>{const n=Zu(uo,t.__scopeTooltip),r=VE(uo,t.__scopeTooltip),s=m.useRef(null),i=xe(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:d}=r,f=m.useCallback(()=>{a(null),d(!1)},[d]),p=m.useCallback((x,v)=>{const _=x.currentTarget,g={x:x.clientX,y:x.clientY},y=JA(g,_.getBoundingClientRect()),w=ZA(g,y),E=eO(v.getBoundingClientRect()),C=nO([...w,...E]);a(C),d(!0)},[d]);return m.useEffect(()=>()=>f(),[f]),m.useEffect(()=>{if(l&&u){const x=_=>p(_,u),v=_=>p(_,l);return l.addEventListener("pointerleave",x),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",v)}}},[l,u,p,f]),m.useEffect(()=>{if(o){const x=v=>{const _=v.target,g={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(_))||(u==null?void 0:u.contains(_)),w=!tO(g,o);y?f():w&&(f(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,u,o,c,f]),h.jsx(qE,{...t,ref:i})}),[qA,QA]=Ju(GE,{isInside:!1}),YA=cP("TooltipContent"),qE=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Zu(uo,n),c=Tm(n),{onClose:u}=l;return m.useEffect(()=>(document.addEventListener(wy,u),()=>document.removeEventListener(wy,u)),[u]),m.useEffect(()=>{if(l.trigger){const d=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),h.jsx(cl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:h.jsxs(zE,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(YA,{children:r}),h.jsx(qA,{scope:n,isInside:!0,children:h.jsx(RP,{id:l.contentId,role:"tooltip",children:s||r})})]})})});KE.displayName=uo;var QE="TooltipArrow",XA=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Tm(n);return QA(QE,n).isInside?null:h.jsx(BE,{...s,...r,ref:e})});XA.displayName=QE;function JA(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ZA(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function eO(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function tO(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,u=a.y,d=l.x,f=l.y;u>r!=f>r&&n<(d-c)*(r-u)/(f-u)+c&&(s=!s)}return s}function nO(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),rO(e)}function rO(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var sO=HE,YE=KE;const iO=sO,oO=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(YE,{ref:r,sideOffset:e,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));oO.displayName=YE.displayName;var ed=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},td=typeof window>"u"||"Deno"in globalThis;function tn(){}function aO(t,e){return typeof t=="function"?t(e):t}function lO(t){return typeof t=="number"&&t>=0&&t!==1/0}function cO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function jh(t,e){return typeof t=="function"?t(e):t}function uO(t,e){return typeof t=="function"?t(e):t}function xy(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Im(o,e.options))return!1}else if(!za(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Ey(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if($a(e.options.mutationKey)!==$a(i))return!1}else if(!za(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Im(t,e){return((e==null?void 0:e.queryKeyHashFn)||$a)(t)}function $a(t){return JSON.stringify(t,(e,n)=>Fh(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function za(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>za(t[n],e[n])):!1}function XE(t,e){if(t===e)return t;const n=Cy(t)&&Cy(e);if(n||Fh(t)&&Fh(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=XE(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function Cy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Fh(t){if(!Sy(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Sy(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Sy(t){return Object.prototype.toString.call(t)==="[object Object]"}function dO(t){return new Promise(e=>{setTimeout(e,t)})}function fO(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?XE(t,e):e}function hO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function pO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Nm=Symbol();function JE(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Nm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ns,Nr,Gi,rw,mO=(rw=class extends ed{constructor(){super();ue(this,Ns);ue(this,Nr);ue(this,Gi);J(this,Gi,e=>{if(!td&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){N(this,Nr)||this.setEventListener(N(this,Gi))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,Nr))==null||e.call(this),J(this,Nr,void 0))}setEventListener(e){var n;J(this,Gi,e),(n=N(this,Nr))==null||n.call(this),J(this,Nr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){N(this,Ns)!==e&&(J(this,Ns,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof N(this,Ns)=="boolean"?N(this,Ns):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ns=new WeakMap,Nr=new WeakMap,Gi=new WeakMap,rw),ZE=new mO,Ki,Pr,qi,sw,gO=(sw=class extends ed{constructor(){super();ue(this,Ki,!0);ue(this,Pr);ue(this,qi);J(this,qi,e=>{if(!td&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){N(this,Pr)||this.setEventListener(N(this,qi))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,Pr))==null||e.call(this),J(this,Pr,void 0))}setEventListener(e){var n;J(this,qi,e),(n=N(this,Pr))==null||n.call(this),J(this,Pr,e(this.setOnline.bind(this)))}setOnline(e){N(this,Ki)!==e&&(J(this,Ki,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return N(this,Ki)}},Ki=new WeakMap,Pr=new WeakMap,qi=new WeakMap,sw),eu=new gO;function vO(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function yO(t){return Math.min(1e3*2**t,3e4)}function eC(t){return(t??"online")==="online"?eu.isOnline():!0}var tC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function cf(t){return t instanceof tC}function nC(t){let e=!1,n=0,r=!1,s;const i=vO(),o=v=>{var _;r||(f(new tC(v)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>ZE.isFocused()&&(t.networkMode==="always"||eu.isOnline())&&t.canRun(),u=()=>eC(t.networkMode)&&t.canRun(),d=v=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,v),s==null||s(),i.resolve(v))},f=v=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,v),s==null||s(),i.reject(v))},p=()=>new Promise(v=>{var _;s=g=>{(r||c())&&v(g)},(_=t.onPause)==null||_.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),x=()=>{if(r)return;let v;const _=n===0?t.initialPromise:void 0;try{v=_??t.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(d).catch(g=>{var S;if(r)return;const y=t.retry??(td?0:3),w=t.retryDelay??yO,E=typeof w=="function"?w(n,g):w,C=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,g);if(e||!C){f(g);return}n++,(S=t.onFail)==null||S.call(t,n,g),dO(E).then(()=>c()?void 0:p()).then(()=>{e?f(g):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?x():p().then(x),i)}}var _O=t=>setTimeout(t,0);function wO(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=_O;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var dt=wO(),Ps,iw,rC=(iw=class{constructor(){ue(this,Ps)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lO(this.gcTime)&&J(this,Ps,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(td?1/0:5*60*1e3))}clearGcTimeout(){N(this,Ps)&&(clearTimeout(N(this,Ps)),J(this,Ps,void 0))}},Ps=new WeakMap,iw),Qi,ks,$t,Rs,it,nl,As,nn,$n,ow,xO=(ow=class extends rC{constructor(e){super();ue(this,nn);ue(this,Qi);ue(this,ks);ue(this,$t);ue(this,Rs);ue(this,it);ue(this,nl);ue(this,As);J(this,As,!1),J(this,nl,e.defaultOptions),this.setOptions(e.options),this.observers=[],J(this,Rs,e.client),J(this,$t,N(this,Rs).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,J(this,Qi,CO(this.options)),this.state=e.state??N(this,Qi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=N(this,it))==null?void 0:e.promise}setOptions(e){this.options={...N(this,nl),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,$t).remove(this)}setData(e,n){const r=fO(this.state.data,e,this.options);return nt(this,nn,$n).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){nt(this,nn,$n).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=N(this,it))==null?void 0:r.promise;return(s=N(this,it))==null||s.cancel(e),n?n.then(tn).catch(tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,Qi))}isActive(){return this.observers.some(e=>uO(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Nm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>jh(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!cO(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=N(this,it))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=N(this,it))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),N(this,$t).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(N(this,it)&&(N(this,As)?N(this,it).cancel({revert:!0}):N(this,it).cancelRetry()),this.scheduleGc()),N(this,$t).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||nt(this,nn,$n).call(this,{type:"invalidate"})}fetch(e,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(N(this,it))return N(this,it).continueRetry(),N(this,it).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(J(this,As,!0),r.signal)})},i=()=>{const f=JE(this.options,n),x=(()=>{const v={client:N(this,Rs),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return J(this,As,!1),this.options.persister?this.options.persister(f,x,this):f(x)},a=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:N(this,Rs),state:this.state,fetchFn:i};return s(f),f})();(c=this.options.behavior)==null||c.onFetch(a,this),J(this,ks,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&nt(this,nn,$n).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=f=>{var p,x,v,_;cf(f)&&f.silent||nt(this,nn,$n).call(this,{type:"error",error:f}),cf(f)||((x=(p=N(this,$t).config).onError)==null||x.call(p,f,this),(_=(v=N(this,$t).config).onSettled)==null||_.call(v,this.state.data,f,this)),this.scheduleGc()};return J(this,it,nC({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,x,v,_;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){l(g);return}(x=(p=N(this,$t).config).onSuccess)==null||x.call(p,f,this),(_=(v=N(this,$t).config).onSettled)==null||_.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,p)=>{nt(this,nn,$n).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{nt(this,nn,$n).call(this,{type:"pause"})},onContinue:()=>{nt(this,nn,$n).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),N(this,it).start()}},Qi=new WeakMap,ks=new WeakMap,$t=new WeakMap,Rs=new WeakMap,it=new WeakMap,nl=new WeakMap,As=new WeakMap,nn=new WeakSet,$n=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...EO(r.data,this.options),fetchMeta:e.meta??null};case"success":return J(this,ks,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return cf(s)&&s.revert&&N(this,ks)?{...N(this,ks),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),dt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),N(this,$t).notify({query:this,type:"updated",action:e})})},ow);function EO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function CO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var bn,aw,SO=(aw=class extends ed{constructor(e={}){super();ue(this,bn);this.config=e,J(this,bn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Im(s,n);let o=this.get(i);return o||(o=new xO({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){N(this,bn).has(e.queryHash)||(N(this,bn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=N(this,bn).get(e.queryHash);n&&(e.destroy(),n===e&&N(this,bn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return N(this,bn).get(e)}getAll(){return[...N(this,bn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>xy(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>xy(e,r)):n}notify(e){dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){dt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){dt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},bn=new WeakMap,aw),Tn,ct,Os,In,yr,lw,bO=(lw=class extends rC{constructor(e){super();ue(this,In);ue(this,Tn);ue(this,ct);ue(this,Os);this.mutationId=e.mutationId,J(this,ct,e.mutationCache),J(this,Tn,[]),this.state=e.state||TO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){N(this,Tn).includes(e)||(N(this,Tn).push(e),this.clearGcTimeout(),N(this,ct).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){J(this,Tn,N(this,Tn).filter(n=>n!==e)),this.scheduleGc(),N(this,ct).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){N(this,Tn).length||(this.state.status==="pending"?this.scheduleGc():N(this,ct).remove(this))}continue(){var e;return((e=N(this,Os))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,c,u,d,f,p,x,v,_,g,y,w,E,C,S,b,T;const n=()=>{nt(this,In,yr).call(this,{type:"continue"})};J(this,Os,nC({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,R)=>{nt(this,In,yr).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{nt(this,In,yr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,ct).canRun(this)}));const r=this.state.status==="pending",s=!N(this,Os).canStart();try{if(r)n();else{nt(this,In,yr).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=N(this,ct).config).onMutate)==null?void 0:o.call(i,e,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));R!==this.state.context&&nt(this,In,yr).call(this,{type:"pending",context:R,variables:e,isPaused:s})}const A=await N(this,Os).start();return await((u=(c=N(this,ct).config).onSuccess)==null?void 0:u.call(c,A,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,A,e,this.state.context)),await((x=(p=N(this,ct).config).onSettled)==null?void 0:x.call(p,A,null,this.state.variables,this.state.context,this)),await((_=(v=this.options).onSettled)==null?void 0:_.call(v,A,null,e,this.state.context)),nt(this,In,yr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((y=(g=N(this,ct).config).onError)==null?void 0:y.call(g,A,e,this.state.context,this)),await((E=(w=this.options).onError)==null?void 0:E.call(w,A,e,this.state.context)),await((S=(C=N(this,ct).config).onSettled)==null?void 0:S.call(C,void 0,A,this.state.variables,this.state.context,this)),await((T=(b=this.options).onSettled)==null?void 0:T.call(b,void 0,A,e,this.state.context)),A}finally{nt(this,In,yr).call(this,{type:"error",error:A})}}finally{N(this,ct).runNext(this)}}},Tn=new WeakMap,ct=new WeakMap,Os=new WeakMap,In=new WeakSet,yr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),dt.batch(()=>{N(this,Tn).forEach(r=>{r.onMutationUpdate(e)}),N(this,ct).notify({mutation:this,type:"updated",action:e})})},lw);function TO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wn,rn,rl,cw,IO=(cw=class extends ed{constructor(e={}){super();ue(this,Wn);ue(this,rn);ue(this,rl);this.config=e,J(this,Wn,new Set),J(this,rn,new Map),J(this,rl,0)}build(e,n,r){const s=new bO({mutationCache:this,mutationId:++Tl(this,rl)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){N(this,Wn).add(e);const n=ql(e);if(typeof n=="string"){const r=N(this,rn).get(n);r?r.push(e):N(this,rn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(N(this,Wn).delete(e)){const n=ql(e);if(typeof n=="string"){const r=N(this,rn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&N(this,rn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ql(e);if(typeof n=="string"){const r=N(this,rn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=ql(e);if(typeof n=="string"){const s=(r=N(this,rn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){dt.batch(()=>{N(this,Wn).forEach(e=>{this.notify({type:"removed",mutation:e})}),N(this,Wn).clear(),N(this,rn).clear()})}getAll(){return Array.from(N(this,Wn))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Ey(n,r))}findAll(e={}){return this.getAll().filter(n=>Ey(e,n))}notify(e){dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return dt.batch(()=>Promise.all(e.map(n=>n.continue().catch(tn))))}},Wn=new WeakMap,rn=new WeakMap,rl=new WeakMap,cw);function ql(t){var e;return(e=t.options.scope)==null?void 0:e.id}function by(t){return{onFetch:(e,n)=>{var u,d,f,p,x;const r=e.options,s=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const _=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},g=JE(e.options,e.fetchOptions),y=async(w,E,C)=>{if(v)return Promise.reject();if(E==null&&w.pages.length)return Promise.resolve(w);const b=(()=>{const z={client:e.client,queryKey:e.queryKey,pageParam:E,direction:C?"backward":"forward",meta:e.options.meta};return _(z),z})(),T=await g(b),{maxPages:A}=e.options,R=C?pO:hO;return{pages:R(w.pages,T,A),pageParams:R(w.pageParams,E,A)}};if(s&&i.length){const w=s==="backward",E=w?NO:Ty,C={pages:i,pageParams:o},S=E(r,C);a=await y(C,S,w)}else{const w=t??i.length;do{const E=l===0?o[0]??r.initialPageParam:Ty(r,a);if(l>0&&E==null)break;a=await y(a,E),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var v,_;return(_=(v=e.options).persister)==null?void 0:_.call(v,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function Ty(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function NO(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var De,kr,Rr,Yi,Xi,Ar,Ji,Zi,uw,PO=(uw=class{constructor(t={}){ue(this,De);ue(this,kr);ue(this,Rr);ue(this,Yi);ue(this,Xi);ue(this,Ar);ue(this,Ji);ue(this,Zi);J(this,De,t.queryCache||new SO),J(this,kr,t.mutationCache||new IO),J(this,Rr,t.defaultOptions||{}),J(this,Yi,new Map),J(this,Xi,new Map),J(this,Ar,0)}mount(){Tl(this,Ar)._++,N(this,Ar)===1&&(J(this,Ji,ZE.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,De).onFocus())})),J(this,Zi,eu.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,De).onOnline())})))}unmount(){var t,e;Tl(this,Ar)._--,N(this,Ar)===0&&((t=N(this,Ji))==null||t.call(this),J(this,Ji,void 0),(e=N(this,Zi))==null||e.call(this),J(this,Zi,void 0))}isFetching(t){return N(this,De).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return N(this,kr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=N(this,De).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=N(this,De).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(jh(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return N(this,De).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=N(this,De).get(r.queryHash),i=s==null?void 0:s.state.data,o=aO(e,i);if(o!==void 0)return N(this,De).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return dt.batch(()=>N(this,De).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=N(this,De).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=N(this,De);dt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=N(this,De);return dt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=dt.batch(()=>N(this,De).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(tn).catch(tn)}invalidateQueries(t,e={}){return dt.batch(()=>(N(this,De).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=dt.batch(()=>N(this,De).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(tn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(tn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=N(this,De).build(this,e);return n.isStaleByTime(jh(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(tn).catch(tn)}fetchInfiniteQuery(t){return t.behavior=by(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(tn).catch(tn)}ensureInfiniteQueryData(t){return t.behavior=by(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return eu.isOnline()?N(this,kr).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,De)}getMutationCache(){return N(this,kr)}getDefaultOptions(){return N(this,Rr)}setDefaultOptions(t){J(this,Rr,t)}setQueryDefaults(t,e){N(this,Yi).set($a(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...N(this,Yi).values()],n={};return e.forEach(r=>{za(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){N(this,Xi).set($a(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...N(this,Xi).values()],n={};return e.forEach(r=>{za(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...N(this,Rr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Im(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Nm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...N(this,Rr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){N(this,De).clear(),N(this,kr).clear()}},De=new WeakMap,kr=new WeakMap,Rr=new WeakMap,Yi=new WeakMap,Xi=new WeakMap,Ar=new WeakMap,Ji=new WeakMap,Zi=new WeakMap,uw),kO=m.createContext(void 0),RO=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(kO.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ba(){return Ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ba.apply(this,arguments)}var Mr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mr||(Mr={}));const Iy="popstate";function AO(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=ri(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Uh("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:tu(i))}function r(s,i){Pm(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return DO(e,n,r,t)}function Fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OO(){return Math.random().toString(36).substr(2,8)}function Ny(t,e){return{usr:t.state,key:t.key,idx:e}}function Uh(t,e,n,r){return n===void 0&&(n=null),Ba({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ri(e):e,{state:n,key:e&&e.key||r||OO()})}function tu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ri(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function DO(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Mr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ba({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Mr.Pop;let _=u(),g=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:g})}function f(_,g){a=Mr.Push;let y=Uh(v.location,_,g);n&&n(y,_),c=u()+1;let w=Ny(y,c),E=v.createHref(y);try{o.pushState(w,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(E)}i&&l&&l({action:a,location:v.location,delta:1})}function p(_,g){a=Mr.Replace;let y=Uh(v.location,_,g);n&&n(y,_),c=u();let w=Ny(y,c),E=v.createHref(y);o.replaceState(w,"",E),i&&l&&l({action:a,location:v.location,delta:0})}function x(_){let g=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof _=="string"?_:tu(_);return y=y.replace(/ $/,"%20"),Fe(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let v={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Iy,d),l=_,()=>{s.removeEventListener(Iy,d),l=null}},createHref(_){return e(s,_)},createURL:x,encodeLocation(_){let g=x(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(_){return o.go(_)}};return v}var Py;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Py||(Py={}));function MO(t,e,n){return n===void 0&&(n="/"),LO(t,e,n,!1)}function LO(t,e,n,r){let s=typeof e=="string"?ri(e):e,i=km(s.pathname||"/",n);if(i==null)return null;let o=sC(t);jO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=qO(i);a=GO(o[l],c,r)}return a}function sC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Fe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Hr([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Fe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),sC(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:VO(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of iC(i.path))s(i,o,l)}),e}function iC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=iC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function jO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FO=/^:[\w-]+$/,UO=3,$O=2,zO=1,BO=10,WO=-2,ky=t=>t==="*";function VO(t,e){let n=t.split("/"),r=n.length;return n.some(ky)&&(r+=WO),e&&(r+=$O),n.filter(s=>!ky(s)).reduce((s,i)=>s+(FO.test(i)?UO:i===""?zO:BO),r)}function HO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function GO(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=Ry({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Ry({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Hr([i,d.pathname]),pathnameBase:JO(Hr([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Hr([i,d.pathnameBase]))}return o}function Ry(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let v=a[d]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=a[d];return p&&!x?c[f]=void 0:c[f]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function KO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Pm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function qO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function km(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function QO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ri(t):t;return{pathname:n?n.startsWith("/")?n:YO(n,e):e,search:ZO(r),hash:eD(s)}}function YO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function uf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rm(t,e){let n=XO(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Am(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ri(t):(s=Ba({},t),Fe(!s.pathname||!s.pathname.includes("?"),uf("?","pathname","search",s)),Fe(!s.pathname||!s.pathname.includes("#"),uf("#","pathname","hash",s)),Fe(!s.search||!s.search.includes("#"),uf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=QO(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Hr=t=>t.join("/").replace(/\/\/+/g,"/"),JO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oC=["post","put","patch","delete"];new Set(oC);const nD=["get",...oC];new Set(nD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wa(){return Wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wa.apply(this,arguments)}const Om=m.createContext(null),rD=m.createContext(null),cs=m.createContext(null),nd=m.createContext(null),us=m.createContext({outlet:null,matches:[],isDataRoute:!1}),aC=m.createContext(null);function sD(t,e){let{relative:n}=e===void 0?{}:e;So()||Fe(!1);let{basename:r,navigator:s}=m.useContext(cs),{hash:i,pathname:o,search:a}=cC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Hr([r,o])),s.createHref({pathname:l,search:a,hash:i})}function So(){return m.useContext(nd)!=null}function si(){return So()||Fe(!1),m.useContext(nd).location}function lC(t){m.useContext(cs).static||m.useLayoutEffect(t)}function Dm(){let{isDataRoute:t}=m.useContext(us);return t?vD():iD()}function iD(){So()||Fe(!1);let t=m.useContext(Om),{basename:e,future:n,navigator:r}=m.useContext(cs),{matches:s}=m.useContext(us),{pathname:i}=si(),o=JSON.stringify(Rm(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return lC(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Am(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Hr([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function cC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(cs),{matches:s}=m.useContext(us),{pathname:i}=si(),o=JSON.stringify(Rm(s,r.v7_relativeSplatPath));return m.useMemo(()=>Am(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function oD(t,e){return aD(t,e)}function aD(t,e,n,r){So()||Fe(!1);let{navigator:s}=m.useContext(cs),{matches:i}=m.useContext(us),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=si(),u;if(e){var d;let _=typeof e=="string"?ri(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||Fe(!1),u=_}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=MO(t,{pathname:p}),v=fD(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Hr([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Hr([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&v?m.createElement(nd.Provider,{value:{location:Wa({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Mr.Pop}},v):v}function lD(){let t=gD(),e=tD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const cD=m.createElement(lD,null);class uD extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(us.Provider,{value:this.props.routeContext},m.createElement(aC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dD(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(Om);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(us.Provider,{value:e},r)}function fD(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Fe(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,x=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,x=!1,v=null,_=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||cD,l&&(c<0&&f===0?(x=!0,_=null):c===f&&(x=!0,_=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),y=()=>{let w;return p?w=v:x?w=_:d.route.Component?w=m.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,m.createElement(dD,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?m.createElement(uD,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var uC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uC||{}),nu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(nu||{});function hD(t){let e=m.useContext(Om);return e||Fe(!1),e}function pD(t){let e=m.useContext(rD);return e||Fe(!1),e}function mD(t){let e=m.useContext(us);return e||Fe(!1),e}function dC(t){let e=mD(),n=e.matches[e.matches.length-1];return n.route.id||Fe(!1),n.route.id}function gD(){var t;let e=m.useContext(aC),n=pD(nu.UseRouteError),r=dC(nu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function vD(){let{router:t}=hD(uC.UseNavigateStable),e=dC(nu.UseNavigateStable),n=m.useRef(!1);return lC(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Wa({fromRouteId:e},i)))},[t,e])}function yD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function _D(t){let{to:e,replace:n,state:r,relative:s}=t;So()||Fe(!1);let{future:i,static:o}=m.useContext(cs),{matches:a}=m.useContext(us),{pathname:l}=si(),c=Dm(),u=Am(e,Rm(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:s}),[c,d,s,n,r]),null}function gi(t){Fe(!1)}function wD(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Mr.Pop,navigator:i,static:o=!1,future:a}=t;So()&&Fe(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:Wa({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ri(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:x="default"}=r,v=m.useMemo(()=>{let _=km(u,l);return _==null?null:{location:{pathname:_,search:d,hash:f,state:p,key:x},navigationType:s}},[l,u,d,f,p,x,s]);return v==null?null:m.createElement(cs.Provider,{value:c},m.createElement(nd.Provider,{children:n,value:v}))}function xD(t){let{children:e,location:n}=t;return oD($h(e),n)}new Promise(()=>{});function $h(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,s)=>{if(!m.isValidElement(r))return;let i=[...e,s];if(r.type===m.Fragment){n.push.apply(n,$h(r.props.children,i));return}r.type!==gi&&Fe(!1),!r.props.index||!r.props.children||Fe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=$h(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zh(){return zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zh.apply(this,arguments)}function ED(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function CD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function SD(t,e){return t.button===0&&(!e||e==="_self")&&!CD(t)}const bD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TD="6";try{window.__reactRouterVersion=TD}catch{}const ID="startTransition",Ay=wp[ID];function ND(t){let{basename:e,children:n,future:r,window:s}=t,i=m.useRef();i.current==null&&(i.current=AO({window:s,v5Compat:!0}));let o=i.current,[a,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=m.useCallback(d=>{c&&Ay?Ay(()=>l(d)):l(d)},[l,c]);return m.useLayoutEffect(()=>o.listen(u),[o,u]),m.useEffect(()=>yD(r),[r]),m.createElement(wD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const PD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vi=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=ED(e,bD),{basename:p}=m.useContext(cs),x,v=!1;if(typeof c=="string"&&kD.test(c)&&(x=c,PD))try{let w=new URL(window.location.href),E=c.startsWith("//")?new URL(w.protocol+c):new URL(c),C=km(E.pathname,p);E.origin===w.origin&&C!=null?c=C+E.search+E.hash:v=!0}catch{}let _=sD(c,{relative:s}),g=RD(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:d});function y(w){r&&r(w),w.defaultPrevented||g(w)}return m.createElement("a",zh({},f,{href:x||_,onClick:v||i?r:y,ref:n,target:l}))});var Oy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Oy||(Oy={}));var Dy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Dy||(Dy={}));function RD(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Dm(),c=si(),u=cC(t,{relative:o});return m.useCallback(d=>{if(SD(d,n)){d.preventDefault();let f=r!==void 0?r:tu(c)===tu(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const AD=()=>{};var My={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(t,e){if(!t)throw bo(e)},bo=function(t){return new Error("Firebase Database ("+fC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},OD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Mm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new DD;const f=i<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const x=c<<6&192|d;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pC=function(t){const e=hC(t);return Mm.encodeByteArray(e,!0)},ru=function(t){return pC(t).replace(/\./g,"")},su=function(t){try{return Mm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t){return mC(void 0,t)}function mC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!LD(n)||(t[n]=mC(t[n],e[n]));return t}function LD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=()=>jD().__FIREBASE_DEFAULTS__,UD=()=>{if(typeof process>"u"||typeof My>"u")return;const t=My.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$D=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&su(t[1]);return e&&JSON.parse(e)},Lm=()=>{try{return AD()||FD()||UD()||$D()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gC=t=>{var e,n;return(n=(e=Lm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},zD=t=>{const e=gC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vC=()=>{var t;return(t=Lm())==null?void 0:t.config},yC=t=>{var e;return(e=Lm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _C(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ru(JSON.stringify(n)),ru(JSON.stringify(o)),""].join(".")}const pa={};function WD(){const t={prod:[],emulator:[]};for(const e of Object.keys(pa))pa[e]?t.emulator.push(e):t.prod.push(e);return t}function VD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ly=!1;function wC(t,e){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||pa[t]===e||pa[t]||Ly)return;pa[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=WD().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Ly=!0,o()},f}function u(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=VD(r),p=n("text"),x=document.getElementById(p)||document.createElement("span"),v=n("learnmore"),_=document.getElementById(v)||document.createElement("a"),g=n("preprendIcon"),y=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const w=f.element;a(w),u(_,v);const E=c();l(y,g),w.append(y,x,_,E),document.body.appendChild(w)}i?(x.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function HD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KD(){const t=pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EC(){return fC.NODE_ADMIN===!0}function qD(){try{return typeof indexedDB=="object"}catch{return!1}}function QD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD="FirebaseError";class ds extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YD,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fl.prototype.create)}}class fl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?XD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ds(s,a,r)}}function XD(t,e){return t.replace(JD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const JD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){return JSON.parse(t)}function Be(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Va(su(i[0])||""),n=Va(su(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},ZD=function(t){const e=CC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},eM=function(t){const e=CC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function fo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Bh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function iu(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Ws(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(jy(i)&&jy(o)){if(!Ws(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function jy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ta(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function na(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):d<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const f=(s<<5|s>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function nM(t,e){const n=new rM(t,e);return n.subscribe.bind(n)}class rM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=df),s.error===void 0&&(s.error=df),s.complete===void 0&&(s.complete=df);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function df(){}function Fm(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},sd=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return t&&t._delegate?t._delegate:t}class Vs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lM(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aM(t){return t===xs?void 0:t}function lM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const uM={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},dM=ge.INFO,fM={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},hM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=fM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Um{constructor(e){this.name=e,this._logLevel=dM,this._logHandler=hM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const pM=(t,e)=>e.some(n=>t instanceof n);let Fy,Uy;function mM(){return Fy||(Fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gM(){return Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SC=new WeakMap,Wh=new WeakMap,bC=new WeakMap,ff=new WeakMap,$m=new WeakMap;function vM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Gr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SC.set(n,t)}).catch(()=>{}),$m.set(e,t),e}function yM(t){if(Wh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Wh.set(t,e)}let Vh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _M(t){Vh=t(Vh)}function wM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hf(this),e,...n);return bC.set(r,e.sort?e.sort():[e]),Gr(r)}:gM().includes(t)?function(...e){return t.apply(hf(this),e),Gr(SC.get(this))}:function(...e){return Gr(t.apply(hf(this),e))}}function xM(t){return typeof t=="function"?wM(t):(t instanceof IDBTransaction&&yM(t),pM(t,mM())?new Proxy(t,Vh):t)}function Gr(t){if(t instanceof IDBRequest)return vM(t);if(ff.has(t))return ff.get(t);const e=xM(t);return e!==t&&(ff.set(t,e),$m.set(e,t)),e}const hf=t=>$m.get(t);function EM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Gr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gr(o.result),l.oldVersion,l.newVersion,Gr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const CM=["get","getKey","getAll","getAllKeys","count"],SM=["put","add","delete","clear"],pf=new Map;function $y(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pf.get(e))return pf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=SM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||CM.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return pf.set(e,i),i}_M(t=>({...t,get:(e,n,r)=>$y(e,n)||t.get(e,n,r),has:(e,n)=>!!$y(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hh="@firebase/app",zy="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new Um("@firebase/app"),IM="@firebase/app-compat",NM="@firebase/analytics-compat",PM="@firebase/analytics",kM="@firebase/app-check-compat",RM="@firebase/app-check",AM="@firebase/auth",OM="@firebase/auth-compat",DM="@firebase/database",MM="@firebase/data-connect",LM="@firebase/database-compat",jM="@firebase/functions",FM="@firebase/functions-compat",UM="@firebase/installations",$M="@firebase/installations-compat",zM="@firebase/messaging",BM="@firebase/messaging-compat",WM="@firebase/performance",VM="@firebase/performance-compat",HM="@firebase/remote-config",GM="@firebase/remote-config-compat",KM="@firebase/storage",qM="@firebase/storage-compat",QM="@firebase/firestore",YM="@firebase/ai",XM="@firebase/firestore-compat",JM="firebase",ZM="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="[DEFAULT]",eL={[Hh]:"fire-core",[IM]:"fire-core-compat",[PM]:"fire-analytics",[NM]:"fire-analytics-compat",[RM]:"fire-app-check",[kM]:"fire-app-check-compat",[AM]:"fire-auth",[OM]:"fire-auth-compat",[DM]:"fire-rtdb",[MM]:"fire-data-connect",[LM]:"fire-rtdb-compat",[jM]:"fire-fn",[FM]:"fire-fn-compat",[UM]:"fire-iid",[$M]:"fire-iid-compat",[zM]:"fire-fcm",[BM]:"fire-fcm-compat",[WM]:"fire-perf",[VM]:"fire-perf-compat",[HM]:"fire-rc",[GM]:"fire-rc-compat",[KM]:"fire-gcs",[qM]:"fire-gcs-compat",[QM]:"fire-fst",[XM]:"fire-fst-compat",[YM]:"fire-vertex","fire-js":"fire-js",[JM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=new Map,tL=new Map,Kh=new Map;function By(t,e){try{t.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ho(t){const e=t.name;if(Kh.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;Kh.set(e,t);for(const n of ou.values())By(n,t);for(const n of tL.values())By(n,t);return!0}function zm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function an(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new fl("app","Firebase",nL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=ZM;function TC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Gh,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Kr.create("bad-app-name",{appName:String(s)});if(n||(n=vC()),!n)throw Kr.create("no-options");const i=ou.get(s);if(i){if(Ws(n,i.options)&&Ws(r,i.config))return i;throw Kr.create("duplicate-app",{appName:s})}const o=new cM(s);for(const l of Kh.values())o.addComponent(l);const a=new rL(n,r,o);return ou.set(s,a),a}function IC(t=Gh){const e=ou.get(t);if(!e&&t===Gh&&vC())return TC();if(!e)throw Kr.create("no-app",{appName:t});return e}function qr(t,e,n){let r=eL[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(o.join(" "));return}ho(new Vs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="firebase-heartbeat-database",iL=1,Ha="firebase-heartbeat-store";let mf=null;function NC(){return mf||(mf=EM(sL,iL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ha)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),mf}async function oL(t){try{const n=(await NC()).transaction(Ha),r=await n.objectStore(Ha).get(PC(t));return await n.done,r}catch(e){if(e instanceof ds)sr.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sr.warn(n.message)}}}async function Wy(t,e){try{const r=(await NC()).transaction(Ha,"readwrite");await r.objectStore(Ha).put(e,PC(t)),await r.done}catch(n){if(n instanceof ds)sr.warn(n.message);else{const r=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});sr.warn(r.message)}}}function PC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=1024,lL=30;class cL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Vy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>lL){const o=fL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vy(),{heartbeatsToSend:r,unsentEntries:s}=uL(this._heartbeatsCache.heartbeats),i=ru(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return sr.warn(n),""}}}function Vy(){return new Date().toISOString().substring(0,10)}function uL(t,e=aL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Hy(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Hy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qD()?QD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Hy(t){return ru(JSON.stringify({version:2,heartbeats:t})).length}function fL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t){ho(new Vs("platform-logger",e=>new bM(e),"PRIVATE")),ho(new Vs("heartbeat",e=>new cL(e),"PRIVATE")),qr(Hh,zy,t),qr(Hh,zy,"esm2020"),qr("fire-js","")}hL("");function kC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pL=kC,RC=new fl("auth","Firebase",kC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=new Um("@firebase/auth");function mL(t,...e){au.logLevel<=ge.WARN&&au.warn(`Auth (${No}): ${t}`,...e)}function vc(t,...e){au.logLevel<=ge.ERROR&&au.error(`Auth (${No}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,...e){throw Bm(t,...e)}function Dn(t,...e){return Bm(t,...e)}function AC(t,e,n){const r={...pL(),[e]:n};return new fl("auth","Firebase",r).create(e,{appName:t.name})}function Qr(t){return AC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RC.create(t,...e)}function G(t,e,...n){if(!t)throw Bm(e,...n)}function Gn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vc(e),new Error(e)}function ir(t,e){t||Gn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function gL(){return Gy()==="http:"||Gy()==="https:"}function Gy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gL()||GD()||"connection"in navigator)?navigator.onLine:!0}function yL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=jm()||xC()}get(){return vL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t,e){ir(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xL=new hl(3e4,6e4);function ii(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fs(t,e,n,r,s={}){return DC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Io({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return HD()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&To(t.emulatorConfig.host)&&(c.credentials="include"),OC.fetch()(await MC(t,t.config.apiHost,n,a),c)})}async function DC(t,e,n){t._canInitEmulator=!1;const r={..._L,...e};try{const s=new CL(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ql(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ql(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ql(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ql(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw AC(t,u,c);_n(t,u)}}catch(s){if(s instanceof ds)throw s;_n(t,"network-request-failed",{message:String(s)})}}async function id(t,e,n,r,s={}){const i=await fs(t,e,n,r,s);return"mfaPendingCredential"in i&&_n(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function MC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Wm(t.config,s):`${t.config.apiScheme}://${s}`;return wL.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function EL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dn(this.auth,"network-request-failed")),xL.get())})}}function Ql(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Dn(t,e,r);return s.customData._tokenResponse=n,s}function Ky(t){return t!==void 0&&t.enterprise!==void 0}class SL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bL(t,e){return fs(t,"GET","/v2/recaptchaConfig",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(t,e){return fs(t,"POST","/v1/accounts:delete",e)}async function lu(t,e){return fs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IL(t,e=!1){const n=vt(t),r=await n.getIdToken(e),s=Vm(r);G(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ma(gf(s.auth_time)),issuedAtTime:ma(gf(s.iat)),expirationTime:ma(gf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function gf(t){return Number(t)*1e3}function Vm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vc("JWT malformed, contained fewer than 3 sections"),null;try{const s=su(n);return s?JSON.parse(s):(vc("Failed to decode base64 JWT payload"),null)}catch(s){return vc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function qy(t){const e=Vm(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ds&&NL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function NL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ma(this.lastLoginAt),this.creationTime=ma(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Ga(t,lu(e,{idToken:n}));G(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(d=s.providerUserInfo)!=null&&d.length?LC(s.providerUserInfo):[],o=RL(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Qh(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function kL(t){const e=vt(t);await cu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function LC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t,e){const n=await DC(t,{},async()=>{const r=Io({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await MC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&To(t.emulatorConfig.host)&&(l.credentials="include"),OC.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OL(t,e){return fs(t,"POST","/v2/accounts:revokeToken",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(e.length!==0,"internal-error");const n=qy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await AL(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new $i;return r&&(G(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(G(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(G(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $i,this.toJSON())}_performRefresh(){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class un{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new PL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Qh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ga(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IL(this,e)}reload(){return kL(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new un({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(an(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await Ga(this,TL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:x,stsTokenManager:v}=n;G(d&&v,e,"internal-error");const _=$i.fromJSON(this.name,v);G(typeof d=="string",e,"internal-error"),vr(r,e.name),vr(s,e.name),G(typeof f=="boolean",e,"internal-error"),G(typeof p=="boolean",e,"internal-error"),vr(i,e.name),vr(o,e.name),vr(a,e.name),vr(l,e.name),vr(c,e.name),vr(u,e.name);const g=new un({uid:d,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:_,createdAt:c,lastLoginAt:u});return x&&Array.isArray(x)&&(g.providerData=x.map(y=>({...y}))),l&&(g._redirectEventId=l),g}static async _fromIdTokenResponse(e,n,r=!1){const s=new $i;s.updateFromServerResponse(n);const i=new un({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await cu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];G(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?LC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new $i;a.updateFromIdToken(r);const l=new un({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Qh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=new Map;function Kn(t){ir(t instanceof Function,"Expected a class definition");let e=Qy.get(t);return e?(ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Qy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jC.type="NONE";const Yy=jC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t,e,n){return`firebase:${t}:${e}:${n}`}class zi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=yc(this.userKey,s.apiKey,i),this.fullPersistenceKey=yc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lu(this.auth,{idToken:e}).catch(()=>{});return n?un._fromGetAccountInfoResponse(this.auth,n,e):null}return un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zi(Kn(Yy),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Kn(Yy);const o=yc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let d;if(typeof u=="string"){const f=await lu(e,{idToken:u}).catch(()=>{});if(!f)break;d=await un._fromGetAccountInfoResponse(e,f,u)}else d=un._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new zi(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new zi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WC(e))return"Blackberry";if(VC(e))return"Webos";if(UC(e))return"Safari";if((e.includes("chrome/")||$C(e))&&!e.includes("edge/"))return"Chrome";if(BC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FC(t=pt()){return/firefox\//i.test(t)}function UC(t=pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $C(t=pt()){return/crios\//i.test(t)}function zC(t=pt()){return/iemobile/i.test(t)}function BC(t=pt()){return/android/i.test(t)}function WC(t=pt()){return/blackberry/i.test(t)}function VC(t=pt()){return/webos/i.test(t)}function Hm(t=pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DL(t=pt()){var e;return Hm(t)&&!!((e=window.navigator)!=null&&e.standalone)}function ML(){return KD()&&document.documentMode===10}function HC(t=pt()){return Hm(t)||BC(t)||VC(t)||WC(t)||/windows phone/i.test(t)||zC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t,e=[]){let n;switch(t){case"Browser":n=Xy(pt());break;case"Worker":n=`${Xy(pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${No}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(t,e={}){return fs(t,"GET","/v2/passwordPolicy",ii(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=6;class UL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??FL,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jy(this),this.idTokenSubscription=new Jy(this),this.beforeStateQueue=new LL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await zi.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lu(this,{idToken:e}),r=await un._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(an(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(an(this.app))return Promise.reject(Qr(this));const n=e?vt(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return an(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return an(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jL(this),n=new UL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await OL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kn(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await zi.create(this,[Kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&mL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Po(t){return vt(t)}class Jy{constructor(e){this.auth=e,this.observer=null,this.addObserver=nM(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zL(t){od=t}function KC(t){return od.loadJS(t)}function BL(){return od.recaptchaEnterpriseScript}function WL(){return od.gapiScript}function VL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class HL{constructor(){this.enterprise=new GL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class GL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const KL="recaptcha-enterprise",qC="NO_RECAPTCHA";class qL{constructor(e){this.type=KL,this.auth=Po(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{bL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new SL(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Ky(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(qC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HL().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Ky(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=BL();l.length!==0&&(l+=a),KC(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Zy(t,e,n,r=!1,s=!1){const i=new qL(t);let o;if(s)o=qC;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function e_(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Zy(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Zy(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t,e){const n=zm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ws(i,e??{}))return s;_n(s,"already-initialized")}return n.initialize({options:e})}function YL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function XL(t,e,n){const r=Po(t);G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=QC(e),{host:o,port:a}=JL(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){G(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),G(Ws(c,r.config.emulator)&&Ws(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,To(o)?(_C(`${i}//${o}${l}`),wC("Auth",!0)):ZL()}function QC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JL(t){const e=QC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:t_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:t_(o)}}}function t_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,n){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}}async function e2(t,e){return fs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(t,e){return id(t,"POST","/v1/accounts:signInWithPassword",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(t,e){return id(t,"POST","/v1/accounts:signInWithEmailLink",ii(t,e))}async function r2(t,e){return id(t,"POST","/v1/accounts:signInWithEmailLink",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Gm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ka(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ka(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e_(e,n,"signInWithPassword",t2);case"emailLink":return n2(e,{email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e_(e,r,"signUpPassword",e2);case"emailLink":return r2(e,{idToken:n,email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bi(t,e){return id(t,"POST","/v1/accounts:signInWithIdp",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="http://localhost";class Hs extends Gm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Hs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Bi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bi(e,n)}buildRequest(){const e={requestUri:s2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Io(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function o2(t){const e=ta(na(t)).link,n=e?ta(na(e)).deep_link_id:null,r=ta(na(t)).deep_link_id;return(r?ta(na(r)).link:null)||r||n||e||t}class Km{constructor(e){const n=ta(na(e)),r=n.apiKey??null,s=n.oobCode??null,i=i2(n.mode??null);G(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=o2(e);try{return new Km(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return Ka._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Km.parseLink(n);return G(r,"argument-error"),Ka._fromEmailAndCode(e,r.code,r.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends YC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends pl{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends pl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hs._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return br.credential(n,r)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends pl{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends pl{constructor(){super("twitter.com")}static credential(e,n){return Hs._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ir.credential(n,r)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await un._fromIdTokenResponse(e,r,s),o=n_(r);return new po({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=n_(r);return new po({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function n_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends ds{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,uu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new uu(e,n,r,s)}}function XC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?uu._fromErrorAndOperation(t,i,e,r):i})}async function a2(t,e,n=!1){const r=await Ga(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(t,e,n=!1){const{auth:r}=t;if(an(r.app))return Promise.reject(Qr(r));const s="reauthenticate";try{const i=await Ga(t,XC(r,s,e,t),n);G(i.idToken,r,"internal-error");const o=Vm(i.idToken);G(o,r,"internal-error");const{sub:a}=o;return G(t.uid===a,r,"user-mismatch"),po._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&_n(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(t,e,n=!1){if(an(t.app))return Promise.reject(Qr(t));const r="signIn",s=await XC(t,r,e),i=await po._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function c2(t,e){return JC(Po(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(t){const e=Po(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function d2(t,e,n){return an(t.app)?Promise.reject(Qr(t)):c2(vt(t),ko.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&u2(t),r})}function f2(t,e,n,r){return vt(t).onIdTokenChanged(e,n,r)}function h2(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function p2(t,e,n,r){return vt(t).onAuthStateChanged(e,n,r)}function m2(t){return vt(t).signOut()}const du="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(du,"1"),this.storage.removeItem(du),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=1e3,v2=10;class eS extends ZC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);ML()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,v2):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},g2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eS.type="LOCAL";const y2=eS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS extends ZC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tS.type="SESSION";const nS=tS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ad(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await _2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=qm("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return window}function x2(t){Mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(){return typeof Mn().WorkerGlobalScope<"u"&&typeof Mn().importScripts=="function"}async function E2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function S2(){return rS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="firebaseLocalStorageDb",b2=1,fu="firebaseLocalStorage",iS="fbase_key";class ml{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ld(t,e){return t.transaction([fu],e?"readwrite":"readonly").objectStore(fu)}function T2(){const t=indexedDB.deleteDatabase(sS);return new ml(t).toPromise()}function Yh(){const t=indexedDB.open(sS,b2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fu,{keyPath:iS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fu)?e(r):(r.close(),await T2(),e(await Yh()))})})}async function r_(t,e,n){const r=ld(t,!0).put({[iS]:e,value:n});return new ml(r).toPromise()}async function I2(t,e){const n=ld(t,!1).get(e),r=await new ml(n).toPromise();return r===void 0?null:r.value}function s_(t,e){const n=ld(t,!0).delete(e);return new ml(n).toPromise()}const N2=800,P2=3;class oS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>P2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ad._getInstance(S2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await E2(),!this.activeServiceWorker)return;this.sender=new w2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yh();return await r_(e,du,"1"),await s_(e,du),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>r_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>I2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>s_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ld(s,!1).getAll();return new ml(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oS.type="LOCAL";const k2=oS;new hl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t,e){return e?Kn(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends Gm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function A2(t){return JC(t.auth,new Qm(t),t.bypassAuthState)}function O2(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),l2(n,new Qm(t),t.bypassAuthState)}async function D2(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),a2(n,new Qm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return A2;case"linkViaPopup":case"linkViaRedirect":return D2;case"reauthViaPopup":case"reauthViaRedirect":return O2;default:_n(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new hl(2e3,1e4);class ki extends aS{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ki.currentPopupAction&&ki.currentPopupAction.cancel(),ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return G(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M2.get())};e()}}ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="pendingRedirect",_c=new Map;class j2 extends aS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_c.get(this.auth._key());if(!e){try{const r=await F2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_c.set(this.auth._key(),e)}return this.bypassAuthState||_c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F2(t,e){const n=z2(e),r=$2(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function U2(t,e){_c.set(t._key(),e)}function $2(t){return Kn(t._redirectPersistence)}function z2(t){return yc(L2,t.config.apiKey,t.name)}async function B2(t,e,n=!1){if(an(t.app))return Promise.reject(Qr(t));const r=Po(t),s=R2(r,e),o=await new j2(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=10*60*1e3;class V2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!H2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lS(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W2&&this.cachedEventUids.clear(),this.cachedEventUids.has(i_(e))}saveEventToCache(e){this.cachedEventUids.add(i_(e)),this.lastProcessedEventTime=Date.now()}}function i_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function H2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(t,e={}){return fs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q2=/^https?/;async function Q2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await G2(t);for(const n of e)try{if(Y2(n))return}catch{}_n(t,"unauthorized-domain")}function Y2(t){const e=qh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!q2.test(n))return!1;if(K2.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new hl(3e4,6e4);function o_(){const t=Mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function J2(t){return new Promise((e,n)=>{var s,i,o;function r(){o_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o_(),n(Dn(t,"network-request-failed"))},timeout:X2.get()})}if((i=(s=Mn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Mn().gapi)!=null&&o.load)r();else{const a=VL("iframefcb");return Mn()[a]=()=>{gapi.load?r():n(Dn(t,"network-request-failed"))},KC(`${WL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw wc=null,e})}let wc=null;function Z2(t){return wc=wc||J2(t),wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=new hl(5e3,15e3),tj="__/auth/iframe",nj="emulator/auth/iframe",rj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ij(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Wm(e,nj):`https://${t.config.authDomain}/${tj}`,r={apiKey:e.apiKey,appName:t.name,v:No},s=sj.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Io(r).slice(1)}`}async function oj(t){const e=await Z2(t),n=Mn().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:ij(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Dn(t,"network-request-failed"),a=Mn().setTimeout(()=>{i(o)},ej.get());function l(){Mn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lj=500,cj=600,uj="_blank",dj="http://localhost";class a_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fj(t,e,n,r=lj,s=cj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...aj,width:r.toString(),height:s.toString(),top:i,left:o},c=pt().toLowerCase();n&&(a=$C(c)?uj:n),FC(c)&&(e=e||dj,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,x])=>`${f}${p}=${x},`,"");if(DL(c)&&a!=="_self")return hj(e||"",a),new a_(null);const d=window.open(e||"",a,u);G(d,t,"popup-blocked");try{d.focus()}catch{}return new a_(d)}function hj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="__/auth/handler",mj="emulator/auth/handler",gj=encodeURIComponent("fac");async function l_(t,e,n,r,s,i){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:No,eventId:s};if(e instanceof YC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Bh(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof pl){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${gj}=${encodeURIComponent(l)}`:"";return`${vj(t)}?${Io(a).slice(1)}${c}`}function vj({config:t}){return t.emulator?Wm(t,mj):`https://${t.authDomain}/${pj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="webStorageSupport";class yj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nS,this._completeRedirectFn=B2,this._overrideRedirectResult=U2}async _openPopup(e,n,r,s){var o;ir((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await l_(e,n,r,qh(),s);return fj(e,i,qm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await l_(e,n,r,qh(),s);return x2(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ir(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oj(e),r=new V2(e);return n.register("authEvent",s=>(G(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vf,{type:vf},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[vf];i!==void 0&&n(!!i),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Q2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HC()||UC()||Hm()}}const _j=yj;var c_="@firebase/auth",u_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ej(t){ho(new Vs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GC(t)},c=new $L(r,s,i,l);return YL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ho(new Vs("auth-internal",e=>{const n=Po(e.getProvider("auth").getImmediate());return(r=>new wj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(c_,u_,xj(t)),qr(c_,u_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=5*60,Sj=yC("authIdTokenMaxAge")||Cj;let d_=null;const bj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Sj)return;const s=n==null?void 0:n.token;d_!==s&&(d_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Tj(t=IC()){const e=zm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=QL(t,{popupRedirectResolver:_j,persistence:[k2,y2,nS]}),r=yC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=bj(i.toString());h2(n,o,()=>o(n.currentUser)),f2(n,a=>o(a))}}const s=gC("auth");return s&&XL(n,`http://${s}`),n}function Ij(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}zL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Dn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Ij().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ej("Browser");var Nj="firebase",Pj="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(Nj,Pj,"app");var f_={};const h_="@firebase/database",p_="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cS="";function kj(t){cS=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Be(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Va(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return lr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Rj(e)}}catch{}return new Aj},Ts=uS("localStorage"),Oj=uS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Um("@firebase/database"),Dj=function(){let t=1;return function(){return t++}}(),dS=function(t){const e=iM(t),n=new tM;n.update(e);const r=n.digest();return Mm.encodeByteArray(r)},gl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=gl.apply(null,r):typeof r=="object"?e+=Be(r):e+=r,e+=" "}return e};let ga=null,m_=!0;const Mj=function(t,e){D(!e,"Can't turn on custom loggers persistently."),Wi.logLevel=ge.VERBOSE,ga=Wi.log.bind(Wi)},at=function(...t){if(m_===!0&&(m_=!1,ga===null&&Oj.get("logging_enabled")===!0&&Mj()),ga){const e=gl.apply(null,t);ga(e)}},vl=function(t){return function(...e){at(t,...e)}},Xh=function(...t){const e="FIREBASE INTERNAL ERROR: "+gl(...t);Wi.error(e)},or=function(...t){const e=`FIREBASE FATAL ERROR: ${gl(...t)}`;throw Wi.error(e),new Error(e)},It=function(...t){const e="FIREBASE WARNING: "+gl(...t);Wi.warn(e)},Lj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&It("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fS=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},jj=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},mo="[MIN_NAME]",Gs="[MAX_NAME]",Ro=function(t,e){if(t===e)return 0;if(t===mo||e===Gs)return-1;if(e===mo||t===Gs)return 1;{const n=g_(t),r=g_(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Fj=function(t,e){return t===e?0:t<e?-1:1},Ko=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Be(e))},Ym=function(t){if(typeof t!="object"||t===null)return Be(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Be(e[r]),n+=":",n+=Ym(t[e[r]]);return n+="}",n},hS=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Nt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const pS=function(t){D(!fS(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},Uj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$j=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function zj(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Bj=new RegExp("^-?(0*)\\d{1,10}$"),Wj=-2147483648,Vj=2147483647,g_=function(t){if(Bj.test(t)){const e=Number(t);if(e>=Wj&&e<=Vj)return e}return null},Ao=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw It("Exception was thrown by user callback.",n),e},Math.floor(0))}},Hj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},va=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,an(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){It(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(at("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',It(e)}}class xc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}xc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="5",mS="v",gS="s",vS="r",yS="f",_S=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wS="ls",xS="p",Jh="ac",ES="websocket",CS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ts.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ts.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function qj(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function bS(t,e,n){D(typeof e=="string","typeof type must == string"),D(typeof n=="object","typeof params must == object");let r;if(e===ES)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===CS)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);qj(t)&&(n.ns=t.namespace);const s=[];return Nt(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(){this.counters_={}}incrementCounter(e,n=1){lr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return MD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf={},_f={};function Jm(t){const e=t.toString();return yf[e]||(yf[e]=new Qj),yf[e]}function Yj(t,e){const n=t.toString();return _f[n]||(_f[n]=e()),_f[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Ao(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="start",Jj="close",Zj="pLPCommand",eF="pRTLPCB",TS="id",IS="pw",NS="ser",tF="cb",nF="seg",rF="ts",sF="d",iF="dframe",PS=1870,kS=30,oF=PS-kS,aF=25e3,lF=3e4;class Ri{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vl(e),this.stats_=Jm(n),this.urlFn=l=>(this.appCheckToken&&(l[Jh]=this.appCheckToken),bS(n,CS,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Xj(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lF)),jj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zm((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===v_)this.id=a,this.password=l;else if(o===Jj)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[v_]="t",r[NS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[tF]=this.scriptTagHolder.uniqueCallbackIdentifier),r[mS]=Xm,this.transportSessionId&&(r[gS]=this.transportSessionId),this.lastSessionId&&(r[wS]=this.lastSessionId),this.applicationId&&(r[xS]=this.applicationId),this.appCheckToken&&(r[Jh]=this.appCheckToken),typeof location<"u"&&location.hostname&&_S.test(location.hostname)&&(r[vS]=yS);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ri.forceAllow_=!0}static forceDisallow(){Ri.forceDisallow_=!0}static isAvailable(){return Ri.forceAllow_?!0:!Ri.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Uj()&&!$j()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=pC(n),s=hS(r,oF);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[iF]="t",r[TS]=e,r[IS]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Be(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Zm{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Dj(),window[Zj+this.uniqueCallbackIdentifier]=e,window[eF+this.uniqueCallbackIdentifier]=n,this.myIFrame=Zm.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){at("frame writing exception"),a.stack&&at(a.stack),at(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||at("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[TS]=this.myID,e[IS]=this.myPW,e[NS]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+kS+r.length<=PS;){const o=this.pendingSegs.shift();r=r+"&"+nF+s+"="+o.seg+"&"+rF+s+"="+o.ts+"&"+sF+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(aF)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{at("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=16384,uF=45e3;let hu=null;typeof MozWebSocket<"u"?hu=MozWebSocket:typeof WebSocket<"u"&&(hu=WebSocket);class ln{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vl(this.connId),this.stats_=Jm(n),this.connURL=ln.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[mS]=Xm,typeof location<"u"&&location.hostname&&_S.test(location.hostname)&&(o[vS]=yS),n&&(o[gS]=n),r&&(o[wS]=r),s&&(o[Jh]=s),i&&(o[xS]=i),bS(e,ES,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ts.set("previous_websocket_failure",!0);try{let r;EC(),this.mySock=new hu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){ln.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&hu!==null&&!ln.forceDisallow_}static previouslyFailed(){return Ts.isInMemoryStorage||Ts.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ts.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Va(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(D(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=hS(n,cF);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(uF))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ln.responsesRequiredToBeHealthy=2;ln.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{static get ALL_TRANSPORTS(){return[Ri,ln]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=ln&&ln.isAvailable();let r=n&&!ln.previouslyFailed();if(e.webSocketOnly&&(n||It("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ln];else{const s=this.transports_=[];for(const i of qa.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);qa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}qa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=6e4,fF=5e3,hF=10*1024,pF=100*1024,wf="t",y_="d",mF="s",__="r",gF="e",w_="o",x_="a",E_="n",C_="p",vF="h";class yF{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vl("c:"+this.id+":"),this.transportManager_=new qa(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=va(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>pF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>hF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(wf in e){const n=e[wf];n===x_?this.upgradeIfSecondaryHealthy_():n===__?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===w_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ko("t",e),r=Ko("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:C_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:x_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:E_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ko("t",e),r=Ko("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ko(wf,e);if(y_ in e){const r=e[y_];if(n===vF){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===E_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===mF?this.onConnectionShutdown_(r):n===__?this.onReset_(r):n===gF?Xh("Server Error: "+r):n===w_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Xm!==r&&It("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),va(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(dF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):va(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(fF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:C_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ts.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends AS{static getInstance(){return new pu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!jm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return D(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=32,b_=768;class ye{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function de(){return new ye("")}function ie(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ns(t){return t.pieces_.length-t.pieceNum_}function _e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ye(t.pieces_,e)}function OS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function _F(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function DS(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function MS(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ye(e,0)}function We(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ye)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new ye(n,0)}function re(t){return t.pieceNum_>=t.pieces_.length}function ft(t,e){const n=ie(t),r=ie(e);if(n===null)return e;if(n===r)return ft(_e(t),_e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function LS(t,e){if(ns(t)!==ns(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function dn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ns(t)>ns(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class wF{constructor(e,n){this.errorPrefix_=n,this.parts_=DS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=sd(this.parts_[r]);jS(this)}}function xF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=sd(e),jS(t)}function EF(t){const e=t.parts_.pop();t.byteLength_-=sd(e),t.parts_.length>0&&(t.byteLength_-=1)}function jS(t){if(t.byteLength_>b_)throw new Error(t.errorPrefix_+"has a key path longer than "+b_+" bytes ("+t.byteLength_+").");if(t.parts_.length>S_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+S_+") or object contains a cycle "+Es(t))}function Es(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg extends AS{static getInstance(){return new eg}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return D(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=1e3,CF=60*5*1e3,T_=30*1e3,SF=1.3,bF=3e4,TF="server_kill",I_=3;class Yn extends RS{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Yn.nextPersistentConnectionId_++,this.log_=vl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qo,this.maxReconnectDelay_=CF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!EC())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");eg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&pu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Be(i)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new rd,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Yn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&lr(e,"w")){const r=fo(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();It(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||eM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=T_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=ZD(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Be(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Xh("Unrecognized action received from server: "+Be(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>bF&&(this.reconnectDelay_=qo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*SF)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Yn.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){D(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?at("getToken() completed but was canceled"):(at("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new yF(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{It(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(TF)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&It(d),l())}}}interrupt(e){at("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){at("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Bh(this.interruptReasons_)&&(this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Ym(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new ye(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){at("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=I_&&(this.reconnectDelay_=T_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){at("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=I_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+cS.replace(/\./g,"-")]=1,jm()?e["framework.cordova"]=1:xC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=pu.getInstance().currentlyOnline();return Bh(this.interruptReasons_)&&e}}Yn.nextPersistentConnectionId_=0;Yn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ne(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ne(mo,e),s=new ne(mo,n);return this.compare(r,s)!==0}minPost(){return ne.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl;class FS extends cd{static get __EMPTY_NODE(){return Yl}static set __EMPTY_NODE(e){Yl=e}compare(e,n){return Ro(e.name,n.name)}isDefinedOn(e){throw bo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ne.MIN}maxPost(){return new ne(Gs,Yl)}makePost(e,n){return D(typeof e=="string","KeyIndex indexValue must always be a string."),new ne(e,Yl)}toString(){return".key"}}const Vi=new FS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ke{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ke.RED,this.left=s??xt.EMPTY_NODE,this.right=i??xt.EMPTY_NODE}copy(e,n,r,s,i){return new Ke(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return xt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return xt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ke.RED=!0;Ke.BLACK=!1;class IF{copy(e,n,r,s,i){return this}insert(e,n,r){return new Ke(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xt{constructor(e,n=xt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new xt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ke.BLACK,null,null))}remove(e){return new xt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ke.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Xl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Xl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Xl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Xl(this.root_,null,this.comparator_,!0,e)}}xt.EMPTY_NODE=new IF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t,e){return Ro(t.name,e.name)}function tg(t,e){return Ro(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh;function PF(t){Zh=t}const US=function(t){return typeof t=="number"?"number:"+pS(t):"string:"+t},$S=function(t){if(t.isLeafNode()){const e=t.val();D(typeof e=="string"||typeof e=="number"||typeof e=="object"&&lr(e,".sv"),"Priority must be a string or number.")}else D(t===Zh||t.isEmpty(),"priority of unexpected type.");D(t===Zh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N_;class He{static set __childrenNodeConstructor(e){N_=e}static get __childrenNodeConstructor(){return N_}constructor(e,n=He.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,D(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$S(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new He(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:He.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return re(e)?this:ie(e)===".priority"?this.priorityNode_:He.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:He.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ie(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(D(r!==".priority"||ns(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,He.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+US(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=pS(this.value_):e+=this.value_,this.lazyHash_=dS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===He.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof He.__childrenNodeConstructor?-1:(D(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=He.VALUE_TYPE_ORDER.indexOf(n),i=He.VALUE_TYPE_ORDER.indexOf(r);return D(s>=0,"Unknown leaf type: "+n),D(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}He.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zS,BS;function kF(t){zS=t}function RF(t){BS=t}class AF extends cd{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Ro(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ne.MIN}maxPost(){return new ne(Gs,new He("[PRIORITY-POST]",BS))}makePost(e,n){const r=zS(e);return new ne(n,new He("[PRIORITY-POST]",r))}toString(){return".priority"}}const Le=new AF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=Math.log(2);class DF{constructor(e){const n=i=>parseInt(Math.log(i)/OF,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const mu=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new Ke(f,d.node,Ke.BLACK,null,null);{const p=parseInt(u/2,10)+l,x=s(l,p),v=s(p+1,c);return d=t[p],f=n?n(d):d,new Ke(f,d.node,Ke.BLACK,x,v)}},i=function(l){let c=null,u=null,d=t.length;const f=function(x,v){const _=d-x,g=d;d-=x;const y=s(_+1,g),w=t[_],E=n?n(w):w;p(new Ke(E,w.node,v,null,y))},p=function(x){c?(c.left=x,c=x):(u=x,c=x)};for(let x=0;x<l.count;++x){const v=l.nextBitIsOne(),_=Math.pow(2,l.count-(x+1));v?f(_,Ke.BLACK):(f(_,Ke.BLACK),f(_,Ke.RED))}return u},o=new DF(t.length),a=i(o);return new xt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf;const fi={};class qn{static get Default(){return D(fi&&Le,"ChildrenNode.ts has not been loaded"),xf=xf||new qn({".priority":fi},{".priority":Le}),xf}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=fo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xt?n:null}hasIndex(e){return lr(this.indexSet_,e.toString())}addIndex(e,n){D(e!==Vi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(ne.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=mu(r,e.getCompare()):a=fi;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=a,new qn(u,c)}addToIndexes(e,n){const r=iu(this.indexes_,(s,i)=>{const o=fo(this.indexSet_,i);if(D(o,"Missing index implementation for "+i),s===fi)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ne.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),mu(a,o.getCompare())}else return fi;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new ne(e.name,a))),l.insert(e,e.node)}});return new qn(r,this.indexSet_)}removeFromIndexes(e,n){const r=iu(this.indexes_,s=>{if(s===fi)return s;{const i=n.get(e.name);return i?s.remove(new ne(e.name,i)):s}});return new qn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo;class K{static get EMPTY_NODE(){return Qo||(Qo=new K(new xt(tg),null,qn.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&$S(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qo}updatePriority(e){return this.children_.isEmpty()?this:new K(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Qo:n}}getChild(e){const n=ie(e);return n===null?this:this.getImmediateChild(n).getChild(_e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(D(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ne(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Qo:this.priorityNode_;return new K(s,o,i)}}updateChild(e,n){const r=ie(e);if(r===null)return n;{D(ie(e)!==".priority"||ns(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(_e(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Le,(o,a)=>{n[o]=a.val(e),r++,i&&K.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+US(this.getPriority().val())+":"),this.forEachChild(Le,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":dS(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new ne(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ne(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ne(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ne.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ne.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===yl?-1:0}withIndex(e){if(e===Vi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new K(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Vi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Le),s=n.getIterator(Le);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Vi?null:this.indexMap_.get(e.toString())}}K.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class MF extends K{constructor(){super(new xt(tg),K.EMPTY_NODE,qn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return K.EMPTY_NODE}isEmpty(){return!1}}const yl=new MF;Object.defineProperties(ne,{MIN:{value:new ne(mo,K.EMPTY_NODE)},MAX:{value:new ne(Gs,yl)}});FS.__EMPTY_NODE=K.EMPTY_NODE;He.__childrenNodeConstructor=K;PF(yl);RF(yl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=!0;function qe(t,e=null){if(t===null)return K.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),D(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new He(n,qe(e))}if(!(t instanceof Array)&&LF){const n=[];let r=!1;if(Nt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=qe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ne(o,l)))}}),n.length===0)return K.EMPTY_NODE;const i=mu(n,NF,o=>o.name,tg);if(r){const o=mu(n,Le.getCompare());return new K(i,qe(e),new qn({".priority":o},{".priority":Le}))}else return new K(i,qe(e),qn.Default)}else{let n=K.EMPTY_NODE;return Nt(t,(r,s)=>{if(lr(t,r)&&r.substring(0,1)!=="."){const i=qe(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(qe(e))}}kF(qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF extends cd{constructor(e){super(),this.indexPath_=e,D(!re(e)&&ie(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Ro(e.name,n.name):i}makePost(e,n){const r=qe(e),s=K.EMPTY_NODE.updateChild(this.indexPath_,r);return new ne(n,s)}maxPost(){const e=K.EMPTY_NODE.updateChild(this.indexPath_,yl);return new ne(Gs,e)}toString(){return DS(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF extends cd{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ro(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ne.MIN}maxPost(){return ne.MAX}makePost(e,n){const r=qe(e);return new ne(n,r)}toString(){return".value"}}const UF=new FF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t){return{type:"value",snapshotNode:t}}function go(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Qa(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ya(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function $F(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Qa(n,a)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(go(n,r)):o.trackChildChange(Ya(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Le,(s,i)=>{n.hasChild(s)||r.trackChildChange(Qa(s,i))}),n.isLeafNode()||n.forEachChild(Le,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(Ya(s,i,o))}else r.trackChildChange(go(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?K.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.indexedFilter_=new ng(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Xa.getStartPost_(e),this.endPost_=Xa.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new ne(n,r))||(r=K.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=K.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(K.EMPTY_NODE);const i=this;return n.forEachChild(Le,(o,a)=>{i.matches(new ne(o,a))||(s=s.updateImmediateChild(o,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Xa(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new ne(n,r))||(r=K.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=K.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=K.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(K.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,p)=>d(p,f)}else o=this.index_.getCompare();const a=e;D(a.numChildren()===this.limit_,"");const l=new ne(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,l);if(u&&!r.isEmpty()&&p>=0)return i!=null&&i.trackChildChange(Ya(n,r,d)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Qa(n,d));const v=a.updateImmediateChild(n,K.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i!=null&&i.trackChildChange(go(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?e:u&&o(c,l)>=0?(i!=null&&(i.trackChildChange(Qa(c.name,c.node)),i.trackChildChange(go(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,K.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mo}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Le}copy(){const e=new rg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function BF(t){return t.loadsAllData()?new ng(t.getIndex()):t.hasLimit()?new zF(t):new Xa(t)}function P_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Le?n="$priority":t.index_===UF?n="$value":t.index_===Vi?n="$key":(D(t.index_ instanceof jF,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Be(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Be(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Be(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Be(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Be(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function k_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Le&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends RS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=vl("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=gu.getListenId_(e,r),a={};this.listens_[o]=a;const l=P_(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),fo(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=gu.getListenId_(e,n);delete this.listens_[r]}get(e){const n=P_(e._queryParams),r=e._path.toString(),s=new rd;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Io(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Va(a.responseText)}catch{It("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&It("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(){return{value:null,children:new Map}}function VS(t,e,n){if(re(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ie(e);t.children.has(r)||t.children.set(r,vu());const s=t.children.get(r);e=_e(e),VS(s,e,n)}}function ep(t,e,n){t.value!==null?n(e,t.value):VF(t,(r,s)=>{const i=new ye(e.toString()+"/"+r);ep(s,i,n)})}function VF(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Nt(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=10*1e3,GF=30*1e3,KF=5*60*1e3;class qF{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new HF(e);const r=R_+(GF-R_)*Math.random();va(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Nt(e,(s,i)=>{i>0&&lr(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),va(this.reportStats_.bind(this),Math.floor(Math.random()*2*KF))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(fn||(fn={}));function HS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function sg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ig(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=fn.ACK_USER_WRITE,this.source=HS()}operationForChild(e){if(re(this.path)){if(this.affectedTree.value!=null)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ye(e));return new yu(de(),n,this.revert)}}else return D(ie(this.path)===e,"operationForChild called for unrelated child."),new yu(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.source=e,this.path=n,this.type=fn.LISTEN_COMPLETE}operationForChild(e){return re(this.path)?new Ja(this.source,de()):new Ja(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=fn.OVERWRITE}operationForChild(e){return re(this.path)?new Ks(this.source,de(),this.snap.getImmediateChild(e)):new Ks(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=fn.MERGE}operationForChild(e){if(re(this.path)){const n=this.children.subtree(new ye(e));return n.isEmpty()?null:n.value?new Ks(this.source,de(),n.value):new Za(this.source,de(),n)}else return D(ie(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Za(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(re(e))return this.isFullyInitialized()&&!this.filtered_;const n=ie(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function YF(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push($F(o.childName,o.snapshotNode))}),Yo(t,s,"child_removed",e,r,n),Yo(t,s,"child_added",e,r,n),Yo(t,s,"child_moved",i,r,n),Yo(t,s,"child_changed",e,r,n),Yo(t,s,"value",e,r,n),s}function Yo(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>JF(t,a,l)),o.forEach(a=>{const l=XF(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function XF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function JF(t,e,n){if(e.childName==null||n.childName==null)throw bo("Should only compare child_ events.");const r=new ne(e.childName,e.snapshotNode),s=new ne(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t,e){return{eventCache:t,serverCache:e}}function ya(t,e,n,r){return ud(new rs(e,n,r),t.serverCache)}function GS(t,e,n,r){return ud(t.eventCache,new rs(e,n,r))}function _u(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function qs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef;const ZF=()=>(Ef||(Ef=new xt(Fj)),Ef);class be{static fromObject(e){let n=new be(null);return Nt(e,(r,s)=>{n=n.set(new ye(r),s)}),n}constructor(e,n=ZF()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:de(),value:this.value};if(re(e))return null;{const r=ie(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(_e(e),n);return i!=null?{path:We(new ye(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(re(e))return this;{const n=ie(e),r=this.children.get(n);return r!==null?r.subtree(_e(e)):new be(null)}}set(e,n){if(re(e))return new be(n,this.children);{const r=ie(e),i=(this.children.get(r)||new be(null)).set(_e(e),n),o=this.children.insert(r,i);return new be(this.value,o)}}remove(e){if(re(e))return this.children.isEmpty()?new be(null):new be(null,this.children);{const n=ie(e),r=this.children.get(n);if(r){const s=r.remove(_e(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new be(null):new be(this.value,i)}else return this}}get(e){if(re(e))return this.value;{const n=ie(e),r=this.children.get(n);return r?r.get(_e(e)):null}}setTree(e,n){if(re(e))return n;{const r=ie(e),i=(this.children.get(r)||new be(null)).setTree(_e(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new be(this.value,o)}}fold(e){return this.fold_(de(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(We(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,de(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(re(e))return null;{const i=ie(e),o=this.children.get(i);return o?o.findOnPath_(_e(e),We(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,de(),n)}foreachOnPath_(e,n,r){if(re(e))return this;{this.value&&r(n,this.value);const s=ie(e),i=this.children.get(s);return i?i.foreachOnPath_(_e(e),We(n,s),r):new be(null)}}foreach(e){this.foreach_(de(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(We(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.writeTree_=e}static empty(){return new mn(new be(null))}}function _a(t,e,n){if(re(e))return new mn(new be(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=ft(s,e);return i=i.updateChild(o,n),new mn(t.writeTree_.set(s,i))}else{const s=new be(n),i=t.writeTree_.setTree(e,s);return new mn(i)}}}function A_(t,e,n){let r=t;return Nt(n,(s,i)=>{r=_a(r,We(e,s),i)}),r}function O_(t,e){if(re(e))return mn.empty();{const n=t.writeTree_.setTree(e,new be(null));return new mn(n)}}function tp(t,e){return oi(t,e)!=null}function oi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ft(n.path,e)):null}function D_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Le,(r,s)=>{e.push(new ne(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ne(r,s.value))}),e}function Yr(t,e){if(re(e))return t;{const n=oi(t,e);return n!=null?new mn(new be(n)):new mn(t.writeTree_.subtree(e))}}function np(t){return t.writeTree_.isEmpty()}function vo(t,e){return KS(de(),t.writeTree_,e)}function KS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(D(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=KS(We(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(We(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t,e){return XS(e,t)}function e4(t,e,n,r,s){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=_a(t.visibleWrites,e,n)),t.lastWriteId=r}function t4(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function n4(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&r4(a,r.path)?s=!1:dn(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return s4(t),!0;if(r.snap)t.visibleWrites=O_(t.visibleWrites,r.path);else{const a=r.children;Nt(a,l=>{t.visibleWrites=O_(t.visibleWrites,We(r.path,l))})}return!0}else return!1}function r4(t,e){if(t.snap)return dn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&dn(We(t.path,n),e))return!0;return!1}function s4(t){t.visibleWrites=qS(t.allWrites,i4,de()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function i4(t){return t.visible}function qS(t,e,n){let r=mn.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)dn(n,o)?(a=ft(n,o),r=_a(r,a,i.snap)):dn(o,n)&&(a=ft(o,n),r=_a(r,de(),i.snap.getChild(a)));else if(i.children){if(dn(n,o))a=ft(n,o),r=A_(r,a,i.children);else if(dn(o,n))if(a=ft(o,n),re(a))r=A_(r,de(),i.children);else{const l=fo(i.children,ie(a));if(l){const c=l.getChild(_e(a));r=_a(r,de(),c)}}}else throw bo("WriteRecord should have .snap or .children")}}return r}function QS(t,e,n,r,s){if(!r&&!s){const i=oi(t.visibleWrites,e);if(i!=null)return i;{const o=Yr(t.visibleWrites,e);if(np(o))return n;if(n==null&&!tp(o,de()))return null;{const a=n||K.EMPTY_NODE;return vo(o,a)}}}else{const i=Yr(t.visibleWrites,e);if(!s&&np(i))return n;if(!s&&n==null&&!tp(i,de()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(dn(c.path,e)||dn(e,c.path))},a=qS(t.allWrites,o,e),l=n||K.EMPTY_NODE;return vo(a,l)}}}function o4(t,e,n){let r=K.EMPTY_NODE;const s=oi(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Le,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Yr(t.visibleWrites,e);return n.forEachChild(Le,(o,a)=>{const l=vo(Yr(i,new ye(o)),a);r=r.updateImmediateChild(o,l)}),D_(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Yr(t.visibleWrites,e);return D_(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function a4(t,e,n,r,s){D(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=We(e,n);if(tp(t.visibleWrites,i))return null;{const o=Yr(t.visibleWrites,i);return np(o)?s.getChild(n):vo(o,s.getChild(n))}}function l4(t,e,n,r){const s=We(e,n),i=oi(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Yr(t.visibleWrites,s);return vo(o,r.getNode().getImmediateChild(n))}else return null}function c4(t,e){return oi(t.visibleWrites,e)}function u4(t,e,n,r,s,i,o){let a;const l=Yr(t.visibleWrites,e),c=oi(l,de());if(c!=null)a=c;else if(n!=null)a=vo(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<s;)d(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function d4(){return{visibleWrites:mn.empty(),allWrites:[],lastWriteId:-1}}function wu(t,e,n,r){return QS(t.writeTree,t.treePath,e,n,r)}function og(t,e){return o4(t.writeTree,t.treePath,e)}function M_(t,e,n,r){return a4(t.writeTree,t.treePath,e,n,r)}function xu(t,e){return c4(t.writeTree,We(t.treePath,e))}function f4(t,e,n,r,s,i){return u4(t.writeTree,t.treePath,e,n,r,s,i)}function ag(t,e,n){return l4(t.writeTree,t.treePath,e,n)}function YS(t,e){return XS(We(t.treePath,e),t.writeTree)}function XS(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),D(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Ya(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Qa(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,go(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Ya(r,e.snapshotNode,s.oldSnap));else throw bo("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const JS=new p4;class lg{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new rs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ag(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qs(this.viewCache_),i=f4(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){return{filter:t}}function g4(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function v4(t,e,n,r,s){const i=new h4;let o,a;if(n.type===fn.OVERWRITE){const c=n;c.source.fromUser?o=rp(t,e,c.path,c.snap,r,s,i):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!re(c.path),o=Eu(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===fn.MERGE){const c=n;c.source.fromUser?o=_4(t,e,c.path,c.children,r,s,i):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=sp(t,e,c.path,c.children,r,s,a,i))}else if(n.type===fn.ACK_USER_WRITE){const c=n;c.revert?o=E4(t,e,c.path,r,s,i):o=w4(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===fn.LISTEN_COMPLETE)o=x4(t,e,n.path,r,i);else throw bo("Unknown operation type: "+n.type);const l=i.getChanges();return y4(e,o,l),{viewCache:o,changes:l}}function y4(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=_u(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(WS(_u(e)))}}function ZS(t,e,n,r,s,i){const o=e.eventCache;if(xu(r,n)!=null)return e;{let a,l;if(re(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=qs(e),u=c instanceof K?c:K.EMPTY_NODE,d=og(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=wu(r,qs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=ie(n);if(c===".priority"){D(ns(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=M_(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=_e(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=M_(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=ag(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,s,i):a=o.getNode()}}return ya(e,a,o.isFullyInitialized()||re(n),t.filter.filtersNodes())}}function Eu(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(re(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=ie(n);if(!l.isCompleteForPath(n)&&ns(n)>1)return e;const x=_e(n),_=l.getNode().getImmediateChild(p).updateChild(x,r);p===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),p,_,x,JS,null)}const d=GS(e,c,l.isFullyInitialized()||re(n),u.filtersNodes()),f=new lg(s,d,i);return ZS(t,d,n,s,f,a)}function rp(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new lg(s,e,i);if(re(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ya(e,c,!0,t.filter.filtersNodes());else{const d=ie(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=ya(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=_e(n),p=a.getNode().getImmediateChild(d);let x;if(re(f))x=r;else{const v=u.getCompleteChild(d);v!=null?OS(f)===".priority"&&v.getChild(MS(f)).isEmpty()?x=v:x=v.updateChild(f,r):x=K.EMPTY_NODE}if(p.equals(x))l=e;else{const v=t.filter.updateChild(a.getNode(),d,x,f,u,o);l=ya(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function L_(t,e){return t.eventCache.isCompleteForChild(e)}function _4(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=We(n,l);L_(e,ie(u))&&(a=rp(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=We(n,l);L_(e,ie(u))||(a=rp(t,a,u,c,s,i,o))}),a}function j_(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function sp(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;re(n)?c=r:c=new be(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),x=j_(t,p,f);l=Eu(t,l,new ye(d),x,s,i,o,a)}}),c.children.inorderTraversal((d,f)=>{const p=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!p){const x=e.serverCache.getNode().getImmediateChild(d),v=j_(t,x,f);l=Eu(t,l,new ye(d),v,s,i,o,a)}}),l}function w4(t,e,n,r,s,i,o){if(xu(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(re(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Eu(t,e,n,l.getNode().getChild(n),s,i,a,o);if(re(n)){let c=new be(null);return l.getNode().forEachChild(Vi,(u,d)=>{c=c.set(new ye(u),d)}),sp(t,e,n,c,s,i,a,o)}else return e}else{let c=new be(null);return r.foreach((u,d)=>{const f=We(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),sp(t,e,n,c,s,i,a,o)}}function x4(t,e,n,r,s){const i=e.serverCache,o=GS(e,i.getNode(),i.isFullyInitialized()||re(n),i.isFiltered());return ZS(t,o,n,r,JS,s)}function E4(t,e,n,r,s,i){let o;if(xu(r,n)!=null)return e;{const a=new lg(r,e,s),l=e.eventCache.getNode();let c;if(re(n)||ie(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=wu(r,qs(e));else{const d=e.serverCache.getNode();D(d instanceof K,"serverChildren would be complete if leaf node"),u=og(r,d)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=ie(n);let d=ag(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,_e(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,K.EMPTY_NODE,_e(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=wu(r,qs(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||xu(r,de())!=null,ya(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new ng(r.getIndex()),i=BF(r);this.processor_=m4(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(K.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(K.EMPTY_NODE,a.getNode(),null),u=new rs(l,o.isFullyInitialized(),s.filtersNodes()),d=new rs(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=ud(d,u),this.eventGenerator_=new QF(this.query_)}get query(){return this.query_}}function S4(t){return t.viewCache_.serverCache.getNode()}function b4(t){return _u(t.viewCache_)}function T4(t,e){const n=qs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!re(e)&&!n.getImmediateChild(ie(e)).isEmpty())?n.getChild(e):null}function F_(t){return t.eventRegistrations_.length===0}function I4(t,e){t.eventRegistrations_.push(e)}function U_(t,e,n){const r=[];if(n){D(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function $_(t,e,n,r){e.type===fn.MERGE&&e.source.queryId!==null&&(D(qs(t.viewCache_),"We should always have a full cache before handling merges"),D(_u(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=v4(t.processor_,s,e,n,r);return g4(t.processor_,i.viewCache),D(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,e1(t,i.changes,i.viewCache.eventCache.getNode(),null)}function N4(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Le,(i,o)=>{r.push(go(i,o))}),n.isFullyInitialized()&&r.push(WS(n.getNode())),e1(t,r,n.getNode(),e)}function e1(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return YF(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu;class t1{constructor(){this.views=new Map}}function P4(t){D(!Cu,"__referenceConstructor has already been defined"),Cu=t}function k4(){return D(Cu,"Reference.ts has not been loaded"),Cu}function R4(t){return t.views.size===0}function cg(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return D(i!=null,"SyncTree gave us an op for an invalid query."),$_(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat($_(o,e,n,r));return i}}function n1(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=wu(n,s?r:null),l=!1;a?l=!0:r instanceof K?(a=og(n,r),l=!1):(a=K.EMPTY_NODE,l=!1);const c=ud(new rs(a,l,!1),new rs(r,s,!1));return new C4(e,c)}return o}function A4(t,e,n,r,s,i){const o=n1(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),I4(o,n),N4(o,n)}function O4(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=ss(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(U_(c,n,r)),F_(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(U_(l,n,r)),F_(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!ss(t)&&i.push(new(k4())(e._repo,e._path)),{removed:i,events:o}}function r1(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Xr(t,e){let n=null;for(const r of t.views.values())n=n||T4(r,e);return n}function s1(t,e){if(e._queryParams.loadsAllData())return fd(t);{const r=e._queryIdentifier;return t.views.get(r)}}function i1(t,e){return s1(t,e)!=null}function ss(t){return fd(t)!=null}function fd(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su;function D4(t){D(!Su,"__referenceConstructor has already been defined"),Su=t}function M4(){return D(Su,"Reference.ts has not been loaded"),Su}let L4=1;class z_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new be(null),this.pendingWriteTree_=d4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function o1(t,e,n,r,s){return e4(t.pendingWriteTree_,e,n,r,s),s?wl(t,new Ks(HS(),e,n)):[]}function Is(t,e,n=!1){const r=t4(t.pendingWriteTree_,e);if(n4(t.pendingWriteTree_,e)){let i=new be(null);return r.snap!=null?i=i.set(de(),!0):Nt(r.children,o=>{i=i.set(new ye(o),!0)}),wl(t,new yu(r.path,i,n))}else return[]}function _l(t,e,n){return wl(t,new Ks(sg(),e,n))}function j4(t,e,n){const r=be.fromObject(n);return wl(t,new Za(sg(),e,r))}function F4(t,e){return wl(t,new Ja(sg(),e))}function U4(t,e,n){const r=dg(t,n);if(r){const s=fg(r),i=s.path,o=s.queryId,a=ft(i,e),l=new Ja(ig(o),a);return hg(t,i,l)}else return[]}function a1(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||i1(o,e))){const l=O4(o,e,n,r);R4(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(f,p)=>ss(p));if(u&&!d){const f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){const p=W4(f);for(let x=0;x<p.length;++x){const v=p[x],_=v.query,g=d1(t,v);t.listenProvider_.startListening(wa(_),el(t,_),g.hashFn,g.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(wa(e),null):c.forEach(f=>{const p=t.queryToTagMap.get(hd(f));t.listenProvider_.stopListening(wa(f),p)}))}V4(t,c)}return a}function l1(t,e,n,r){const s=dg(t,r);if(s!=null){const i=fg(s),o=i.path,a=i.queryId,l=ft(o,e),c=new Ks(ig(a),l,n);return hg(t,o,c)}else return[]}function $4(t,e,n,r){const s=dg(t,r);if(s){const i=fg(s),o=i.path,a=i.queryId,l=ft(o,e),c=be.fromObject(n),u=new Za(ig(a),l,c);return hg(t,o,u)}else return[]}function z4(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(f,p)=>{const x=ft(f,s);i=i||Xr(p,x),o=o||ss(p)});let a=t.syncPointTree_.get(s);a?(o=o||ss(a),i=i||Xr(a,de())):(a=new t1,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=K.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((p,x)=>{const v=Xr(x,de());v&&(i=i.updateImmediateChild(p,v))}));const c=i1(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=hd(e);D(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=H4();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}const u=dd(t.pendingWriteTree_,s);let d=A4(a,e,n,u,i,l);if(!c&&!o&&!r){const f=s1(a,e);d=d.concat(G4(t,e,f))}return d}function ug(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=ft(o,e),c=Xr(a,l);if(c)return c});return QS(s,e,i,n,!0)}function B4(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=ft(c,n);r=r||Xr(u,d)});let s=t.syncPointTree_.get(n);s?r=r||Xr(s,de()):(s=new t1,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new rs(r,!0,!1):null,a=dd(t.pendingWriteTree_,e._path),l=n1(s,e,a,i?o.getNode():K.EMPTY_NODE,i);return b4(l)}function wl(t,e){return c1(e,t.syncPointTree_,null,dd(t.pendingWriteTree_,de()))}function c1(t,e,n,r){if(re(t.path))return u1(t,e,n,r);{const s=e.get(de());n==null&&s!=null&&(n=Xr(s,de()));let i=[];const o=ie(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=YS(r,o);i=i.concat(c1(a,l,c,u))}return s&&(i=i.concat(cg(s,t,r,n))),i}}function u1(t,e,n,r){const s=e.get(de());n==null&&s!=null&&(n=Xr(s,de()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=YS(r,o),u=t.operationForChild(o);u&&(i=i.concat(u1(u,a,l,c)))}),s&&(i=i.concat(cg(s,t,r,n))),i}function d1(t,e){const n=e.query,r=el(t,n);return{hashFn:()=>(S4(e)||K.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?U4(t,n._path,r):F4(t,n._path);{const i=zj(s,n);return a1(t,n,null,i)}}}}function el(t,e){const n=hd(e);return t.queryToTagMap.get(n)}function hd(t){return t._path.toString()+"$"+t._queryIdentifier}function dg(t,e){return t.tagToQueryMap.get(e)}function fg(t){const e=t.indexOf("$");return D(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ye(t.substr(0,e))}}function hg(t,e,n){const r=t.syncPointTree_.get(e);D(r,"Missing sync point for query tag that we're tracking");const s=dd(t.pendingWriteTree_,e);return cg(r,n,s,null)}function W4(t){return t.fold((e,n,r)=>{if(n&&ss(n))return[fd(n)];{let s=[];return n&&(s=r1(n)),Nt(r,(i,o)=>{s=s.concat(o)}),s}})}function wa(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(M4())(t._repo,t._path):t}function V4(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=hd(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function H4(){return L4++}function G4(t,e,n){const r=e._path,s=el(t,e),i=d1(t,n),o=t.listenProvider_.startListening(wa(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)D(!ss(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!re(c)&&u&&ss(u))return[fd(u).query];{let f=[];return u&&(f=f.concat(r1(u).map(p=>p.query))),Nt(d,(p,x)=>{f=f.concat(x)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(wa(u),el(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new pg(n)}node(){return this.node_}}class mg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=We(this.path_,e);return new mg(this.syncTree_,n)}node(){return ug(this.syncTree_,this.path_)}}const K4=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},B_=function(t,e,n){if(!t||typeof t!="object")return t;if(D(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return q4(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Q4(t[".sv"],e);D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},q4=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:D(!1,"Unexpected server value: "+t)}},Q4=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&D(!1,"Unexpected increment value: "+r);const s=e.node();if(D(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},Y4=function(t,e,n,r){return gg(e,new mg(n,t),r)},f1=function(t,e,n){return gg(t,new pg(e),n)};function gg(t,e,n){const r=t.getPriority().val(),s=B_(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=B_(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new He(a,qe(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new He(s))),o.forEachChild(Le,(a,l)=>{const c=gg(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function yg(t,e){let n=e instanceof ye?e:new ye(e),r=t,s=ie(n);for(;s!==null;){const i=fo(r.node.children,s)||{children:{},childCount:0};r=new vg(s,r,i),n=_e(n),s=ie(n)}return r}function Oo(t){return t.node.value}function h1(t,e){t.node.value=e,ip(t)}function p1(t){return t.node.childCount>0}function X4(t){return Oo(t)===void 0&&!p1(t)}function pd(t,e){Nt(t.node.children,(n,r)=>{e(new vg(n,t,r))})}function m1(t,e,n,r){n&&!r&&e(t),pd(t,s=>{m1(s,e,!0,r)}),n&&r&&e(t)}function J4(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function xl(t){return new ye(t.parent===null?t.name:xl(t.parent)+"/"+t.name)}function ip(t){t.parent!==null&&Z4(t.parent,t.name,t)}function Z4(t,e,n){const r=X4(n),s=lr(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,ip(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,ip(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=/[\[\].#$\/\u0000-\u001F\u007F]/,t3=/[\[\].#$\u0000-\u001F\u007F]/,Cf=10*1024*1024,g1=function(t){return typeof t=="string"&&t.length!==0&&!e3.test(t)},v1=function(t){return typeof t=="string"&&t.length!==0&&!t3.test(t)},n3=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),v1(t)},r3=function(t,e,n,r){_g(Fm(t,"value"),e,n)},_g=function(t,e,n){const r=n instanceof ye?new wF(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Es(r));if(typeof e=="function")throw new Error(t+"contains a function "+Es(r)+" with contents = "+e.toString());if(fS(e))throw new Error(t+"contains "+e.toString()+" "+Es(r));if(typeof e=="string"&&e.length>Cf/3&&sd(e)>Cf)throw new Error(t+"contains a string greater than "+Cf+" utf8 bytes "+Es(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Nt(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!g1(o)))throw new Error(t+" contains an invalid key ("+o+") "+Es(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);xF(r,o),_g(t,a,r),EF(r)}),s&&i)throw new Error(t+' contains ".value" child '+Es(r)+" in addition to actual children.")}},y1=function(t,e,n,r){if(!v1(n))throw new Error(Fm(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},s3=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),y1(t,e,n)},i3=function(t,e){if(ie(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},o3=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!g1(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!n3(n))throw new Error(Fm(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _1(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!LS(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function jn(t,e,n){_1(t,n),l3(t,r=>dn(r,e)||dn(e,r))}function l3(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(c3(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function c3(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ga&&at("event: "+n.toString()),Ao(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="repo_interrupt",d3=25;class f3{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new a3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vu(),this.transactionQueueTree_=new vg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function h3(t,e,n){if(t.stats_=Jm(t.repoInfo_),t.forceRestClient_||Hj())t.server_=new gu(t.repoInfo_,(r,s,i,o)=>{W_(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>V_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Be(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Yn(t.repoInfo_,e,(r,s,i,o)=>{W_(t,r,s,i,o)},r=>{V_(t,r)},r=>{m3(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Yj(t.repoInfo_,()=>new qF(t.stats_,t.server_)),t.infoData_=new WF,t.infoSyncTree_=new z_({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=_l(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),xg(t,"connected",!1),t.serverSyncTree_=new z_({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);jn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function p3(t){const n=t.infoData_.getNode(new ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function wg(t){return K4({timestamp:p3(t)})}function W_(t,e,n,r,s){t.dataUpdateCount++;const i=new ye(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=iu(n,c=>qe(c));o=$4(t.serverSyncTree_,i,l,s)}else{const l=qe(n);o=l1(t.serverSyncTree_,i,l,s)}else if(r){const l=iu(n,c=>qe(c));o=j4(t.serverSyncTree_,i,l)}else{const l=qe(n);o=_l(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=gd(t,i)),jn(t.eventQueue_,a,o)}function V_(t,e){xg(t,"connected",e),e===!1&&y3(t)}function m3(t,e){Nt(e,(n,r)=>{xg(t,n,r)})}function xg(t,e,n){const r=new ye("/.info/"+e),s=qe(n);t.infoData_.updateSnapshot(r,s);const i=_l(t.infoSyncTree_,r,s);jn(t.eventQueue_,r,i)}function w1(t){return t.nextWriteId_++}function g3(t,e,n){const r=B4(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=qe(s).withIndex(e._queryParams.getIndex());z4(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=_l(t.serverSyncTree_,e._path,i);else{const a=el(t.serverSyncTree_,e);o=l1(t.serverSyncTree_,e._path,i,a)}return jn(t.eventQueue_,e._path,o),a1(t.serverSyncTree_,e,n,null,!0),i},s=>(md(t,"get for query "+Be(e)+" failed: "+s),Promise.reject(new Error(s))))}function v3(t,e,n,r,s){md(t,"set",{path:e.toString(),value:n,priority:r});const i=wg(t),o=qe(n,r),a=ug(t.serverSyncTree_,e),l=f1(o,a,i),c=w1(t),u=o1(t.serverSyncTree_,e,l,c,!0);_1(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,p)=>{const x=f==="ok";x||It("set at "+e+" failed: "+f);const v=Is(t.serverSyncTree_,c,!x);jn(t.eventQueue_,e,v),w3(t,s,f,p)});const d=b1(t,e);gd(t,d),jn(t.eventQueue_,d,[])}function y3(t){md(t,"onDisconnectEvents");const e=wg(t),n=vu();ep(t.onDisconnect_,de(),(s,i)=>{const o=Y4(s,i,t.serverSyncTree_,e);VS(n,s,o)});let r=[];ep(n,de(),(s,i)=>{r=r.concat(_l(t.serverSyncTree_,s,i));const o=b1(t,s);gd(t,o)}),t.onDisconnect_=vu(),jn(t.eventQueue_,de(),r)}function _3(t){t.persistentConnection_&&t.persistentConnection_.interrupt(u3)}function md(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),at(n,...e)}function w3(t,e,n,r){e&&Ao(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function x1(t,e,n){return ug(t.serverSyncTree_,e,n)||K.EMPTY_NODE}function Eg(t,e=t.transactionQueueTree_){if(e||vd(t,e),Oo(e)){const n=C1(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&x3(t,xl(e),n)}else p1(e)&&pd(e,n=>{Eg(t,n)})}function x3(t,e,n){const r=n.map(c=>c.currentWriteId),s=x1(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];D(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=ft(e,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{md(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Is(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();vd(t,yg(t.transactionQueueTree_,e)),Eg(t,t.transactionQueueTree_),jn(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Ao(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{It("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}gd(t,e)}},o)}function gd(t,e){const n=E1(t,e),r=xl(n),s=C1(t,n);return E3(t,s,r),r}function E3(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=ft(n,l.path);let u=!1,d;if(D(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(Is(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=d3)u=!0,d="maxretry",s=s.concat(Is(t.serverSyncTree_,l.currentWriteId,!0));else{const f=x1(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){_g("transaction failed: Data returned ",p,l.path);let x=qe(p);typeof p=="object"&&p!=null&&lr(p,".priority")||(x=x.updatePriority(f.getPriority()));const _=l.currentWriteId,g=wg(t),y=f1(x,f,g);l.currentOutputSnapshotRaw=x,l.currentOutputSnapshotResolved=y,l.currentWriteId=w1(t),o.splice(o.indexOf(_),1),s=s.concat(o1(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),s=s.concat(Is(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",s=s.concat(Is(t.serverSyncTree_,l.currentWriteId,!0))}jn(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}vd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ao(r[a]);Eg(t,t.transactionQueueTree_)}function E1(t,e){let n,r=t.transactionQueueTree_;for(n=ie(e);n!==null&&Oo(r)===void 0;)r=yg(r,n),e=_e(e),n=ie(e);return r}function C1(t,e){const n=[];return S1(t,e,n),n.sort((r,s)=>r.order-s.order),n}function S1(t,e,n){const r=Oo(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);pd(e,s=>{S1(t,s,n)})}function vd(t,e){const n=Oo(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,h1(e,n.length>0?n:void 0)}pd(e,r=>{vd(t,r)})}function b1(t,e){const n=xl(E1(t,e)),r=yg(t.transactionQueueTree_,e);return J4(r,s=>{Sf(t,s)}),Sf(t,r),m1(r,s=>{Sf(t,s)}),n}function Sf(t,e){const n=Oo(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(D(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(D(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Is(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?h1(e,void 0):n.length=i+1,jn(t.eventQueue_,xl(e),s);for(let o=0;o<r.length;o++)Ao(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function S3(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):It(`Invalid query segment '${n}' in query '${t}'`)}return e}const H_=function(t,e){const n=b3(t),r=n.namespace;n.domain==="firebase.com"&&or(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&or("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Lj();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new SS(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new ye(n.pathString)}},b3=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(s=C3(t.substring(u,d)));const f=S3(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const x=e.indexOf(".");r=e.substring(0,x).toLowerCase(),n=e.substring(x+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Be(this.snapshot.exportVal())}}class I3{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return re(this._path)?null:OS(this._path)}get ref(){return new cr(this._repo,this._path)}get _queryIdentifier(){const e=k_(this._queryParams),n=Ym(e);return n==="{}"?"default":n}get _queryObject(){return k_(this._queryParams)}isEqual(e){if(e=vt(e),!(e instanceof Cg))return!1;const n=this._repo===e._repo,r=LS(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+_F(this._path)}}class cr extends Cg{constructor(e,n){super(e,n,new rg,!1)}get parent(){const e=MS(this._path);return e===null?null:new cr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class tl{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ye(e),r=op(this.ref,e);return new tl(this._node.getChild(n),r,Le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new tl(s,op(this.ref,r),Le)))}hasChild(e){const n=new ye(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Et(t,e){return t=vt(t),t._checkNotDeleted("ref"),e!==void 0?op(t._root,e):t._root}function op(t,e){return t=vt(t),ie(t._path)===null?s3("child","path",e):y1("child","path",e),new cr(t._repo,We(t._path,e))}function Ls(t,e){t=vt(t),i3("set",t._path),r3("set",e,t._path);const n=new rd;return v3(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Qs(t){t=vt(t);const e=new N3(()=>{}),n=new Sg(e);return g3(t._repo,t,n).then(r=>new tl(r,new cr(t._repo,t._path),t._queryParams.getIndex()))}class Sg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new T3("value",this,new tl(e.snapshotNode,new cr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new I3(this,e,n):null}matches(e){return e instanceof Sg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}P4(cr);D4(cr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="FIREBASE_DATABASE_EMULATOR_HOST",ap={};let k3=!1;function R3(t,e,n,r){const s=e.lastIndexOf(":"),i=e.substring(0,s),o=To(i);t.repoInfo_=new SS(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function A3(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||or("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),at("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=H_(i,s),a=o.repoInfo,l;typeof process<"u"&&f_&&(l=f_[P3]),l?(i=`http://${l}?ns=${a.namespace}`,o=H_(i,s),a=o.repoInfo):o.repoInfo.secure;const c=new Kj(t.name,t.options,e);o3("Invalid Firebase Database URL",o),re(o.path)||or("Database URL must point to the root of a Firebase Database (not including a child path).");const u=D3(a,t,c,new Gj(t,n));return new M3(u,t)}function O3(t,e){const n=ap[e];(!n||n[t.key]!==t)&&or(`Database ${e}(${t.repoInfo_}) has already been deleted.`),_3(t),delete n[t.key]}function D3(t,e,n,r){let s=ap[e.name];s||(s={},ap[e.name]=s);let i=s[t.toURLString()];return i&&or("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new f3(t,k3,n,r),s[t.toURLString()]=i,i}class M3{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(h3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cr(this._repo,de())),this._rootInternal}_delete(){return this._rootInternal!==null&&(O3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&or("Cannot call "+e+" on a deleted database.")}}function L3(t=IC(),e){const n=zm(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=zD("database");r&&j3(n,...r)}return n}function j3(t,e,n,r={}){t=vt(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&Ws(r,i.repoInfo_.emulatorOptions))return;or("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&or('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new xc(xc.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:BD(r.mockUserToken,t.app.options.projectId);o=new xc(a)}To(e)&&(_C(e),wC("Database",!0)),R3(i,s,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(t){kj(No),ho(new Vs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return A3(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),qr(h_,p_,t),qr(h_,p_,"esm2020")}Yn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Yn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};F3();const U3={apiKey:"AIzaSyCcM567OP8HEdR6v92xuq5t114aMnIZ7BA",authDomain:"pop-and-fun.firebaseapp.com",databaseURL:"https://pop-and-fun-default-rtdb.firebaseio.com",projectId:"pop-and-fun",storageBucket:"pop-and-fun.firebasestorage.app",messagingSenderId:"845863097371",appId:"1:845863097371:web:c407ac055a80fc2dee94be"},T1=TC(U3),bf=Tj(T1),Ct=L3(T1),I1=m.createContext(void 0),$3=({children:t})=>{const[e,n]=m.useState(null),[r,s]=m.useState(!0);m.useEffect(()=>p2(bf,l=>{n(l),s(!1)}),[]);const i=async(a,l)=>{await d2(bf,a,l)},o=async()=>{await m2(bf)};return h.jsx(I1.Provider,{value:{user:e,loading:r,login:i,logout:o},children:t})},bg=()=>{const t=m.useContext(I1);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},N1=m.createContext(void 0),z3=({children:t})=>{const[e,n]=m.useState(()=>{const c=localStorage.getItem("popandfun-cart");return c?JSON.parse(c):[]});m.useEffect(()=>{localStorage.setItem("popandfun-cart",JSON.stringify(e))},[e]);const r=(c,u)=>{n(d=>d.find(p=>p.id===c.id&&p.selectedColor===u)?d.map(p=>p.id===c.id&&p.selectedColor===u?{...p,cartQuantity:p.cartQuantity+1}:p):[...d,{...c,cartQuantity:1,selectedColor:u}])},s=c=>{n(u=>u.filter(d=>d.id!==c))},i=(c,u)=>{if(u<=0){s(c);return}n(d=>d.map(f=>f.id===c?{...f,cartQuantity:u}:f))},o=()=>{n([])},a=()=>e.reduce((c,u)=>c+u.offerPrice*u.cartQuantity,0),l=()=>e.reduce((c,u)=>c+u.cartQuantity,0);return h.jsx(N1.Provider,{value:{cart:e,addToCart:r,removeFromCart:s,updateQuantity:i,clearCart:o,getTotalPrice:a,getTotalItems:l},children:t})},Tg=()=>{const t=m.useContext(N1);if(!t)throw new Error("useCart must be used within CartProvider");return t},B3=Gu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ve=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?aP:"button";return h.jsx(o,{className:oe(B3({variant:e,size:n,className:t})),ref:i,...s})});ve.displayName="Button";const W3=Gu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Xn({className:t,variant:e,...n}){return h.jsx("div",{className:oe(W3({variant:e}),t),...n})}const V3=()=>{si();const{getTotalItems:t}=Tg(),{user:e,logout:n}=bg(),r=t();return h.jsx("nav",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:h.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[h.jsx(vi,{to:"/",className:"flex items-center gap-2",children:h.jsx("img",{src:"https://i.ibb.co/yFppc3Jc/Screenshot-2025-10-26-152658-removebg-preview.png",alt:"Pop and Fun Logo",className:"h-10 w-auto"})}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx(ve,{variant:"ghost",size:"sm",asChild:!0,children:h.jsx(vi,{to:"/",children:"Home"})}),e?h.jsxs(h.Fragment,{children:[h.jsx(ve,{variant:"ghost",size:"sm",asChild:!0,children:h.jsx(vi,{to:"/admin",children:"Dashboard"})}),h.jsx(ve,{variant:"ghost",size:"sm",onClick:n,children:"Logout"})]}):h.jsxs(h.Fragment,{children:[h.jsx(ve,{variant:"ghost",size:"icon",className:"relative",asChild:!0,children:h.jsxs(vi,{to:"/cart",children:[h.jsx(aE,{className:"h-5 w-5"}),r>0&&h.jsx(Xn,{className:"absolute -right-1 -top-1 h-5 w-5 flex items-center justify-center p-0 bg-primary text-primary-foreground text-xs",children:r})]})}),h.jsx(ve,{variant:"ghost",size:"icon",asChild:!0,children:h.jsx(vi,{to:"/admin/login",children:h.jsx(ik,{className:"h-5 w-5"})})})]})]})]})})},wn=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));wn.displayName="Card";const El=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",t),...e}));El.displayName="CardHeader";const Cl=m.forwardRef(({className:t,...e},n)=>h.jsx("h3",{ref:n,className:oe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Cl.displayName="CardTitle";const P1=m.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));P1.displayName="CardDescription";const xn=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:oe("p-6 pt-0",t),...e}));xn.displayName="CardContent";const k1=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",t),...e}));k1.displayName="CardFooter";const H3=({product:t,onViewDetails:e})=>{const{cart:n,addToCart:r,updateQuantity:s}=Tg(),[i,o]=m.useState(0),[a,l]=m.useState(()=>{var _;return((_=t.images)==null?void 0:_.filter(Boolean))??[]});m.useEffect(()=>{var _;l(((_=t.images)==null?void 0:_.filter(Boolean))??[]),o(0)},[t.images]),m.useEffect(()=>{a.length!==0&&i>=a.length&&o(0)},[a.length,i]),m.useEffect(()=>{if(!a||a.length<=1)return;const _=setInterval(()=>{o(g=>(g+1)%a.length)},2e3);return()=>clearInterval(_)},[a.length]);const c=n.find(_=>_.id===t.id),u=(c==null?void 0:c.cartQuantity)??0,d=()=>{t.quantity!==0&&(r(t),Ue.success("Added to cart!"))},f=()=>{u>=t.quantity||s(t.id,u+1)},p=()=>{s(t.id,u-1)},x=Math.round((t.originalPrice-t.offerPrice)/t.originalPrice*100),v=t.quantity<5;return h.jsxs(wn,{className:"group overflow-hidden transition-all hover:shadow-hover animate-fade-in",children:[h.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted cursor-pointer",role:"button",tabIndex:0,onClick:()=>e(t),onKeyDown:_=>{(_.key==="Enter"||_.key===" ")&&(_.preventDefault(),e(t))},children:[a.length>0?a.map((_,g)=>h.jsx("img",{src:_,alt:t.title,onError:()=>{l(y=>y.filter(E=>E!==_))},className:`absolute inset-0 h-full w-full object-cover transition-opacity duration-700 ease-in-out ${g===i?"opacity-100":"opacity-0"} group-hover:scale-105`},`${t.id}-img-${g}`)):h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted text-muted-foreground",children:"Image unavailable"}),x>0&&h.jsxs(Xn,{className:"absolute left-2 top-2 bg-secondary",children:[x,"% OFF"]}),v&&h.jsx(Xn,{variant:"destructive",className:"absolute right-2 top-2",children:"Low Stock"})]}),h.jsxs(xn,{className:"p-4",children:[h.jsxs("div",{className:"mb-2",children:[h.jsx(Xn,{variant:"outline",className:"mb-2",children:t.category}),h.jsx("h3",{className:"font-semibold line-clamp-2 text-foreground",children:t.title})]}),h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsxs("span",{className:"text-2xl font-bold text-primary",children:["₹",t.offerPrice]}),t.originalPrice>t.offerPrice&&h.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["₹",t.originalPrice]})]}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.quantity," units available"]})]}),h.jsxs(k1,{className:"p-4 pt-0 flex gap-2 items-center",children:[u===0?h.jsxs(ve,{onClick:_=>{_.stopPropagation(),d()},className:"flex-1",disabled:t.quantity===0,children:[h.jsx(aE,{className:"mr-2 h-4 w-4"}),"Add to Cart"]}):h.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[h.jsx(ve,{variant:"outline",size:"icon",onClick:_=>{_.stopPropagation(),p()},"aria-label":"Decrease quantity",children:h.jsx(sE,{className:"h-4 w-4"})}),h.jsx("span",{className:"min-w-8 text-center font-medium",children:u}),h.jsx(ve,{variant:"outline",size:"icon",onClick:_=>{_.stopPropagation(),f()},"aria-label":"Increase quantity",disabled:u>=t.quantity,children:h.jsx(Ku,{className:"h-4 w-4"})})]}),h.jsx(ve,{variant:"outline",size:"icon",onClick:_=>{_.stopPropagation(),e(t)},children:h.jsx(ek,{className:"h-4 w-4"})})]})]})},cn=m.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));cn.displayName="Input";var Tf="focusScope.autoFocusOnMount",If="focusScope.autoFocusOnUnmount",G_={bubbles:!1,cancelable:!0},G3="FocusScope",Ig=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=Kt(s),u=Kt(i),d=m.useRef(null),f=xe(e,v=>l(v)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(w){if(p.paused||!a)return;const E=w.target;a.contains(E)?d.current=E:_r(d.current,{select:!0})},_=function(w){if(p.paused||!a)return;const E=w.relatedTarget;E!==null&&(a.contains(E)||_r(d.current,{select:!0}))},g=function(w){if(document.activeElement===document.body)for(const C of w)C.removedNodes.length>0&&_r(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const y=new MutationObserver(g);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),y.disconnect()}}},[r,a,p.paused]),m.useEffect(()=>{if(a){q_.add(p);const v=document.activeElement;if(!a.contains(v)){const g=new CustomEvent(Tf,G_);a.addEventListener(Tf,c),a.dispatchEvent(g),g.defaultPrevented||(K3(J3(R1(a)),{select:!0}),document.activeElement===v&&_r(a))}return()=>{a.removeEventListener(Tf,c),setTimeout(()=>{const g=new CustomEvent(If,G_);a.addEventListener(If,u),a.dispatchEvent(g),g.defaultPrevented||_r(v??document.body,{select:!0}),a.removeEventListener(If,u),q_.remove(p)},0)}}},[a,c,u,p]);const x=m.useCallback(v=>{if(!n&&!r||p.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,g=document.activeElement;if(_&&g){const y=v.currentTarget,[w,E]=q3(y);w&&E?!v.shiftKey&&g===E?(v.preventDefault(),n&&_r(w,{select:!0})):v.shiftKey&&g===w&&(v.preventDefault(),n&&_r(E,{select:!0})):g===y&&v.preventDefault()}},[n,r,p.paused]);return h.jsx(te.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});Ig.displayName=G3;function K3(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(_r(r,{select:e}),document.activeElement!==n)return}function q3(t){const e=R1(t),n=K_(e,t),r=K_(e.reverse(),t);return[n,r]}function R1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function K_(t,e){for(const n of t)if(!Q3(n,{upTo:e}))return n}function Q3(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Y3(t){return t instanceof HTMLInputElement&&"select"in t}function _r(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Y3(t)&&e&&t.select()}}var q_=X3();function X3(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Q_(t,e),t.unshift(e)},remove(e){var n;t=Q_(t,e),(n=t[0])==null||n.resume()}}}function Q_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function J3(t){return t.filter(e=>e.tagName!=="A")}var Nf=0;function A1(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Y_()),document.body.insertAdjacentElement("beforeend",t[1]??Y_()),Nf++,()=>{Nf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Nf--}},[])}function Y_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Pn=function(){return Pn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pn.apply(this,arguments)};function O1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Z3(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Ec="right-scroll-bar-position",Cc="width-before-scroll-bar",eU="with-scroll-bars-hidden",tU="--removed-body-scroll-bar-size";function Pf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function nU(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var rU=typeof window<"u"?m.useLayoutEffect:m.useEffect,X_=new WeakMap;function sU(t,e){var n=nU(null,function(r){return t.forEach(function(s){return Pf(s,r)})});return rU(function(){var r=X_.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Pf(a,null)}),i.forEach(function(a){s.has(a)||Pf(a,o)})}X_.set(n,t)},[t]),n}function iU(t){return t}function oU(t,e){e===void 0&&(e=iU);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function aU(t){t===void 0&&(t={});var e=oU(null);return e.options=Pn({async:!0,ssr:!1},t),e}var D1=function(t){var e=t.sideCar,n=O1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Pn({},n))};D1.isSideCarExport=!0;function lU(t,e){return t.useMedium(e),D1}var M1=aU(),kf=function(){},yd=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:kf,onWheelCapture:kf,onTouchMoveCapture:kf}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,p=t.noRelative,x=t.noIsolation,v=t.inert,_=t.allowPinchZoom,g=t.as,y=g===void 0?"div":g,w=t.gapMode,E=O1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,S=sU([n,e]),b=Pn(Pn({},E),s);return m.createElement(m.Fragment,null,u&&m.createElement(C,{sideCar:M1,removeScrollBar:c,shards:d,noRelative:p,noIsolation:x,inert:v,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:w}),o?m.cloneElement(m.Children.only(a),Pn(Pn({},b),{ref:S})):m.createElement(y,Pn({},b,{className:l,ref:S}),a))});yd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yd.classNames={fullWidth:Cc,zeroRight:Ec};var cU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function uU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=cU();return e&&t.setAttribute("nonce",e),t}function dU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function fU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var hU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=uU())&&(dU(e,n),fU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},pU=function(){var t=hU();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},L1=function(){var t=pU(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},mU={left:0,top:0,right:0,gap:0},Rf=function(t){return parseInt(t||"",10)||0},gU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Rf(n),Rf(r),Rf(s)]},vU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return mU;var e=gU(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},yU=L1(),Hi="data-scroll-locked",_U=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(eU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Hi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ec,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Cc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ec," .").concat(Ec,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Cc," .").concat(Cc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hi,`] {
    `).concat(tU,": ").concat(a,`px;
  }
`)},J_=function(){var t=parseInt(document.body.getAttribute(Hi)||"0",10);return isFinite(t)?t:0},wU=function(){m.useEffect(function(){return document.body.setAttribute(Hi,(J_()+1).toString()),function(){var t=J_()-1;t<=0?document.body.removeAttribute(Hi):document.body.setAttribute(Hi,t.toString())}},[])},xU=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;wU();var i=m.useMemo(function(){return vU(s)},[s]);return m.createElement(yU,{styles:_U(i,!e,s,n?"":"!important")})},lp=!1;if(typeof window<"u")try{var Jl=Object.defineProperty({},"passive",{get:function(){return lp=!0,!0}});window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{lp=!1}var hi=lp?{passive:!1}:!1,EU=function(t){return t.tagName==="TEXTAREA"},j1=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!EU(t)&&n[e]==="visible")},CU=function(t){return j1(t,"overflowY")},SU=function(t){return j1(t,"overflowX")},Z_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=F1(t,r);if(s){var i=U1(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},bU=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},TU=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},F1=function(t,e){return t==="v"?CU(e):SU(e)},U1=function(t,e){return t==="v"?bU(e):TU(e)},IU=function(t,e){return t==="h"&&e==="rtl"?-1:1},NU=function(t,e,n,r,s){var i=IU(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,f=0;do{if(!a)break;var p=U1(t,a),x=p[0],v=p[1],_=p[2],g=v-_-i*x;(x||g)&&F1(t,a)&&(d+=g,f+=x);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!s)||!u&&(Math.abs(f)<1||!s))&&(c=!0),c},Zl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ew=function(t){return[t.deltaX,t.deltaY]},tw=function(t){return t&&"current"in t?t.current:t},PU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},kU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},RU=0,pi=[];function AU(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(RU++)[0],i=m.useState(L1)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=Z3([t.lockRef.current],(t.shards||[]).map(tw),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var g=Zl(v),y=n.current,w="deltaX"in v?v.deltaX:y[0]-g[0],E="deltaY"in v?v.deltaY:y[1]-g[1],C,S=v.target,b=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in v&&b==="h"&&S.type==="range")return!1;var T=Z_(b,S);if(!T)return!0;if(T?C=b:(C=b==="v"?"h":"v",T=Z_(b,S)),!T)return!1;if(!r.current&&"changedTouches"in v&&(w||E)&&(r.current=C),!C)return!0;var A=r.current||C;return NU(A,_,v,A==="h"?w:E,!0)},[]),l=m.useCallback(function(v){var _=v;if(!(!pi.length||pi[pi.length-1]!==i)){var g="deltaY"in _?ew(_):Zl(_),y=e.current.filter(function(C){return C.name===_.type&&(C.target===_.target||_.target===C.shadowParent)&&PU(C.delta,g)})[0];if(y&&y.should){_.cancelable&&_.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(tw).filter(Boolean).filter(function(C){return C.contains(_.target)}),E=w.length>0?a(_,w[0]):!o.current.noIsolation;E&&_.cancelable&&_.preventDefault()}}},[]),c=m.useCallback(function(v,_,g,y){var w={name:v,delta:_,target:g,should:y,shadowParent:OU(g)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(E){return E!==w})},1)},[]),u=m.useCallback(function(v){n.current=Zl(v),r.current=void 0},[]),d=m.useCallback(function(v){c(v.type,ew(v),v.target,a(v,t.lockRef.current))},[]),f=m.useCallback(function(v){c(v.type,Zl(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return pi.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,hi),document.addEventListener("touchmove",l,hi),document.addEventListener("touchstart",u,hi),function(){pi=pi.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,hi),document.removeEventListener("touchmove",l,hi),document.removeEventListener("touchstart",u,hi)}},[]);var p=t.removeScrollBar,x=t.inert;return m.createElement(m.Fragment,null,x?m.createElement(i,{styles:kU(s)}):null,p?m.createElement(xU,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function OU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const DU=lU(M1,AU);var Ng=m.forwardRef(function(t,e){return m.createElement(yd,Pn({},t,{ref:e,sideCar:DU}))});Ng.classNames=yd.classNames;var MU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},mi=new WeakMap,ec=new WeakMap,tc={},Af=0,$1=function(t){return t&&(t.host||$1(t.parentNode))},LU=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=$1(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},jU=function(t,e,n,r){var s=LU(e,Array.isArray(t)?t:[t]);tc[n]||(tc[n]=new WeakMap);var i=tc[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var p=f.getAttribute(r),x=p!==null&&p!=="false",v=(mi.get(f)||0)+1,_=(i.get(f)||0)+1;mi.set(f,v),i.set(f,_),o.push(f),v===1&&x&&ec.set(f,!0),_===1&&f.setAttribute(n,"true"),x||f.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return u(e),a.clear(),Af++,function(){o.forEach(function(d){var f=mi.get(d)-1,p=i.get(d)-1;mi.set(d,f),i.set(d,p),f||(ec.has(d)||d.removeAttribute(r),ec.delete(d)),p||d.removeAttribute(n)}),Af--,Af||(mi=new WeakMap,mi=new WeakMap,ec=new WeakMap,tc={})}},z1=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=MU(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),jU(r,s,n,"aria-hidden")):function(){return null}},_d="Dialog",[B1,f5]=ls(_d),[FU,En]=B1(_d),W1=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c,u]=lo({prop:r,defaultProp:s??!1,onChange:i,caller:_d});return h.jsx(FU,{scope:e,triggerRef:a,contentRef:l,contentId:Vr(),titleId:Vr(),descriptionId:Vr(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};W1.displayName=_d;var V1="DialogTrigger",H1=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=En(V1,n),i=xe(e,s.triggerRef);return h.jsx(te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Rg(s.open),...r,ref:i,onClick:V(t.onClick,s.onOpenToggle)})});H1.displayName=V1;var Pg="DialogPortal",[UU,G1]=B1(Pg,{forceMount:void 0}),K1=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=En(Pg,e);return h.jsx(UU,{scope:e,forceMount:n,children:m.Children.map(r,o=>h.jsx(ni,{present:n||i.open,children:h.jsx(Wu,{asChild:!0,container:s,children:o})}))})};K1.displayName=Pg;var bu="DialogOverlay",q1=m.forwardRef((t,e)=>{const n=G1(bu,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=En(bu,t.__scopeDialog);return i.modal?h.jsx(ni,{present:r||i.open,children:h.jsx(zU,{...s,ref:e})}):null});q1.displayName=bu;var $U=ao("DialogOverlay.RemoveScroll"),zU=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=En(bu,n);return h.jsx(Ng,{as:$U,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(te.div,{"data-state":Rg(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ys="DialogContent",Q1=m.forwardRef((t,e)=>{const n=G1(Ys,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=En(Ys,t.__scopeDialog);return h.jsx(ni,{present:r||i.open,children:i.modal?h.jsx(BU,{...s,ref:e}):h.jsx(WU,{...s,ref:e})})});Q1.displayName=Ys;var BU=m.forwardRef((t,e)=>{const n=En(Ys,t.__scopeDialog),r=m.useRef(null),s=xe(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return z1(i)},[]),h.jsx(Y1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:V(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:V(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:V(t.onFocusOutside,i=>i.preventDefault())})}),WU=m.forwardRef((t,e)=>{const n=En(Ys,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return h.jsx(Y1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Y1=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=En(Ys,n),l=m.useRef(null),c=xe(e,l);return A1(),h.jsxs(h.Fragment,{children:[h.jsx(Ig,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(cl,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Rg(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(VU,{titleId:a.titleId}),h.jsx(GU,{contentRef:l,descriptionId:a.descriptionId})]})]})}),kg="DialogTitle",X1=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=En(kg,n);return h.jsx(te.h2,{id:s.titleId,...r,ref:e})});X1.displayName=kg;var J1="DialogDescription",Z1=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=En(J1,n);return h.jsx(te.p,{id:s.descriptionId,...r,ref:e})});Z1.displayName=J1;var eb="DialogClose",tb=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=En(eb,n);return h.jsx(te.button,{type:"button",...r,ref:e,onClick:V(t.onClick,()=>s.onOpenChange(!1))})});tb.displayName=eb;function Rg(t){return t?"open":"closed"}var nb="DialogTitleWarning",[h5,rb]=iP(nb,{contentName:Ys,titleName:kg,docsSlug:"dialog"}),VU=({titleId:t})=>{const e=rb(nb),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},HU="DialogDescriptionWarning",GU=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rb(HU).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},KU=W1,qU=H1,QU=K1,sb=q1,ib=Q1,ob=X1,ab=Z1,YU=tb;const Ag=KU,lb=qU,XU=QU,cb=m.forwardRef(({className:t,...e},n)=>h.jsx(sb,{ref:n,className:oe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));cb.displayName=sb.displayName;const wd=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(XU,{children:[h.jsx(cb,{}),h.jsxs(ib,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(YU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[h.jsx(lE,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wd.displayName=ib.displayName;const xd=({className:t,...e})=>h.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});xd.displayName="DialogHeader";const Ed=m.forwardRef(({className:t,...e},n)=>h.jsx(ob,{ref:n,className:oe("text-lg font-semibold leading-none tracking-tight",t),...e}));Ed.displayName=ob.displayName;const JU=m.forwardRef(({className:t,...e},n)=>h.jsx(ab,{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));JU.displayName=ab.displayName;function Of({className:t,...e}){return h.jsx("div",{className:oe("animate-pulse rounded-md bg-muted",t),...e})}const ZU=()=>{const[t,e]=m.useState([]),[n,r]=m.useState([]),[s,i]=m.useState([]),[o,a]=m.useState("All"),[l,c]=m.useState(null),[u,d]=m.useState(!0),[f,p]=m.useState(!1),[x,v]=m.useState("");m.useEffect(()=>{_()},[]),m.useEffect(()=>{const g=o==="All"?t:t.filter(E=>E.category===o),y=x.trim().toLowerCase();if(!y){i(g);return}const w=g.filter(E=>E.title.toLowerCase().includes(y));i(w)},[o,t,x]);const _=async()=>{try{const[g,y]=await Promise.all([Qs(Et(Ct,"products")),Qs(Et(Ct,"categories"))]);if(g.exists()){const w=JSON.parse(g.val()),E=Object.entries(w).map(([C,S])=>({id:C,...S}));e(E),i(E)}if(y.exists()){const w=JSON.parse(y.val()),E=Object.entries(w).map(([C,S])=>({id:C,...S}));r(E.sort((C,S)=>C.name.localeCompare(S.name)))}}catch(g){console.error("Error fetching data:",g)}finally{d(!1)}};return h.jsxs("div",{className:"container py-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold mb-2",children:"All Products"}),h.jsx("p",{className:"text-muted-foreground",children:"Discover amazing deals across all categories"})]}),h.jsx("div",{className:"mb-6",children:h.jsxs("div",{className:"relative",children:[h.jsx(sk,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),h.jsx(cn,{value:x,onChange:g=>v(g.target.value),placeholder:"Search products by title",className:"pl-9"})]})}),h.jsx("div",{className:"mb-6 lg:hidden",children:h.jsxs(ve,{variant:"outline",onClick:()=>p(!f),className:"w-full",children:[h.jsx(tk,{className:"mr-2 h-4 w-4"}),f?"Hide":"Show"," Filters"]})}),n.length>0&&h.jsx("div",{className:`mb-8 ${f?"block":"hidden lg:block"}`,children:h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx(ve,{variant:o==="All"?"default":"outline",onClick:()=>a("All"),children:"All Products"}),n.map(g=>h.jsx(ve,{variant:o===g.name?"default":"outline",onClick:()=>a(g.name),children:g.name},g.id))]})}),u?h.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[...Array(8)].map((g,y)=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(Of,{className:"aspect-square w-full rounded-lg"}),h.jsx(Of,{className:"h-4 w-3/4"}),h.jsx(Of,{className:"h-4 w-1/2"})]},y))}):s.length===0?h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-muted-foreground",children:t.length===0?"No products available yet. Check back soon!":"No products found in this category."})}):h.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:s.map(g=>h.jsx(H3,{product:g,onViewDetails:c},g.id))}),h.jsx(Ag,{open:!!l,onOpenChange:()=>c(null),children:h.jsx(wd,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:l&&h.jsxs(h.Fragment,{children:[h.jsxs(xd,{children:[h.jsx(Ed,{className:"text-2xl",children:l.title}),h.jsx(Xn,{variant:"outline",className:"w-fit",children:l.category})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:h.jsx("img",{src:l.images[0],alt:l.title,className:"h-full w-full object-cover"})}),l.images.length>1&&h.jsx("div",{className:"flex gap-2 overflow-x-auto",children:l.images.slice(1).map((g,y)=>h.jsx("img",{src:g,alt:`${l.title} ${y+2}`,className:"h-20 w-20 object-cover rounded-lg"},y))}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("span",{className:"text-3xl font-bold text-primary",children:["₹",l.offerPrice]}),l.originalPrice>l.offerPrice&&h.jsxs(h.Fragment,{children:[h.jsxs("span",{className:"text-lg text-muted-foreground line-through",children:["₹",l.originalPrice]}),h.jsxs(Xn,{className:"bg-secondary",children:[Math.round((l.originalPrice-l.offerPrice)/l.originalPrice*100),"% OFF"]})]})]}),l.description&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),h.jsx("p",{className:"text-muted-foreground",children:l.description})]}),l.colorVariants&&l.colorVariants.length>0&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"Available Colors"}),h.jsx("div",{className:"flex gap-2",children:l.colorVariants.map(g=>h.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-border",style:{backgroundColor:g.toLowerCase()},title:g},g))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"Availability"}),h.jsx("p",{className:"text-muted-foreground",children:l.quantity>0?`${l.quantity} units in stock`:"Out of stock"})]})]})]})})})]})};var e6="Label",ub=m.forwardRef((t,e)=>h.jsx(te.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ub.displayName=e6;var db=ub;const t6=Gu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),kt=m.forwardRef(({className:t,...e},n)=>h.jsx(db,{ref:n,className:oe(t6(),t),...e}));kt.displayName=db.displayName;const n6=()=>{const{cart:t,removeFromCart:e,updateQuantity:n,clearCart:r,getTotalPrice:s}=Tg(),[i,o]=m.useState(""),a=()=>{if(t.length===0){Ue.error("Your cart is empty");return}if(!i.trim()){Ue.error("Please enter your name");return}const l=t.map(d=>`${d.title}${d.selectedColor?` (${d.selectedColor})`:""} x ${d.cartQuantity} = ₹${d.offerPrice*d.cartQuantity}`).join("%0A"),u=`https://wa.me/918639122823?text=${`*New Order from Pop and Fun*%0A%0A*Customer Name:* ${i}%0A%0A*Order Details:*%0A${l}%0A%0A*Total Amount:* ₹${s()}%0A%0A*Timestamp:* ${new Date().toLocaleString()}`}`;window.open(u,"_blank"),Ue.success("Order sent via WhatsApp!"),r(),o("")};return t.length===0?h.jsx("div",{className:"container py-16",children:h.jsxs("div",{className:"mx-auto max-w-md text-center",children:[h.jsx(oE,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),h.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Your cart is empty"}),h.jsx("p",{className:"text-muted-foreground mb-6",children:"Add some products to get started!"}),h.jsx(ve,{asChild:!0,children:h.jsx(vi,{to:"/",children:"Start Shopping"})})]})}):h.jsxs("div",{className:"container py-8",children:[h.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Shopping Cart"}),h.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[h.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.map(l=>h.jsx(wn,{children:h.jsx(xn,{className:"p-4",children:h.jsxs("div",{className:"flex gap-4",children:[h.jsx("img",{src:l.images[0],alt:l.title,className:"h-24 w-24 rounded-lg object-cover"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold mb-1",children:l.title}),l.selectedColor&&h.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Color: ",l.selectedColor]}),h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsxs("span",{className:"text-lg font-bold text-primary",children:["₹",l.offerPrice]}),l.originalPrice>l.offerPrice&&h.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["₹",l.originalPrice]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"flex items-center border rounded-lg",children:[h.jsx(ve,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>n(l.id,l.cartQuantity-1),children:h.jsx(sE,{className:"h-4 w-4"})}),h.jsx("span",{className:"px-4 font-medium",children:l.cartQuantity}),h.jsx(ve,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>n(l.id,l.cartQuantity+1),disabled:l.cartQuantity>=l.quantity,children:h.jsx(Ku,{className:"h-4 w-4"})})]}),h.jsx(ve,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>e(l.id),children:h.jsx(mm,{className:"h-4 w-4"})})]})]}),h.jsx("div",{className:"text-right",children:h.jsxs("p",{className:"text-lg font-bold",children:["₹",l.offerPrice*l.cartQuantity]})})]})})},`${l.id}-${l.selectedColor}`))}),h.jsx("div",{children:h.jsx(wn,{className:"sticky top-20",children:h.jsxs(xn,{className:"p-6 space-y-4",children:[h.jsx("h2",{className:"text-xl font-bold",children:"Order Summary"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[h.jsx("span",{children:"Subtotal"}),h.jsxs("span",{children:["₹",s()]})]}),h.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[h.jsx("span",{children:"Total"}),h.jsxs("span",{className:"text-primary",children:["₹",s()]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"customerName",children:"Your Name"}),h.jsx(cn,{id:"customerName",placeholder:"Enter your name",value:i,onChange:l=>o(l.target.value)})]}),h.jsx(ve,{className:"w-full",size:"lg",onClick:a,children:"Checkout via WhatsApp"}),h.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"You'll be redirected to WhatsApp to complete your order"})]})})})]})]})},r6=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(!1),{login:o}=bg(),a=Dm(),l=async c=>{c.preventDefault(),i(!0);try{await o(t,n),Ue.success("Login successful!"),a("/admin")}catch(u){Ue.error(u.message||"Login failed")}finally{i(!1)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:h.jsxs(wn,{className:"w-full max-w-md",children:[h.jsxs(El,{className:"text-center",children:[h.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:h.jsx(nk,{className:"h-6 w-6 text-primary"})}),h.jsx(Cl,{className:"text-2xl",children:"Admin Login"}),h.jsx(P1,{children:"Sign in to access the admin dashboard"})]}),h.jsx(xn,{children:h.jsxs("form",{onSubmit:l,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"email",children:"Email"}),h.jsx(cn,{id:"email",type:"email",placeholder:"admin@example.com",value:t,onChange:c=>e(c.target.value),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"password",children:"Password"}),h.jsx(cn,{id:"password",type:"password",placeholder:"••••••••",value:n,onChange:c=>r(c.target.value),required:!0})]}),h.jsx(ve,{type:"submit",className:"w-full",disabled:s,children:s?"Signing in...":"Sign In"})]})})]})})};var s6=m.createContext(void 0);function Og(t){const e=m.useContext(s6);return t||e||"ltr"}var Df="rovingFocusGroup.onEntryFocus",i6={bubbles:!1,cancelable:!0},Sl="RovingFocusGroup",[cp,fb,o6]=dm(Sl),[a6,hb]=ls(Sl,[o6]),[l6,c6]=a6(Sl),pb=m.forwardRef((t,e)=>h.jsx(cp.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(cp.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(u6,{...t,ref:e})})}));pb.displayName=Sl;var u6=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,f=m.useRef(null),p=xe(e,f),x=Og(i),[v,_]=lo({prop:o,defaultProp:a??null,onChange:l,caller:Sl}),[g,y]=m.useState(!1),w=Kt(c),E=fb(n),C=m.useRef(!1),[S,b]=m.useState(0);return m.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(Df,w),()=>T.removeEventListener(Df,w)},[w]),h.jsx(l6,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(T=>_(T),[_]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>b(T=>T+1),[]),onFocusableItemRemove:m.useCallback(()=>b(T=>T-1),[]),children:h.jsx(te.div,{tabIndex:g||S===0?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...t.style},onMouseDown:V(t.onMouseDown,()=>{C.current=!0}),onFocus:V(t.onFocus,T=>{const A=!C.current;if(T.target===T.currentTarget&&A&&!g){const R=new CustomEvent(Df,i6);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const z=E().filter(U=>U.focusable),L=z.find(U=>U.active),H=z.find(U=>U.id===v),q=[L,H,...z].filter(Boolean).map(U=>U.ref.current);vb(q,u)}}C.current=!1}),onBlur:V(t.onBlur,()=>y(!1))})})}),mb="RovingFocusGroupItem",gb=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Vr(),c=i||l,u=c6(mb,n),d=u.currentTabStopId===c,f=fb(n),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:v}=u;return m.useEffect(()=>{if(r)return p(),()=>x()},[r,p,x]),h.jsx(cp.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:h.jsx(te.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:V(t.onMouseDown,_=>{r?u.onItemFocus(c):_.preventDefault()}),onFocus:V(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:V(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const g=h6(_,u.orientation,u.dir);if(g!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let w=f().filter(E=>E.focusable).map(E=>E.ref.current);if(g==="last")w.reverse();else if(g==="prev"||g==="next"){g==="prev"&&w.reverse();const E=w.indexOf(_.currentTarget);w=u.loop?p6(w,E+1):w.slice(E+1)}setTimeout(()=>vb(w))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:v!=null}):o})})});gb.displayName=mb;var d6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function f6(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function h6(t,e,n){const r=f6(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return d6[r]}function vb(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function p6(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var m6=pb,g6=gb,Cd="Tabs",[v6,p5]=ls(Cd,[hb]),yb=hb(),[y6,Dg]=v6(Cd),_b=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Og(a),[d,f]=lo({prop:r,onChange:s,defaultProp:i??"",caller:Cd});return h.jsx(y6,{scope:n,baseId:Vr(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:l,children:h.jsx(te.div,{dir:u,"data-orientation":o,...c,ref:e})})});_b.displayName=Cd;var wb="TabsList",xb=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Dg(wb,n),o=yb(n);return h.jsx(m6,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:h.jsx(te.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});xb.displayName=wb;var Eb="TabsTrigger",Cb=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Dg(Eb,n),a=yb(n),l=Tb(o.baseId,r),c=Ib(o.baseId,r),u=r===o.value;return h.jsx(g6,{asChild:!0,...a,focusable:!s,active:u,children:h.jsx(te.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:V(t.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:V(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:V(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!s&&d&&o.onValueChange(r)})})})});Cb.displayName=Eb;var Sb="TabsContent",bb=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Dg(Sb,n),l=Tb(a.baseId,r),c=Ib(a.baseId,r),u=r===a.value,d=m.useRef(u);return m.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),h.jsx(ni,{present:s||u,children:({present:f})=>h.jsx(te.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:f&&i})})});bb.displayName=Sb;function Tb(t,e){return`${t}-trigger-${e}`}function Ib(t,e){return`${t}-content-${e}`}var _6=_b,Nb=xb,Pb=Cb,kb=bb;const w6=_6,Rb=m.forwardRef(({className:t,...e},n)=>h.jsx(Nb,{ref:n,className:oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Rb.displayName=Nb.displayName;const Sc=m.forwardRef(({className:t,...e},n)=>h.jsx(Pb,{ref:n,className:oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Sc.displayName=Pb.displayName;const bc=m.forwardRef(({className:t,...e},n)=>h.jsx(kb,{ref:n,className:oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));bc.displayName=kb.displayName;const x6=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(!0),[s,i]=m.useState(!1),[o,a]=m.useState("");m.useEffect(()=>{l()},[]);const l=async()=>{try{const d=Et(Ct,"categories"),f=await Qs(d);if(f.exists()){const p=JSON.parse(f.val()),x=Object.entries(p).map(([v,_])=>({id:v,..._}));e(x.sort((v,_)=>v.name.localeCompare(_.name)))}}catch(d){console.error("Error fetching categories:",d),Ue.error("Failed to load categories")}finally{r(!1)}},c=async d=>{if(d.preventDefault(),!o.trim()){Ue.error("Please enter a category name");return}try{const f={name:o.trim(),createdAt:Date.now()},p=Date.now().toString(),x=[...t,{...f,id:p}],v=x.reduce((_,g)=>(_[g.id]={name:g.name,createdAt:g.createdAt},_),{});await Ls(Et(Ct,"categories"),JSON.stringify(v)),Ue.success("Category added!"),e(x.sort((_,g)=>_.name.localeCompare(g.name))),a(""),i(!1)}catch(f){console.error("Error saving category:",f),Ue.error("Failed to save category")}},u=async(d,f)=>{if(confirm(`Delete "${f}" category? This won't delete products in this category.`))try{const p=t.filter(x=>x.id!==d);if(p.length===0)await Ls(Et(Ct,"categories"),null);else{const x=p.reduce((v,_)=>(v[_.id]={name:_.name,createdAt:_.createdAt},v),{});await Ls(Et(Ct,"categories"),JSON.stringify(x))}Ue.success("Category deleted!"),e(p)}catch(p){console.error("Error deleting category:",p),Ue.error("Failed to delete category")}};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-2xl font-bold",children:"Categories"}),h.jsxs(Ag,{open:s,onOpenChange:i,children:[h.jsx(lb,{asChild:!0,children:h.jsxs(ve,{children:[h.jsx(Ku,{className:"mr-2 h-4 w-4"}),"Add Category"]})}),h.jsxs(wd,{children:[h.jsx(xd,{children:h.jsx(Ed,{children:"Add New Category"})}),h.jsxs("form",{onSubmit:c,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"categoryName",children:"Category Name *"}),h.jsx(cn,{id:"categoryName",value:o,onChange:d=>a(d.target.value),placeholder:"e.g., Electronics, Fashion",required:!0})]}),h.jsx(ve,{type:"submit",className:"w-full",children:"Add Category"})]})]})]})]}),n?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"Loading categories..."})]}):t.length===0?h.jsx(wn,{children:h.jsxs(xn,{className:"py-12 text-center",children:[h.jsx(rE,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),h.jsx("p",{className:"text-muted-foreground mb-2",children:"No categories yet"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Add your first category to organize products"})]})}):h.jsx("div",{className:"grid gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:t.map(d=>h.jsxs(wn,{children:[h.jsxs(El,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(Cl,{className:"text-lg font-semibold",children:d.name}),h.jsx(ve,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>u(d.id,d.name),children:h.jsx(mm,{className:"h-4 w-4"})})]}),h.jsx(xn,{children:h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Created ",new Date(d.createdAt).toLocaleDateString()]})})]},d.id))})]})},up=m.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));up.displayName="Textarea";function nw(t,[e,n]){return Math.min(n,Math.max(e,t))}function E6(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var C6=[" ","Enter","ArrowUp","ArrowDown"],S6=[" ","Enter"],Xs="Select",[Sd,bd,b6]=dm(Xs),[Do,m5]=ls(Xs,[b6,Xu]),Td=Xu(),[T6,hs]=Do(Xs),[I6,N6]=Do(Xs),Ab=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:p,form:x}=t,v=Td(e),[_,g]=m.useState(null),[y,w]=m.useState(null),[E,C]=m.useState(!1),S=Og(c),[b,T]=lo({prop:r,defaultProp:s??!1,onChange:i,caller:Xs}),[A,R]=lo({prop:o,defaultProp:a,onChange:l,caller:Xs}),z=m.useRef(null),L=_?x||!!_.closest("form"):!0,[H,M]=m.useState(new Set),q=Array.from(H).map(U=>U.props.value).join(";");return h.jsx(zA,{...v,children:h.jsxs(T6,{required:p,scope:e,trigger:_,onTriggerChange:g,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:E,onValueNodeHasChildrenChange:C,contentId:Vr(),value:A,onValueChange:R,open:b,onOpenChange:T,dir:S,triggerPointerDownPosRef:z,disabled:f,children:[h.jsx(Sd.Provider,{scope:e,children:h.jsx(I6,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(U=>{M(W=>new Set(W).add(U))},[]),onNativeOptionRemove:m.useCallback(U=>{M(W=>{const I=new Set(W);return I.delete(U),I})},[]),children:n})}),L?h.jsxs(nT,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:A,onChange:U=>R(U.target.value),disabled:f,form:x,children:[A===void 0?h.jsx("option",{value:""}):null,Array.from(H)]},q):null]})})};Ab.displayName=Xs;var Ob="SelectTrigger",Db=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Td(n),o=hs(Ob,n),a=o.disabled||r,l=xe(e,o.onTriggerChange),c=bd(n),u=m.useRef("touch"),[d,f,p]=sT(v=>{const _=c().filter(w=>!w.disabled),g=_.find(w=>w.value===o.value),y=iT(_,v,g);y!==void 0&&o.onValueChange(y.value)}),x=v=>{a||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return h.jsx($E,{asChild:!0,...i,children:h.jsx(te.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":rT(o.value)?"":void 0,...s,ref:l,onClick:V(s.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&x(v)}),onPointerDown:V(s.onPointerDown,v=>{u.current=v.pointerType;const _=v.target;_.hasPointerCapture(v.pointerId)&&_.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:V(s.onKeyDown,v=>{const _=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(_&&v.key===" ")&&C6.includes(v.key)&&(x(),v.preventDefault())})})})});Db.displayName=Ob;var Mb="SelectValue",Lb=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=hs(Mb,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,d=xe(e,l.onValueNodeChange);return Ze(()=>{c(u)},[c,u]),h.jsx(te.span,{...a,ref:d,style:{pointerEvents:"none"},children:rT(l.value)?h.jsx(h.Fragment,{children:o}):i})});Lb.displayName=Mb;var P6="SelectIcon",jb=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return h.jsx(te.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});jb.displayName=P6;var k6="SelectPortal",Fb=t=>h.jsx(Wu,{asChild:!0,...t});Fb.displayName=k6;var Js="SelectContent",Ub=m.forwardRef((t,e)=>{const n=hs(Js,t.__scopeSelect),[r,s]=m.useState();if(Ze(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ti.createPortal(h.jsx($b,{scope:t.__scopeSelect,children:h.jsx(Sd.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),i):null}return h.jsx(zb,{...t,ref:e})});Ub.displayName=Js;var Zt=10,[$b,ps]=Do(Js),R6="SelectContentImpl",A6=ao("SelectContent.RemoveScroll"),zb=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:x,hideWhenDetached:v,avoidCollisions:_,...g}=t,y=hs(Js,n),[w,E]=m.useState(null),[C,S]=m.useState(null),b=xe(e,F=>E(F)),[T,A]=m.useState(null),[R,z]=m.useState(null),L=bd(n),[H,M]=m.useState(!1),q=m.useRef(!1);m.useEffect(()=>{if(w)return z1(w)},[w]),A1();const U=m.useCallback(F=>{const[he,...Oe]=L().map(ce=>ce.ref.current),[fe]=Oe.slice(-1),ae=document.activeElement;for(const ce of F)if(ce===ae||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===he&&C&&(C.scrollTop=0),ce===fe&&C&&(C.scrollTop=C.scrollHeight),ce==null||ce.focus(),document.activeElement!==ae))return},[L,C]),W=m.useCallback(()=>U([T,w]),[U,T,w]);m.useEffect(()=>{H&&W()},[H,W]);const{onOpenChange:I,triggerPointerDownPosRef:P}=y;m.useEffect(()=>{if(w){let F={x:0,y:0};const he=fe=>{var ae,ce;F={x:Math.abs(Math.round(fe.pageX)-(((ae=P.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((ce=P.current)==null?void 0:ce.y)??0))}},Oe=fe=>{F.x<=10&&F.y<=10?fe.preventDefault():w.contains(fe.target)||I(!1),document.removeEventListener("pointermove",he),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[w,I,P]),m.useEffect(()=>{const F=()=>I(!1);return window.addEventListener("blur",F),window.addEventListener("resize",F),()=>{window.removeEventListener("blur",F),window.removeEventListener("resize",F)}},[I]);const[j,Q]=sT(F=>{const he=L().filter(ae=>!ae.disabled),Oe=he.find(ae=>ae.ref.current===document.activeElement),fe=iT(he,F,Oe);fe&&setTimeout(()=>fe.ref.current.focus())}),B=m.useCallback((F,he,Oe)=>{const fe=!q.current&&!Oe;(y.value!==void 0&&y.value===he||fe)&&(A(F),fe&&(q.current=!0))},[y.value]),Z=m.useCallback(()=>w==null?void 0:w.focus(),[w]),Y=m.useCallback((F,he,Oe)=>{const fe=!q.current&&!Oe;(y.value!==void 0&&y.value===he||fe)&&z(F)},[y.value]),Ee=r==="popper"?dp:Bb,Ae=Ee===dp?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:x,hideWhenDetached:v,avoidCollisions:_}:{};return h.jsx($b,{scope:n,content:w,viewport:C,onViewportChange:S,itemRefCallback:B,selectedItem:T,onItemLeave:Z,itemTextRefCallback:Y,focusSelectedItem:W,selectedItemText:R,position:r,isPositioned:H,searchRef:j,children:h.jsx(Ng,{as:A6,allowPinchZoom:!0,children:h.jsx(Ig,{asChild:!0,trapped:y.open,onMountAutoFocus:F=>{F.preventDefault()},onUnmountAutoFocus:V(s,F=>{var he;(he=y.trigger)==null||he.focus({preventScroll:!0}),F.preventDefault()}),children:h.jsx(cl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:F=>F.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:h.jsx(Ee,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:F=>F.preventDefault(),...g,...Ae,onPlaced:()=>M(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:V(g.onKeyDown,F=>{const he=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!he&&F.key.length===1&&Q(F.key),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let fe=L().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(F.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const ae=F.target,ce=fe.indexOf(ae);fe=fe.slice(ce+1)}setTimeout(()=>U(fe)),F.preventDefault()}})})})})})})});zb.displayName=R6;var O6="SelectItemAlignedPosition",Bb=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=hs(Js,n),o=ps(Js,n),[a,l]=m.useState(null),[c,u]=m.useState(null),d=xe(e,b=>u(b)),f=bd(n),p=m.useRef(!1),x=m.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:g,focusSelectedItem:y}=o,w=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&v&&_&&g){const b=i.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),R=g.getBoundingClientRect();if(i.dir!=="rtl"){const ae=R.left-T.left,ce=A.left-ae,tt=b.left-ce,Ft=b.width+tt,ms=Math.max(Ft,T.width),ur=window.innerWidth-Zt,gs=nw(ce,[Zt,Math.max(Zt,ur-ms)]);a.style.minWidth=Ft+"px",a.style.left=gs+"px"}else{const ae=T.right-R.right,ce=window.innerWidth-A.right-ae,tt=window.innerWidth-b.right-ce,Ft=b.width+tt,ms=Math.max(Ft,T.width),ur=window.innerWidth-Zt,gs=nw(ce,[Zt,Math.max(Zt,ur-ms)]);a.style.minWidth=Ft+"px",a.style.right=gs+"px"}const z=f(),L=window.innerHeight-Zt*2,H=v.scrollHeight,M=window.getComputedStyle(c),q=parseInt(M.borderTopWidth,10),U=parseInt(M.paddingTop,10),W=parseInt(M.borderBottomWidth,10),I=parseInt(M.paddingBottom,10),P=q+U+H+I+W,j=Math.min(_.offsetHeight*5,P),Q=window.getComputedStyle(v),B=parseInt(Q.paddingTop,10),Z=parseInt(Q.paddingBottom,10),Y=b.top+b.height/2-Zt,Ee=L-Y,Ae=_.offsetHeight/2,F=_.offsetTop+Ae,he=q+U+F,Oe=P-he;if(he<=Y){const ae=z.length>0&&_===z[z.length-1].ref.current;a.style.bottom="0px";const ce=c.clientHeight-v.offsetTop-v.offsetHeight,tt=Math.max(Ee,Ae+(ae?Z:0)+ce+W),Ft=he+tt;a.style.height=Ft+"px"}else{const ae=z.length>0&&_===z[0].ref.current;a.style.top="0px";const tt=Math.max(Y,q+v.offsetTop+(ae?B:0)+Ae)+Oe;a.style.height=tt+"px",v.scrollTop=he-Y+v.offsetTop}a.style.margin=`${Zt}px 0`,a.style.minHeight=j+"px",a.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,a,c,v,_,g,i.dir,r]);Ze(()=>w(),[w]);const[E,C]=m.useState();Ze(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const S=m.useCallback(b=>{b&&x.current===!0&&(w(),y==null||y(),x.current=!1)},[w,y]);return h.jsx(M6,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:h.jsx(te.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Bb.displayName=O6;var D6="SelectPopperPosition",dp=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Zt,...i}=t,o=Td(n);return h.jsx(zE,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dp.displayName=D6;var[M6,Mg]=Do(Js,{}),fp="SelectViewport",Wb=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ps(fp,n),o=Mg(fp,n),a=xe(e,i.onViewportChange),l=m.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(Sd.Slot,{scope:n,children:h.jsx(te.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:V(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&d){const p=Math.abs(l.current-u.scrollTop);if(p>0){const x=window.innerHeight-Zt*2,v=parseFloat(d.style.minHeight),_=parseFloat(d.style.height),g=Math.max(v,_);if(g<x){const y=g+p,w=Math.min(x,y),E=y-w;d.style.height=w+"px",d.style.bottom==="0px"&&(u.scrollTop=E>0?E:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});Wb.displayName=fp;var Vb="SelectGroup",[L6,j6]=Do(Vb),F6=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Vr();return h.jsx(L6,{scope:n,id:s,children:h.jsx(te.div,{role:"group","aria-labelledby":s,...r,ref:e})})});F6.displayName=Vb;var Hb="SelectLabel",Gb=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=j6(Hb,n);return h.jsx(te.div,{id:s.id,...r,ref:e})});Gb.displayName=Hb;var Tu="SelectItem",[U6,Kb]=Do(Tu),qb=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=hs(Tu,n),l=ps(Tu,n),c=a.value===r,[u,d]=m.useState(i??""),[f,p]=m.useState(!1),x=xe(e,y=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,y,r,s)}),v=Vr(),_=m.useRef("touch"),g=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(U6,{scope:n,value:r,disabled:s,textId:v,isSelected:c,onItemTextChange:m.useCallback(y=>{d(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:h.jsx(Sd.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:h.jsx(te.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:V(o.onFocus,()=>p(!0)),onBlur:V(o.onBlur,()=>p(!1)),onClick:V(o.onClick,()=>{_.current!=="mouse"&&g()}),onPointerUp:V(o.onPointerUp,()=>{_.current==="mouse"&&g()}),onPointerDown:V(o.onPointerDown,y=>{_.current=y.pointerType}),onPointerMove:V(o.onPointerMove,y=>{var w;_.current=y.pointerType,s?(w=l.onItemLeave)==null||w.call(l):_.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:V(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:V(o.onKeyDown,y=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&y.key===" "||(S6.includes(y.key)&&g(),y.key===" "&&y.preventDefault())})})})})});qb.displayName=Tu;var ra="SelectItemText",Qb=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=hs(ra,n),a=ps(ra,n),l=Kb(ra,n),c=N6(ra,n),[u,d]=m.useState(null),f=xe(e,g=>d(g),l.onItemTextChange,g=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,g,l.value,l.disabled)}),p=u==null?void 0:u.textContent,x=m.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=c;return Ze(()=>(v(x),()=>_(x)),[v,_,x]),h.jsxs(h.Fragment,{children:[h.jsx(te.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ti.createPortal(i.children,o.valueNode):null]})});Qb.displayName=ra;var Yb="SelectItemIndicator",Xb=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Kb(Yb,n).isSelected?h.jsx(te.span,{"aria-hidden":!0,...r,ref:e}):null});Xb.displayName=Yb;var hp="SelectScrollUpButton",Jb=m.forwardRef((t,e)=>{const n=ps(hp,t.__scopeSelect),r=Mg(hp,t.__scopeSelect),[s,i]=m.useState(!1),o=xe(e,r.onScrollButtonChange);return Ze(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(eT,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});Jb.displayName=hp;var pp="SelectScrollDownButton",Zb=m.forwardRef((t,e)=>{const n=ps(pp,t.__scopeSelect),r=Mg(pp,t.__scopeSelect),[s,i]=m.useState(!1),o=xe(e,r.onScrollButtonChange);return Ze(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(eT,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});Zb.displayName=pp;var eT=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ps("SelectScrollButton",n),o=m.useRef(null),a=bd(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Ze(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),h.jsx(te.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:V(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:V(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:V(s.onPointerLeave,()=>{l()})})}),$6="SelectSeparator",tT=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(te.div,{"aria-hidden":!0,...r,ref:e})});tT.displayName=$6;var mp="SelectArrow",z6=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Td(n),i=hs(mp,n),o=ps(mp,n);return i.open&&o.position==="popper"?h.jsx(BE,{...s,...r,ref:e}):null});z6.displayName=mp;var B6="SelectBubbleInput",nT=m.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=m.useRef(null),i=xe(r,s),o=E6(e);return m.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const d=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(d)}},[o,e]),h.jsx(te.select,{...n,style:{...Ax,...n.style},ref:i,defaultValue:e})});nT.displayName=B6;function rT(t){return t===""||t===void 0}function sT(t){const e=Kt(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function iT(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=W6(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function W6(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var V6=Ab,oT=Db,H6=Lb,G6=jb,K6=Fb,aT=Ub,q6=Wb,lT=Gb,cT=qb,Q6=Qb,Y6=Xb,uT=Jb,dT=Zb,fT=tT;const X6=V6,J6=H6,hT=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(oT,{ref:r,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(G6,{asChild:!0,children:h.jsx(nE,{className:"h-4 w-4 opacity-50"})})]}));hT.displayName=oT.displayName;const pT=m.forwardRef(({className:t,...e},n)=>h.jsx(uT,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(ZP,{className:"h-4 w-4"})}));pT.displayName=uT.displayName;const mT=m.forwardRef(({className:t,...e},n)=>h.jsx(dT,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(nE,{className:"h-4 w-4"})}));mT.displayName=dT.displayName;const gT=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>h.jsx(K6,{children:h.jsxs(aT,{ref:s,className:oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(pT,{}),h.jsx(q6,{className:oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(mT,{})]})}));gT.displayName=aT.displayName;const Z6=m.forwardRef(({className:t,...e},n)=>h.jsx(lT,{ref:n,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Z6.displayName=lT.displayName;const vT=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(cT,{ref:r,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(Y6,{children:h.jsx(tE,{className:"h-4 w-4"})})}),h.jsx(Q6,{children:e})]}));vT.displayName=cT.displayName;const e5=m.forwardRef(({className:t,...e},n)=>h.jsx(fT,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",t),...e}));e5.displayName=fT.displayName;const t5=()=>{const[t,e]=m.useState([]),[n,r]=m.useState([]),[s,i]=m.useState(!0),[o,a]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState({title:"",category:"Electronics",description:"",originalPrice:"",offerPrice:"",images:"",colorVariants:"",quantity:""});m.useEffect(()=>{f()},[]);const f=async()=>{try{const[g,y]=await Promise.all([Qs(Et(Ct,"products")),Qs(Et(Ct,"categories"))]);if(g.exists()){const w=JSON.parse(g.val()),E=Object.entries(w).map(([C,S])=>({id:C,...S}));e(E)}if(y.exists()){const w=JSON.parse(y.val()),E=Object.entries(w).map(([C,S])=>({id:C,...S}));r(E.sort((C,S)=>C.name.localeCompare(S.name)))}}catch(g){console.error("Error fetching data:",g),Ue.error("Failed to load data")}finally{i(!1)}},p=async g=>{g.preventDefault();try{const y={title:u.title,category:u.category,description:u.description,originalPrice:parseFloat(u.originalPrice),offerPrice:parseFloat(u.offerPrice),images:u.images.split(",").map(S=>S.trim()),colorVariants:u.colorVariants?u.colorVariants.split(",").map(S=>S.trim()):void 0,quantity:parseInt(u.quantity),createdAt:Date.now()},w=(l==null?void 0:l.id)||Date.now().toString(),E=l?t.map(S=>S.id===w?{...y,id:w}:S):[...t,{...y,id:w}],C=E.reduce((S,b)=>(S[b.id]={...b},delete S[b.id].id,S),{});await Ls(Et(Ct,"products"),JSON.stringify(C)),Ue.success(l?"Product updated!":"Product added!"),e(E),_(),a(!1)}catch(y){console.error("Error saving product:",y),Ue.error("Failed to save product")}},x=async g=>{if(confirm("Are you sure you want to delete this product?"))try{const y=t.filter(E=>E.id!==g),w=y.reduce((E,C)=>(E[C.id]={...C},delete E[C.id].id,E),{});await Ls(Et(Ct,"products"),JSON.stringify(w)),Ue.success("Product deleted!"),e(y)}catch(y){console.error("Error deleting product:",y),Ue.error("Failed to delete product")}},v=g=>{var y;c(g),d({title:g.title,category:g.category,description:g.description||"",originalPrice:g.originalPrice.toString(),offerPrice:g.offerPrice.toString(),images:g.images.join(", "),colorVariants:((y=g.colorVariants)==null?void 0:y.join(", "))||"",quantity:g.quantity.toString()}),a(!0)},_=()=>{d({title:"",category:"Electronics",description:"",originalPrice:"",offerPrice:"",images:"",colorVariants:"",quantity:""}),c(null)};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-2xl font-bold",children:"Products"}),h.jsxs(Ag,{open:o,onOpenChange:g=>{a(g),g||_()},children:[h.jsx(lb,{asChild:!0,children:h.jsxs(ve,{children:[h.jsx(Ku,{className:"mr-2 h-4 w-4"}),"Add Product"]})}),h.jsxs(wd,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[h.jsx(xd,{children:h.jsx(Ed,{children:l?"Edit Product":"Add New Product"})}),h.jsxs("form",{onSubmit:p,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"title",children:"Product Title *"}),h.jsx(cn,{id:"title",value:u.title,onChange:g=>d({...u,title:g.target.value}),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"category",children:"Category *"}),n.length===0?h.jsx("p",{className:"text-sm text-muted-foreground border rounded-md p-3",children:"No categories available. Please add categories first in the Categories tab."}):h.jsxs(X6,{value:u.category,onValueChange:g=>d({...u,category:g}),children:[h.jsx(hT,{children:h.jsx(J6,{placeholder:"Select a category"})}),h.jsx(gT,{children:n.map(g=>h.jsx(vT,{value:g.name,children:g.name},g.id))})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"description",children:"Description"}),h.jsx(up,{id:"description",value:u.description,onChange:g=>d({...u,description:g.target.value}),rows:3})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"originalPrice",children:"Original Price *"}),h.jsx(cn,{id:"originalPrice",type:"number",value:u.originalPrice,onChange:g=>d({...u,originalPrice:g.target.value}),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"offerPrice",children:"Offer Price *"}),h.jsx(cn,{id:"offerPrice",type:"number",value:u.offerPrice,onChange:g=>d({...u,offerPrice:g.target.value}),required:!0})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"images",children:"Image URLs (comma separated) *"}),h.jsx(up,{id:"images",value:u.images,onChange:g=>d({...u,images:g.target.value}),placeholder:"https://example.com/image1.jpg, https://example.com/image2.jpg",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"colorVariants",children:"Color Variants (comma separated, optional)"}),h.jsx(cn,{id:"colorVariants",value:u.colorVariants,onChange:g=>d({...u,colorVariants:g.target.value}),placeholder:"Red, Blue, Green"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"quantity",children:"Available Quantity *"}),h.jsx(cn,{id:"quantity",type:"number",value:u.quantity,onChange:g=>d({...u,quantity:g.target.value}),required:!0})]}),h.jsx(ve,{type:"submit",className:"w-full",disabled:n.length===0,children:l?"Update Product":"Add Product"}),n.length===0&&h.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Add categories first to create products"})]})]})]})]}),s?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"Loading products..."})]}):t.length===0?h.jsx(wn,{children:h.jsx(xn,{className:"py-12 text-center",children:h.jsx("p",{className:"text-muted-foreground",children:"No products yet. Add your first product!"})})}):h.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(g=>h.jsxs(wn,{children:[h.jsxs(El,{children:[h.jsx("img",{src:g.images[0],alt:g.title,className:"w-full h-48 object-cover rounded-lg mb-2"}),h.jsx(Cl,{className:"line-clamp-2",children:g.title}),h.jsx(Xn,{variant:"outline",className:"w-fit",children:g.category})]}),h.jsxs(xn,{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsxs("span",{className:"text-xl font-bold text-primary",children:["₹",g.offerPrice]}),g.originalPrice>g.offerPrice&&h.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["₹",g.originalPrice]})]}),h.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Stock: ",g.quantity," units"]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(ve,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>v(g),children:[h.jsx(rk,{className:"mr-2 h-4 w-4"}),"Edit"]}),h.jsx(ve,{variant:"destructive",size:"sm",onClick:()=>x(g.id),children:h.jsx(mm,{className:"h-4 w-4"})})]})]})]},g.id))})]})},n5=()=>{const[t,e]=m.useState([]),[n,r]=m.useState([]),[s,i]=m.useState(!0);m.useEffect(()=>{o()},[]);const o=async()=>{try{const[l,c]=await Promise.all([Qs(Et(Ct,"orders")),Qs(Et(Ct,"products"))]);if(l.exists()){const u=JSON.parse(l.val()),d=Object.entries(u).map(([f,p])=>({id:f,...p}));e(d)}if(c.exists()){const u=JSON.parse(c.val()),d=Object.entries(u).map(([f,p])=>({id:f,...p}));r(d)}}catch(l){console.error("Error fetching data:",l),Ue.error("Failed to load orders")}finally{i(!1)}},a=async l=>{if(confirm("Mark this order as delivered?"))try{const c=[...n];l.items.forEach(p=>{const x=c.findIndex(v=>v.id===p.id);x!==-1&&(c[x].quantity-=p.cartQuantity)});const u=t.filter(p=>p.id!==l.id),d=u.reduce((p,x)=>(p[x.id]={...x},delete p[x.id].id,p),{}),f=c.reduce((p,x)=>(p[x.id]={...x},delete p[x.id].id,p),{});await Promise.all([Ls(Et(Ct,"orders"),JSON.stringify(d)),Ls(Et(Ct,"products"),JSON.stringify(f))]),e(u),r(c),Ue.success("Order marked as delivered!")}catch(c){console.error("Error updating order:",c),Ue.error("Failed to update order")}};return s?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"Loading orders..."})]}):t.length===0?h.jsx(wn,{children:h.jsxs(xn,{className:"py-12 text-center",children:[h.jsx(iE,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"No pending orders"})]})}):h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-2xl font-bold",children:"Pending Orders"}),t.map(l=>h.jsxs(wn,{children:[h.jsx(El,{children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx(Cl,{className:"mb-2",children:l.customerName}),h.jsx(Xn,{variant:"outline",children:new Date(l.timestamp).toLocaleString()})]}),h.jsxs(Xn,{className:"bg-secondary",children:["₹",l.totalAmount]})]})}),h.jsxs(xn,{children:[h.jsx("div",{className:"space-y-3 mb-4",children:l.items.map((c,u)=>h.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[h.jsxs("div",{className:"flex gap-3",children:[h.jsx("img",{src:c.images[0],alt:c.title,className:"h-16 w-16 rounded object-cover"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium",children:c.title}),c.selectedColor&&h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Color: ",c.selectedColor]}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Qty: ",c.cartQuantity]})]})]}),h.jsxs("p",{className:"font-semibold",children:["₹",c.offerPrice*c.cartQuantity]})]},u))}),h.jsxs(ve,{onClick:()=>a(l),className:"w-full",children:[h.jsx(tE,{className:"mr-2 h-4 w-4"}),"Mark as Delivered"]})]})]},l.id))]})},r5=()=>{const{user:t,loading:e}=bg();return e?h.jsx("div",{className:"flex min-h-screen items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):t?h.jsxs("div",{className:"container py-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Admin Dashboard"}),h.jsx("p",{className:"text-muted-foreground",children:"Manage your products and orders"})]}),h.jsxs(w6,{defaultValue:"categories",className:"space-y-6",children:[h.jsxs(Rb,{className:"grid w-full max-w-2xl grid-cols-3",children:[h.jsxs(Sc,{value:"categories",className:"flex items-center gap-2",children:[h.jsx(rE,{className:"h-4 w-4"}),"Categories"]}),h.jsxs(Sc,{value:"products",className:"flex items-center gap-2",children:[h.jsx(iE,{className:"h-4 w-4"}),"Products"]}),h.jsxs(Sc,{value:"orders",className:"flex items-center gap-2",children:[h.jsx(oE,{className:"h-4 w-4"}),"Orders"]})]}),h.jsx(bc,{value:"categories",className:"space-y-4",children:h.jsx(x6,{})}),h.jsx(bc,{value:"products",className:"space-y-4",children:h.jsx(t5,{})}),h.jsx(bc,{value:"orders",className:"space-y-4",children:h.jsx(n5,{})})]})]}):h.jsx(_D,{to:"/admin/login",replace:!0})},s5=()=>{const t=si();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),h.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),h.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),h.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},i5=new PO,o5=()=>h.jsx(RO,{client:i5,children:h.jsx(iO,{children:h.jsx($3,{children:h.jsxs(z3,{children:[h.jsx(zk,{}),h.jsx(_R,{}),h.jsxs(ND,{children:[h.jsx(V3,{}),h.jsxs(xD,{children:[h.jsx(gi,{path:"/",element:h.jsx(ZU,{})}),h.jsx(gi,{path:"/cart",element:h.jsx(n6,{})}),h.jsx(gi,{path:"/admin/login",element:h.jsx(r6,{})}),h.jsx(gi,{path:"/admin",element:h.jsx(r5,{})}),h.jsx(gi,{path:"*",element:h.jsx(s5,{})})]})]})]})})})});bx(document.getElementById("root")).render(h.jsx(o5,{}));
