var Wg=t=>{throw TypeError(t)};var Rd=(t,e,n)=>e.has(t)||Wg("Cannot "+n);var N=(t,e,n)=>(Rd(t,e,"read from private field"),n?n.call(t):e.get(t)),ue=(t,e,n)=>e.has(t)?Wg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),J=(t,e,n,r)=>(Rd(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),nt=(t,e,n)=>(Rd(t,e,"access private method"),n);var Il=(t,e,n,r)=>({set _(s){J(t,e,s,n)},get _(){return N(t,e,r)}});function kT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function dw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fw={exports:{}},Pu={},hw={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=Symbol.for("react.element"),RT=Symbol.for("react.portal"),AT=Symbol.for("react.fragment"),OT=Symbol.for("react.strict_mode"),DT=Symbol.for("react.profiler"),MT=Symbol.for("react.provider"),LT=Symbol.for("react.context"),jT=Symbol.for("react.forward_ref"),FT=Symbol.for("react.suspense"),UT=Symbol.for("react.memo"),$T=Symbol.for("react.lazy"),Vg=Symbol.iterator;function zT(t){return t===null||typeof t!="object"?null:(t=Vg&&t[Vg]||t["@@iterator"],typeof t=="function"?t:null)}var pw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mw=Object.assign,gw={};function yo(t,e,n){this.props=t,this.context=e,this.refs=gw,this.updater=n||pw}yo.prototype.isReactComponent={};yo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vw(){}vw.prototype=yo.prototype;function vp(t,e,n){this.props=t,this.context=e,this.refs=gw,this.updater=n||pw}var yp=vp.prototype=new vw;yp.constructor=vp;mw(yp,yo.prototype);yp.isPureReactComponent=!0;var Hg=Array.isArray,yw=Object.prototype.hasOwnProperty,_p={current:null},_w={key:!0,ref:!0,__self:!0,__source:!0};function ww(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)yw.call(e,r)&&!_w.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:il,type:t,key:i,ref:o,props:s,_owner:_p.current}}function BT(t,e){return{$$typeof:il,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wp(t){return typeof t=="object"&&t!==null&&t.$$typeof===il}function WT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gg=/\/+/g;function Ad(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WT(""+t.key):e.toString(36)}function rc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case il:case RT:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ad(o,0):r,Hg(s)?(n="",t!=null&&(n=t.replace(Gg,"$&/")+"/"),rc(s,e,n,"",function(c){return c})):s!=null&&(wp(s)&&(s=BT(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Gg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Hg(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ad(i,a);o+=rc(i,e,n,l,s)}else if(l=zT(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ad(i,a++),o+=rc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Nl(t,e,n){if(t==null)return t;var r=[],s=0;return rc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function VT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mt={current:null},sc={transition:null},HT={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:sc,ReactCurrentOwner:_p};function xw(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Nl,forEach:function(t,e,n){Nl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nl(t,function(){e++}),e},toArray:function(t){return Nl(t,function(e){return e})||[]},only:function(t){if(!wp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=yo;se.Fragment=AT;se.Profiler=DT;se.PureComponent=vp;se.StrictMode=OT;se.Suspense=FT;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HT;se.act=xw;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=_p.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)yw.call(e,l)&&!_w.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:il,type:t.type,key:s,ref:i,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:LT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MT,_context:t},t.Consumer=t};se.createElement=ww;se.createFactory=function(t){var e=ww.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:jT,render:t}};se.isValidElement=wp;se.lazy=function(t){return{$$typeof:$T,_payload:{_status:-1,_result:t},_init:VT}};se.memo=function(t,e){return{$$typeof:UT,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=sc.transition;sc.transition={};try{t()}finally{sc.transition=e}};se.unstable_act=xw;se.useCallback=function(t,e){return mt.current.useCallback(t,e)};se.useContext=function(t){return mt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return mt.current.useDeferredValue(t)};se.useEffect=function(t,e){return mt.current.useEffect(t,e)};se.useId=function(){return mt.current.useId()};se.useImperativeHandle=function(t,e,n){return mt.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return mt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return mt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return mt.current.useMemo(t,e)};se.useReducer=function(t,e,n){return mt.current.useReducer(t,e,n)};se.useRef=function(t){return mt.current.useRef(t)};se.useState=function(t){return mt.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return mt.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return mt.current.useTransition()};se.version="18.3.1";hw.exports=se;var m=hw.exports;const O=dw(m),xp=kT({__proto__:null,default:O},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT=m,KT=Symbol.for("react.element"),qT=Symbol.for("react.fragment"),QT=Object.prototype.hasOwnProperty,YT=GT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XT={key:!0,ref:!0,__self:!0,__source:!0};function Ew(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)QT.call(e,r)&&!XT.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:KT,type:t,key:i,ref:o,props:s,_owner:YT.current}}Pu.Fragment=qT;Pu.jsx=Ew;Pu.jsxs=Ew;fw.exports=Pu;var h=fw.exports,Cw={exports:{}},Lt={},Sw={exports:{}},bw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,P){var j=I.length;I.push(P);e:for(;0<j;){var Q=j-1>>>1,B=I[Q];if(0<s(B,P))I[Q]=P,I[j]=B,j=Q;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var P=I[0],j=I.pop();if(j!==P){I[0]=j;e:for(var Q=0,B=I.length,Z=B>>>1;Q<Z;){var Y=2*(Q+1)-1,Ee=I[Y],Ae=Y+1,F=I[Ae];if(0>s(Ee,j))Ae<B&&0>s(F,Ee)?(I[Q]=F,I[Ae]=j,Q=Ae):(I[Q]=Ee,I[Y]=j,Q=Y);else if(Ae<B&&0>s(F,j))I[Q]=F,I[Ae]=j,Q=Ae;else break e}}return P}function s(I,P){var j=I.sortIndex-P.sortIndex;return j!==0?j:I.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,x=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=I)r(c),P.sortIndex=P.expirationTime,e(l,P);else break;P=n(c)}}function E(I){if(v=!1,w(I),!x)if(n(l)!==null)x=!0,U(C);else{var P=n(c);P!==null&&W(E,P.startTime-I)}}function C(I,P){x=!1,v&&(v=!1,g(T),T=-1),p=!0;var j=f;try{for(w(P),d=n(l);d!==null&&(!(d.expirationTime>P)||I&&!z());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,f=d.priorityLevel;var B=Q(d.expirationTime<=P);P=t.unstable_now(),typeof B=="function"?d.callback=B:d===n(l)&&r(l),w(P)}else r(l);d=n(l)}if(d!==null)var Z=!0;else{var Y=n(c);Y!==null&&W(E,Y.startTime-P),Z=!1}return Z}finally{d=null,f=j,p=!1}}var S=!1,b=null,T=-1,A=5,R=-1;function z(){return!(t.unstable_now()-R<A)}function L(){if(b!==null){var I=t.unstable_now();R=I;var P=!0;try{P=b(!0,I)}finally{P?H():(S=!1,b=null)}}else S=!1}var H;if(typeof y=="function")H=function(){y(L)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,q=M.port2;M.port1.onmessage=L,H=function(){q.postMessage(null)}}else H=function(){_(L,0)};function U(I){b=I,S||(S=!0,H())}function W(I,P){T=_(function(){I(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){x||p||(x=!0,U(C))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var j=f;f=P;try{return I()}finally{f=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,P){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var j=f;f=I;try{return P()}finally{f=j}},t.unstable_scheduleCallback=function(I,P,j){var Q=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Q+j:Q):j=Q,I){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=j+B,I={id:u++,callback:P,priorityLevel:I,startTime:j,expirationTime:B,sortIndex:-1},j>Q?(I.sortIndex=j,e(c,I),n(l)===null&&I===n(c)&&(v?(g(T),T=-1):v=!0,W(E,j-Q))):(I.sortIndex=B,e(l,I),x||p||(x=!0,U(C))),I},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(I){var P=f;return function(){var j=f;f=P;try{return I.apply(this,arguments)}finally{f=j}}}})(bw);Sw.exports=bw;var JT=Sw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT=m,Mt=JT;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tw=new Set,xa={};function Zs(t,e){eo(t,e),eo(t+"Capture",e)}function eo(t,e){for(xa[t]=e,t=0;t<e.length;t++)Tw.add(e[t])}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jf=Object.prototype.hasOwnProperty,eI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kg={},qg={};function tI(t){return jf.call(qg,t)?!0:jf.call(Kg,t)?!1:eI.test(t)?qg[t]=!0:(Kg[t]=!0,!1)}function nI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rI(t,e,n,r){if(e===null||typeof e>"u"||nI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ep=/[\-:]([a-z])/g;function Cp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ep,Cp);Je[e]=new gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ep,Cp);Je[e]=new gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ep,Cp);Je[e]=new gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new gt(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sp(t,e,n,r){var s=Je.hasOwnProperty(e)?Je[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rI(e,n,s,r)&&(n=null),r||s===null?tI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ar=ZT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pl=Symbol.for("react.element"),yi=Symbol.for("react.portal"),_i=Symbol.for("react.fragment"),bp=Symbol.for("react.strict_mode"),Ff=Symbol.for("react.profiler"),Iw=Symbol.for("react.provider"),Nw=Symbol.for("react.context"),Tp=Symbol.for("react.forward_ref"),Uf=Symbol.for("react.suspense"),$f=Symbol.for("react.suspense_list"),Ip=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),Pw=Symbol.for("react.offscreen"),Qg=Symbol.iterator;function jo(t){return t===null||typeof t!="object"?null:(t=Qg&&t[Qg]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,Od;function Xo(t){if(Od===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Od=e&&e[1]||""}return`
`+Od+t}var Dd=!1;function Md(t,e){if(!t||Dd)return"";Dd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Dd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xo(t):""}function sI(t){switch(t.tag){case 5:return Xo(t.type);case 16:return Xo("Lazy");case 13:return Xo("Suspense");case 19:return Xo("SuspenseList");case 0:case 2:case 15:return t=Md(t.type,!1),t;case 11:return t=Md(t.type.render,!1),t;case 1:return t=Md(t.type,!0),t;default:return""}}function zf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _i:return"Fragment";case yi:return"Portal";case Ff:return"Profiler";case bp:return"StrictMode";case Uf:return"Suspense";case $f:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nw:return(t.displayName||"Context")+".Consumer";case Iw:return(t._context.displayName||"Context")+".Provider";case Tp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ip:return e=t.displayName||null,e!==null?e:zf(t.type)||"Memo";case wr:e=t._payload,t=t._init;try{return zf(t(e))}catch{}}return null}function iI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zf(e);case 8:return e===bp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oI(t){var e=kw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kl(t){t._valueTracker||(t._valueTracker=oI(t))}function Rw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=kw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ic(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bf(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Aw(t,e){e=e.checked,e!=null&&Sp(t,"checked",e,!1)}function Wf(t,e){Aw(t,e);var n=Jr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Vf(t,e.type,Jr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Vf(t,e,n){(e!=="number"||Ic(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jo=Array.isArray;function Ai(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Hf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(Jo(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jr(n)}}function Ow(t,e){var n=Jr(e.value),r=Jr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Dw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Dw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rl,Mw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rl=Rl||document.createElement("div"),Rl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ea(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aI=["Webkit","ms","Moz","O"];Object.keys(sa).forEach(function(t){aI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sa[e]=sa[t]})});function Lw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sa.hasOwnProperty(t)&&sa[t]?(""+e).trim():e+"px"}function jw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Lw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var lI=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kf(t,e){if(e){if(lI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function qf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qf=null;function Np(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yf=null,Oi=null,Di=null;function ev(t){if(t=ll(t)){if(typeof Yf!="function")throw Error(k(280));var e=t.stateNode;e&&(e=Du(e),Yf(t.stateNode,t.type,e))}}function Fw(t){Oi?Di?Di.push(t):Di=[t]:Oi=t}function Uw(){if(Oi){var t=Oi,e=Di;if(Di=Oi=null,ev(t),e)for(t=0;t<e.length;t++)ev(e[t])}}function $w(t,e){return t(e)}function zw(){}var Ld=!1;function Bw(t,e,n){if(Ld)return t(e,n);Ld=!0;try{return $w(t,e,n)}finally{Ld=!1,(Oi!==null||Di!==null)&&(zw(),Uw())}}function Ca(t,e){var n=t.stateNode;if(n===null)return null;var r=Du(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var Xf=!1;if(Jn)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){Xf=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{Xf=!1}function cI(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ia=!1,Nc=null,Pc=!1,Jf=null,uI={onError:function(t){ia=!0,Nc=t}};function dI(t,e,n,r,s,i,o,a,l){ia=!1,Nc=null,cI.apply(uI,arguments)}function fI(t,e,n,r,s,i,o,a,l){if(dI.apply(this,arguments),ia){if(ia){var c=Nc;ia=!1,Nc=null}else throw Error(k(198));Pc||(Pc=!0,Jf=c)}}function ei(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ww(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tv(t){if(ei(t)!==t)throw Error(k(188))}function hI(t){var e=t.alternate;if(!e){if(e=ei(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return tv(s),t;if(i===r)return tv(s),e;i=i.sibling}throw Error(k(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function Vw(t){return t=hI(t),t!==null?Hw(t):null}function Hw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hw(t);if(e!==null)return e;t=t.sibling}return null}var Gw=Mt.unstable_scheduleCallback,nv=Mt.unstable_cancelCallback,pI=Mt.unstable_shouldYield,mI=Mt.unstable_requestPaint,je=Mt.unstable_now,gI=Mt.unstable_getCurrentPriorityLevel,Pp=Mt.unstable_ImmediatePriority,Kw=Mt.unstable_UserBlockingPriority,kc=Mt.unstable_NormalPriority,vI=Mt.unstable_LowPriority,qw=Mt.unstable_IdlePriority,ku=null,Rn=null;function yI(t){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(ku,t,void 0,(t.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:xI,_I=Math.log,wI=Math.LN2;function xI(t){return t>>>=0,t===0?32:31-(_I(t)/wI|0)|0}var Al=64,Ol=4194304;function Zo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Zo(a):(i&=o,i!==0&&(r=Zo(i)))}else o=n&~s,o!==0?r=Zo(o):i!==0&&(r=Zo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hn(e),s=1<<n,r|=t[n],e&=~s;return r}function EI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-hn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=EI(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Zf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qw(){var t=Al;return Al<<=1,!(Al&4194240)&&(Al=64),t}function jd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ol(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hn(e),t[e]=n}function SI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-hn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function kp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var pe=0;function Yw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xw,Rp,Jw,Zw,e0,eh=!1,Dl=[],Lr=null,jr=null,Fr=null,Sa=new Map,ba=new Map,Er=[],bI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rv(t,e){switch(t){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Sa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ba.delete(e.pointerId)}}function Uo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ll(e),e!==null&&Rp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function TI(t,e,n,r,s){switch(e){case"focusin":return Lr=Uo(Lr,t,e,n,r,s),!0;case"dragenter":return jr=Uo(jr,t,e,n,r,s),!0;case"mouseover":return Fr=Uo(Fr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Sa.set(i,Uo(Sa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ba.set(i,Uo(ba.get(i)||null,t,e,n,r,s)),!0}return!1}function t0(t){var e=Cs(t.target);if(e!==null){var n=ei(e);if(n!==null){if(e=n.tag,e===13){if(e=Ww(n),e!==null){t.blockedOn=e,e0(t.priority,function(){Jw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ic(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=th(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qf=r,n.target.dispatchEvent(r),Qf=null}else return e=ll(n),e!==null&&Rp(e),t.blockedOn=n,!1;e.shift()}return!0}function sv(t,e,n){ic(t)&&n.delete(e)}function II(){eh=!1,Lr!==null&&ic(Lr)&&(Lr=null),jr!==null&&ic(jr)&&(jr=null),Fr!==null&&ic(Fr)&&(Fr=null),Sa.forEach(sv),ba.forEach(sv)}function $o(t,e){t.blockedOn===e&&(t.blockedOn=null,eh||(eh=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,II)))}function Ta(t){function e(s){return $o(s,t)}if(0<Dl.length){$o(Dl[0],t);for(var n=1;n<Dl.length;n++){var r=Dl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Lr!==null&&$o(Lr,t),jr!==null&&$o(jr,t),Fr!==null&&$o(Fr,t),Sa.forEach(e),ba.forEach(e),n=0;n<Er.length;n++)r=Er[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Er.length&&(n=Er[0],n.blockedOn===null);)t0(n),n.blockedOn===null&&Er.shift()}var Mi=ar.ReactCurrentBatchConfig,Ac=!0;function NI(t,e,n,r){var s=pe,i=Mi.transition;Mi.transition=null;try{pe=1,Ap(t,e,n,r)}finally{pe=s,Mi.transition=i}}function PI(t,e,n,r){var s=pe,i=Mi.transition;Mi.transition=null;try{pe=4,Ap(t,e,n,r)}finally{pe=s,Mi.transition=i}}function Ap(t,e,n,r){if(Ac){var s=th(t,e,n,r);if(s===null)Kd(t,e,r,Oc,n),rv(t,r);else if(TI(s,t,e,n,r))r.stopPropagation();else if(rv(t,r),e&4&&-1<bI.indexOf(t)){for(;s!==null;){var i=ll(s);if(i!==null&&Xw(i),i=th(t,e,n,r),i===null&&Kd(t,e,r,Oc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Kd(t,e,r,null,n)}}var Oc=null;function th(t,e,n,r){if(Oc=null,t=Np(r),t=Cs(t),t!==null)if(e=ei(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ww(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oc=t,null}function n0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gI()){case Pp:return 1;case Kw:return 4;case kc:case vI:return 16;case qw:return 536870912;default:return 16}default:return 16}}var Or=null,Op=null,oc=null;function r0(){if(oc)return oc;var t,e=Op,n=e.length,r,s="value"in Or?Or.value:Or.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return oc=s.slice(t,1<r?1-r:void 0)}function ac(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ml(){return!0}function iv(){return!1}function jt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ml:iv,this.isPropagationStopped=iv,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),e}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dp=jt(_o),al=Re({},_o,{view:0,detail:0}),kI=jt(al),Fd,Ud,zo,Ru=Re({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zo&&(zo&&t.type==="mousemove"?(Fd=t.screenX-zo.screenX,Ud=t.screenY-zo.screenY):Ud=Fd=0,zo=t),Fd)},movementY:function(t){return"movementY"in t?t.movementY:Ud}}),ov=jt(Ru),RI=Re({},Ru,{dataTransfer:0}),AI=jt(RI),OI=Re({},al,{relatedTarget:0}),$d=jt(OI),DI=Re({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),MI=jt(DI),LI=Re({},_o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jI=jt(LI),FI=Re({},_o,{data:0}),av=jt(FI),UI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$I={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zI[t])?!!e[t]:!1}function Mp(){return BI}var WI=Re({},al,{key:function(t){if(t.key){var e=UI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ac(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$I[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mp,charCode:function(t){return t.type==="keypress"?ac(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ac(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VI=jt(WI),HI=Re({},Ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lv=jt(HI),GI=Re({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mp}),KI=jt(GI),qI=Re({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),QI=jt(qI),YI=Re({},Ru,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XI=jt(YI),JI=[9,13,27,32],Lp=Jn&&"CompositionEvent"in window,oa=null;Jn&&"documentMode"in document&&(oa=document.documentMode);var ZI=Jn&&"TextEvent"in window&&!oa,s0=Jn&&(!Lp||oa&&8<oa&&11>=oa),cv=" ",uv=!1;function i0(t,e){switch(t){case"keyup":return JI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wi=!1;function eN(t,e){switch(t){case"compositionend":return o0(e);case"keypress":return e.which!==32?null:(uv=!0,cv);case"textInput":return t=e.data,t===cv&&uv?null:t;default:return null}}function tN(t,e){if(wi)return t==="compositionend"||!Lp&&i0(t,e)?(t=r0(),oc=Op=Or=null,wi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return s0&&e.locale!=="ko"?null:e.data;default:return null}}var nN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nN[t.type]:e==="textarea"}function a0(t,e,n,r){Fw(r),e=Dc(e,"onChange"),0<e.length&&(n=new Dp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var aa=null,Ia=null;function rN(t){y0(t,0)}function Au(t){var e=Ci(t);if(Rw(e))return t}function sN(t,e){if(t==="change")return e}var l0=!1;if(Jn){var zd;if(Jn){var Bd="oninput"in document;if(!Bd){var fv=document.createElement("div");fv.setAttribute("oninput","return;"),Bd=typeof fv.oninput=="function"}zd=Bd}else zd=!1;l0=zd&&(!document.documentMode||9<document.documentMode)}function hv(){aa&&(aa.detachEvent("onpropertychange",c0),Ia=aa=null)}function c0(t){if(t.propertyName==="value"&&Au(Ia)){var e=[];a0(e,Ia,t,Np(t)),Bw(rN,e)}}function iN(t,e,n){t==="focusin"?(hv(),aa=e,Ia=n,aa.attachEvent("onpropertychange",c0)):t==="focusout"&&hv()}function oN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(Ia)}function aN(t,e){if(t==="click")return Au(e)}function lN(t,e){if(t==="input"||t==="change")return Au(e)}function cN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:cN;function Na(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!jf.call(e,s)||!gn(t[s],e[s]))return!1}return!0}function pv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mv(t,e){var n=pv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pv(n)}}function u0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function d0(){for(var t=window,e=Ic();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ic(t.document)}return e}function jp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uN(t){var e=d0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&u0(n.ownerDocument.documentElement,n)){if(r!==null&&jp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=mv(n,i);var o=mv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dN=Jn&&"documentMode"in document&&11>=document.documentMode,xi=null,nh=null,la=null,rh=!1;function gv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rh||xi==null||xi!==Ic(r)||(r=xi,"selectionStart"in r&&jp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),la&&Na(la,r)||(la=r,r=Dc(nh,"onSelect"),0<r.length&&(e=new Dp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xi)))}function Ll(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ei={animationend:Ll("Animation","AnimationEnd"),animationiteration:Ll("Animation","AnimationIteration"),animationstart:Ll("Animation","AnimationStart"),transitionend:Ll("Transition","TransitionEnd")},Wd={},f0={};Jn&&(f0=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);function Ou(t){if(Wd[t])return Wd[t];if(!Ei[t])return t;var e=Ei[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in f0)return Wd[t]=e[n];return t}var h0=Ou("animationend"),p0=Ou("animationiteration"),m0=Ou("animationstart"),g0=Ou("transitionend"),v0=new Map,vv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(t,e){v0.set(t,e),Zs(e,[t])}for(var Vd=0;Vd<vv.length;Vd++){var Hd=vv[Vd],fN=Hd.toLowerCase(),hN=Hd[0].toUpperCase()+Hd.slice(1);is(fN,"on"+hN)}is(h0,"onAnimationEnd");is(p0,"onAnimationIteration");is(m0,"onAnimationStart");is("dblclick","onDoubleClick");is("focusin","onFocus");is("focusout","onBlur");is(g0,"onTransitionEnd");eo("onMouseEnter",["mouseout","mouseover"]);eo("onMouseLeave",["mouseout","mouseover"]);eo("onPointerEnter",["pointerout","pointerover"]);eo("onPointerLeave",["pointerout","pointerover"]);Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function yv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fI(r,e,void 0,t),t.currentTarget=null}function y0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;yv(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;yv(s,a,c),i=l}}}if(Pc)throw t=Jf,Pc=!1,Jf=null,t}function Se(t,e){var n=e[lh];n===void 0&&(n=e[lh]=new Set);var r=t+"__bubble";n.has(r)||(_0(e,t,2,!1),n.add(r))}function Gd(t,e,n){var r=0;e&&(r|=4),_0(n,t,r,e)}var jl="_reactListening"+Math.random().toString(36).slice(2);function Pa(t){if(!t[jl]){t[jl]=!0,Tw.forEach(function(n){n!=="selectionchange"&&(pN.has(n)||Gd(n,!1,t),Gd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jl]||(e[jl]=!0,Gd("selectionchange",!1,e))}}function _0(t,e,n,r){switch(n0(e)){case 1:var s=NI;break;case 4:s=PI;break;default:s=Ap}n=s.bind(null,e,n,t),s=void 0,!Xf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Kd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Cs(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Bw(function(){var c=i,u=Np(n),d=[];e:{var f=v0.get(t);if(f!==void 0){var p=Dp,x=t;switch(t){case"keypress":if(ac(n)===0)break e;case"keydown":case"keyup":p=VI;break;case"focusin":x="focus",p=$d;break;case"focusout":x="blur",p=$d;break;case"beforeblur":case"afterblur":p=$d;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ov;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=AI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=KI;break;case h0:case p0:case m0:p=MI;break;case g0:p=QI;break;case"scroll":p=kI;break;case"wheel":p=XI;break;case"copy":case"cut":case"paste":p=jI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=lv}var v=(e&4)!==0,_=!v&&t==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var y=c,w;y!==null;){w=y;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,g!==null&&(E=Ca(y,g),E!=null&&v.push(ka(y,E,w)))),_)break;y=y.return}0<v.length&&(f=new p(f,x,null,n,u),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Qf&&(x=n.relatedTarget||n.fromElement)&&(Cs(x)||x[Zn]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=c,x=x?Cs(x):null,x!==null&&(_=ei(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=c),p!==x)){if(v=ov,E="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=lv,E="onPointerLeave",g="onPointerEnter",y="pointer"),_=p==null?f:Ci(p),w=x==null?f:Ci(x),f=new v(E,y+"leave",p,n,u),f.target=_,f.relatedTarget=w,E=null,Cs(u)===c&&(v=new v(g,y+"enter",x,n,u),v.target=w,v.relatedTarget=_,E=v),_=E,p&&x)t:{for(v=p,g=x,y=0,w=v;w;w=di(w))y++;for(w=0,E=g;E;E=di(E))w++;for(;0<y-w;)v=di(v),y--;for(;0<w-y;)g=di(g),w--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=di(v),g=di(g)}v=null}else v=null;p!==null&&_v(d,f,p,v,!1),x!==null&&_!==null&&_v(d,_,x,v,!0)}}e:{if(f=c?Ci(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=sN;else if(dv(f))if(l0)C=lN;else{C=oN;var S=iN}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=aN);if(C&&(C=C(t,c))){a0(d,C,n,u);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Vf(f,"number",f.value)}switch(S=c?Ci(c):window,t){case"focusin":(dv(S)||S.contentEditable==="true")&&(xi=S,nh=c,la=null);break;case"focusout":la=nh=xi=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,gv(d,n,u);break;case"selectionchange":if(dN)break;case"keydown":case"keyup":gv(d,n,u)}var b;if(Lp)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else wi?i0(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(s0&&n.locale!=="ko"&&(wi||T!=="onCompositionStart"?T==="onCompositionEnd"&&wi&&(b=r0()):(Or=u,Op="value"in Or?Or.value:Or.textContent,wi=!0)),S=Dc(c,T),0<S.length&&(T=new av(T,t,null,n,u),d.push({event:T,listeners:S}),b?T.data=b:(b=o0(n),b!==null&&(T.data=b)))),(b=ZI?eN(t,n):tN(t,n))&&(c=Dc(c,"onBeforeInput"),0<c.length&&(u=new av("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=b))}y0(d,e)})}function ka(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ca(t,n),i!=null&&r.unshift(ka(t,i,s)),i=Ca(t,e),i!=null&&r.push(ka(t,i,s))),t=t.return}return r}function di(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _v(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ca(n,i),l!=null&&o.unshift(ka(n,l,a))):s||(l=Ca(n,i),l!=null&&o.push(ka(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var mN=/\r\n?/g,gN=/\u0000|\uFFFD/g;function wv(t){return(typeof t=="string"?t:""+t).replace(mN,`
`).replace(gN,"")}function Fl(t,e,n){if(e=wv(e),wv(t)!==e&&n)throw Error(k(425))}function Mc(){}var sh=null,ih=null;function oh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ah=typeof setTimeout=="function"?setTimeout:void 0,vN=typeof clearTimeout=="function"?clearTimeout:void 0,xv=typeof Promise=="function"?Promise:void 0,yN=typeof queueMicrotask=="function"?queueMicrotask:typeof xv<"u"?function(t){return xv.resolve(null).then(t).catch(_N)}:ah;function _N(t){setTimeout(function(){throw t})}function qd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ta(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ta(e)}function Ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ev(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wo=Math.random().toString(36).slice(2),Nn="__reactFiber$"+wo,Ra="__reactProps$"+wo,Zn="__reactContainer$"+wo,lh="__reactEvents$"+wo,wN="__reactListeners$"+wo,xN="__reactHandles$"+wo;function Cs(t){var e=t[Nn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zn]||n[Nn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ev(t);t!==null;){if(n=t[Nn])return n;t=Ev(t)}return e}t=n,n=t.parentNode}return null}function ll(t){return t=t[Nn]||t[Zn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ci(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function Du(t){return t[Ra]||null}var ch=[],Si=-1;function os(t){return{current:t}}function Te(t){0>Si||(t.current=ch[Si],ch[Si]=null,Si--)}function we(t,e){Si++,ch[Si]=t.current,t.current=e}var Zr={},lt=os(Zr),St=os(!1),js=Zr;function to(t,e){var n=t.type.contextTypes;if(!n)return Zr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function bt(t){return t=t.childContextTypes,t!=null}function Lc(){Te(St),Te(lt)}function Cv(t,e,n){if(lt.current!==Zr)throw Error(k(168));we(lt,e),we(St,n)}function w0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(k(108,iI(t)||"Unknown",s));return Re({},n,r)}function jc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zr,js=lt.current,we(lt,t),we(St,St.current),!0}function Sv(t,e,n){var r=t.stateNode;if(!r)throw Error(k(169));n?(t=w0(t,e,js),r.__reactInternalMemoizedMergedChildContext=t,Te(St),Te(lt),we(lt,t)):Te(St),we(St,n)}var Bn=null,Mu=!1,Qd=!1;function x0(t){Bn===null?Bn=[t]:Bn.push(t)}function EN(t){Mu=!0,x0(t)}function as(){if(!Qd&&Bn!==null){Qd=!0;var t=0,e=pe;try{var n=Bn;for(pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bn=null,Mu=!1}catch(s){throw Bn!==null&&(Bn=Bn.slice(t+1)),Gw(Pp,as),s}finally{pe=e,Qd=!1}}return null}var bi=[],Ti=0,Fc=null,Uc=0,zt=[],Bt=0,Fs=null,Vn=1,Hn="";function _s(t,e){bi[Ti++]=Uc,bi[Ti++]=Fc,Fc=t,Uc=e}function E0(t,e,n){zt[Bt++]=Vn,zt[Bt++]=Hn,zt[Bt++]=Fs,Fs=t;var r=Vn;t=Hn;var s=32-hn(r)-1;r&=~(1<<s),n+=1;var i=32-hn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Vn=1<<32-hn(e)+s|n<<s|r,Hn=i+t}else Vn=1<<i|n<<s|r,Hn=t}function Fp(t){t.return!==null&&(_s(t,1),E0(t,1,0))}function Up(t){for(;t===Fc;)Fc=bi[--Ti],bi[Ti]=null,Uc=bi[--Ti],bi[Ti]=null;for(;t===Fs;)Fs=zt[--Bt],zt[Bt]=null,Hn=zt[--Bt],zt[Bt]=null,Vn=zt[--Bt],zt[Bt]=null}var Ot=null,At=null,Ne=!1,on=null;function C0(t,e){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ot=t,At=Ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ot=t,At=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fs!==null?{id:Vn,overflow:Hn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ot=t,At=null,!0):!1;default:return!1}}function uh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dh(t){if(Ne){var e=At;if(e){var n=e;if(!bv(t,e)){if(uh(t))throw Error(k(418));e=Ur(n.nextSibling);var r=Ot;e&&bv(t,e)?C0(r,n):(t.flags=t.flags&-4097|2,Ne=!1,Ot=t)}}else{if(uh(t))throw Error(k(418));t.flags=t.flags&-4097|2,Ne=!1,Ot=t}}}function Tv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ot=t}function Ul(t){if(t!==Ot)return!1;if(!Ne)return Tv(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!oh(t.type,t.memoizedProps)),e&&(e=At)){if(uh(t))throw S0(),Error(k(418));for(;e;)C0(t,e),e=Ur(e.nextSibling)}if(Tv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){At=Ur(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}At=null}}else At=Ot?Ur(t.stateNode.nextSibling):null;return!0}function S0(){for(var t=At;t;)t=Ur(t.nextSibling)}function no(){At=Ot=null,Ne=!1}function $p(t){on===null?on=[t]:on.push(t)}var CN=ar.ReactCurrentBatchConfig;function Bo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function $l(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Iv(t){var e=t._init;return e(t._payload)}function b0(t){function e(g,y){if(t){var w=g.deletions;w===null?(g.deletions=[y],g.flags|=16):w.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=Wr(g,y),g.index=0,g.sibling=null,g}function i(g,y,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<y?(g.flags|=2,y):w):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,w,E){return y===null||y.tag!==6?(y=nf(w,g.mode,E),y.return=g,y):(y=s(y,w),y.return=g,y)}function l(g,y,w,E){var C=w.type;return C===_i?u(g,y,w.props.children,E,w.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===wr&&Iv(C)===y.type)?(E=s(y,w.props),E.ref=Bo(g,y,w),E.return=g,E):(E=pc(w.type,w.key,w.props,null,g.mode,E),E.ref=Bo(g,y,w),E.return=g,E)}function c(g,y,w,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=rf(w,g.mode,E),y.return=g,y):(y=s(y,w.children||[]),y.return=g,y)}function u(g,y,w,E,C){return y===null||y.tag!==7?(y=Ms(w,g.mode,E,C),y.return=g,y):(y=s(y,w),y.return=g,y)}function d(g,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=nf(""+y,g.mode,w),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pl:return w=pc(y.type,y.key,y.props,null,g.mode,w),w.ref=Bo(g,null,y),w.return=g,w;case yi:return y=rf(y,g.mode,w),y.return=g,y;case wr:var E=y._init;return d(g,E(y._payload),w)}if(Jo(y)||jo(y))return y=Ms(y,g.mode,w,null),y.return=g,y;$l(g,y)}return null}function f(g,y,w,E){var C=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(g,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pl:return w.key===C?l(g,y,w,E):null;case yi:return w.key===C?c(g,y,w,E):null;case wr:return C=w._init,f(g,y,C(w._payload),E)}if(Jo(w)||jo(w))return C!==null?null:u(g,y,w,E,null);$l(g,w)}return null}function p(g,y,w,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(w)||null,a(y,g,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pl:return g=g.get(E.key===null?w:E.key)||null,l(y,g,E,C);case yi:return g=g.get(E.key===null?w:E.key)||null,c(y,g,E,C);case wr:var S=E._init;return p(g,y,w,S(E._payload),C)}if(Jo(E)||jo(E))return g=g.get(w)||null,u(y,g,E,C,null);$l(y,E)}return null}function x(g,y,w,E){for(var C=null,S=null,b=y,T=y=0,A=null;b!==null&&T<w.length;T++){b.index>T?(A=b,b=null):A=b.sibling;var R=f(g,b,w[T],E);if(R===null){b===null&&(b=A);break}t&&b&&R.alternate===null&&e(g,b),y=i(R,y,T),S===null?C=R:S.sibling=R,S=R,b=A}if(T===w.length)return n(g,b),Ne&&_s(g,T),C;if(b===null){for(;T<w.length;T++)b=d(g,w[T],E),b!==null&&(y=i(b,y,T),S===null?C=b:S.sibling=b,S=b);return Ne&&_s(g,T),C}for(b=r(g,b);T<w.length;T++)A=p(b,g,T,w[T],E),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?T:A.key),y=i(A,y,T),S===null?C=A:S.sibling=A,S=A);return t&&b.forEach(function(z){return e(g,z)}),Ne&&_s(g,T),C}function v(g,y,w,E){var C=jo(w);if(typeof C!="function")throw Error(k(150));if(w=C.call(w),w==null)throw Error(k(151));for(var S=C=null,b=y,T=y=0,A=null,R=w.next();b!==null&&!R.done;T++,R=w.next()){b.index>T?(A=b,b=null):A=b.sibling;var z=f(g,b,R.value,E);if(z===null){b===null&&(b=A);break}t&&b&&z.alternate===null&&e(g,b),y=i(z,y,T),S===null?C=z:S.sibling=z,S=z,b=A}if(R.done)return n(g,b),Ne&&_s(g,T),C;if(b===null){for(;!R.done;T++,R=w.next())R=d(g,R.value,E),R!==null&&(y=i(R,y,T),S===null?C=R:S.sibling=R,S=R);return Ne&&_s(g,T),C}for(b=r(g,b);!R.done;T++,R=w.next())R=p(b,g,T,R.value,E),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?T:R.key),y=i(R,y,T),S===null?C=R:S.sibling=R,S=R);return t&&b.forEach(function(L){return e(g,L)}),Ne&&_s(g,T),C}function _(g,y,w,E){if(typeof w=="object"&&w!==null&&w.type===_i&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Pl:e:{for(var C=w.key,S=y;S!==null;){if(S.key===C){if(C=w.type,C===_i){if(S.tag===7){n(g,S.sibling),y=s(S,w.props.children),y.return=g,g=y;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===wr&&Iv(C)===S.type){n(g,S.sibling),y=s(S,w.props),y.ref=Bo(g,S,w),y.return=g,g=y;break e}n(g,S);break}else e(g,S);S=S.sibling}w.type===_i?(y=Ms(w.props.children,g.mode,E,w.key),y.return=g,g=y):(E=pc(w.type,w.key,w.props,null,g.mode,E),E.ref=Bo(g,y,w),E.return=g,g=E)}return o(g);case yi:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(g,y.sibling),y=s(y,w.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=rf(w,g.mode,E),y.return=g,g=y}return o(g);case wr:return S=w._init,_(g,y,S(w._payload),E)}if(Jo(w))return x(g,y,w,E);if(jo(w))return v(g,y,w,E);$l(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(g,y.sibling),y=s(y,w),y.return=g,g=y):(n(g,y),y=nf(w,g.mode,E),y.return=g,g=y),o(g)):n(g,y)}return _}var ro=b0(!0),T0=b0(!1),$c=os(null),zc=null,Ii=null,zp=null;function Bp(){zp=Ii=zc=null}function Wp(t){var e=$c.current;Te($c),t._currentValue=e}function fh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Li(t,e){zc=t,zp=Ii=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wt=!0),t.firstContext=null)}function Ht(t){var e=t._currentValue;if(zp!==t)if(t={context:t,memoizedValue:e,next:null},Ii===null){if(zc===null)throw Error(k(308));Ii=t,zc.dependencies={lanes:0,firstContext:t}}else Ii=Ii.next=t;return e}var Ss=null;function Vp(t){Ss===null?Ss=[t]:Ss.push(t)}function I0(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Vp(e)):(n.next=s.next,s.next=n),e.interleaved=n,er(t,r)}function er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xr=!1;function Hp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $r(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,er(t,n)}return s=r.interleaved,s===null?(e.next=e,Vp(r)):(e.next=s.next,s.next=e),r.interleaved=e,er(t,n)}function lc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kp(t,n)}}function Nv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bc(t,e,n,r){var s=t.updateQueue;xr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,v=a;switch(f=e,p=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){d=x.call(p,d,f);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,f=typeof x=="function"?x.call(p,d,f):x,f==null)break e;d=Re({},d,f);break e;case 2:xr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);$s|=o,t.lanes=o,t.memoizedState=d}}function Pv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(k(191,s));s.call(r)}}}var cl={},An=os(cl),Aa=os(cl),Oa=os(cl);function bs(t){if(t===cl)throw Error(k(174));return t}function Gp(t,e){switch(we(Oa,e),we(Aa,t),we(An,cl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gf(e,t)}Te(An),we(An,e)}function so(){Te(An),Te(Aa),Te(Oa)}function P0(t){bs(Oa.current);var e=bs(An.current),n=Gf(e,t.type);e!==n&&(we(Aa,t),we(An,n))}function Kp(t){Aa.current===t&&(Te(An),Te(Aa))}var Pe=os(0);function Wc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yd=[];function qp(){for(var t=0;t<Yd.length;t++)Yd[t]._workInProgressVersionPrimary=null;Yd.length=0}var cc=ar.ReactCurrentDispatcher,Xd=ar.ReactCurrentBatchConfig,Us=0,ke=null,ze=null,Ge=null,Vc=!1,ca=!1,Da=0,SN=0;function rt(){throw Error(k(321))}function Qp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gn(t[n],e[n]))return!1;return!0}function Yp(t,e,n,r,s,i){if(Us=i,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cc.current=t===null||t.memoizedState===null?NN:PN,t=n(r,s),ca){i=0;do{if(ca=!1,Da=0,25<=i)throw Error(k(301));i+=1,Ge=ze=null,e.updateQueue=null,cc.current=kN,t=n(r,s)}while(ca)}if(cc.current=Hc,e=ze!==null&&ze.next!==null,Us=0,Ge=ze=ke=null,Vc=!1,e)throw Error(k(300));return t}function Xp(){var t=Da!==0;return Da=0,t}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?ke.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function Gt(){if(ze===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Ge===null?ke.memoizedState:Ge.next;if(e!==null)Ge=e,ze=t;else{if(t===null)throw Error(k(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ge===null?ke.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function Ma(t,e){return typeof e=="function"?e(t):e}function Jd(t){var e=Gt(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Us&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ke.lanes|=u,$s|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,gn(r,e.memoizedState)||(wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ke.lanes|=i,$s|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zd(t){var e=Gt(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);gn(i,e.memoizedState)||(wt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function k0(){}function R0(t,e){var n=ke,r=Gt(),s=e(),i=!gn(r.memoizedState,s);if(i&&(r.memoizedState=s,wt=!0),r=r.queue,Jp(D0.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,La(9,O0.bind(null,n,r,s,e),void 0,null),Qe===null)throw Error(k(349));Us&30||A0(n,e,s)}return s}function A0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function O0(t,e,n,r){e.value=n,e.getSnapshot=r,M0(e)&&L0(t)}function D0(t,e,n){return n(function(){M0(e)&&L0(t)})}function M0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gn(t,n)}catch{return!0}}function L0(t){var e=er(t,1);e!==null&&pn(e,t,1,-1)}function kv(t){var e=Sn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:t},e.queue=t,t=t.dispatch=IN.bind(null,ke,t),[e.memoizedState,t]}function La(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function j0(){return Gt().memoizedState}function uc(t,e,n,r){var s=Sn();ke.flags|=t,s.memoizedState=La(1|e,n,void 0,r===void 0?null:r)}function Lu(t,e,n,r){var s=Gt();r=r===void 0?null:r;var i=void 0;if(ze!==null){var o=ze.memoizedState;if(i=o.destroy,r!==null&&Qp(r,o.deps)){s.memoizedState=La(e,n,i,r);return}}ke.flags|=t,s.memoizedState=La(1|e,n,i,r)}function Rv(t,e){return uc(8390656,8,t,e)}function Jp(t,e){return Lu(2048,8,t,e)}function F0(t,e){return Lu(4,2,t,e)}function U0(t,e){return Lu(4,4,t,e)}function $0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function z0(t,e,n){return n=n!=null?n.concat([t]):null,Lu(4,4,$0.bind(null,e,t),n)}function Zp(){}function B0(t,e){var n=Gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function W0(t,e){var n=Gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function V0(t,e,n){return Us&21?(gn(n,e)||(n=Qw(),ke.lanes|=n,$s|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=n)}function bN(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var r=Xd.transition;Xd.transition={};try{t(!1),e()}finally{pe=n,Xd.transition=r}}function H0(){return Gt().memoizedState}function TN(t,e,n){var r=Br(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},G0(t))K0(e,n);else if(n=I0(t,e,n,r),n!==null){var s=ht();pn(n,t,r,s),q0(n,e,r)}}function IN(t,e,n){var r=Br(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(G0(t))K0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,gn(a,o)){var l=e.interleaved;l===null?(s.next=s,Vp(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=I0(t,e,s,r),n!==null&&(s=ht(),pn(n,t,r,s),q0(n,e,r))}}function G0(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function K0(t,e){ca=Vc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function q0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kp(t,n)}}var Hc={readContext:Ht,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},NN={readContext:Ht,useCallback:function(t,e){return Sn().memoizedState=[t,e===void 0?null:e],t},useContext:Ht,useEffect:Rv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uc(4194308,4,$0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uc(4194308,4,t,e)},useInsertionEffect:function(t,e){return uc(4,2,t,e)},useMemo:function(t,e){var n=Sn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=TN.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=Sn();return t={current:t},e.memoizedState=t},useState:kv,useDebugValue:Zp,useDeferredValue:function(t){return Sn().memoizedState=t},useTransition:function(){var t=kv(!1),e=t[0];return t=bN.bind(null,t[1]),Sn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ke,s=Sn();if(Ne){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),Qe===null)throw Error(k(349));Us&30||A0(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Rv(D0.bind(null,r,i,t),[t]),r.flags|=2048,La(9,O0.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Sn(),e=Qe.identifierPrefix;if(Ne){var n=Hn,r=Vn;n=(r&~(1<<32-hn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Da++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=SN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PN={readContext:Ht,useCallback:B0,useContext:Ht,useEffect:Jp,useImperativeHandle:z0,useInsertionEffect:F0,useLayoutEffect:U0,useMemo:W0,useReducer:Jd,useRef:j0,useState:function(){return Jd(Ma)},useDebugValue:Zp,useDeferredValue:function(t){var e=Gt();return V0(e,ze.memoizedState,t)},useTransition:function(){var t=Jd(Ma)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:k0,useSyncExternalStore:R0,useId:H0,unstable_isNewReconciler:!1},kN={readContext:Ht,useCallback:B0,useContext:Ht,useEffect:Jp,useImperativeHandle:z0,useInsertionEffect:F0,useLayoutEffect:U0,useMemo:W0,useReducer:Zd,useRef:j0,useState:function(){return Zd(Ma)},useDebugValue:Zp,useDeferredValue:function(t){var e=Gt();return ze===null?e.memoizedState=t:V0(e,ze.memoizedState,t)},useTransition:function(){var t=Zd(Ma)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:k0,useSyncExternalStore:R0,useId:H0,unstable_isNewReconciler:!1};function en(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function hh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ju={isMounted:function(t){return(t=t._reactInternals)?ei(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ht(),s=Br(t),i=Qn(r,s);i.payload=e,n!=null&&(i.callback=n),e=$r(t,i,s),e!==null&&(pn(e,t,s,r),lc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ht(),s=Br(t),i=Qn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=$r(t,i,s),e!==null&&(pn(e,t,s,r),lc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ht(),r=Br(t),s=Qn(n,r);s.tag=2,e!=null&&(s.callback=e),e=$r(t,s,r),e!==null&&(pn(e,t,r,n),lc(e,t,r))}};function Av(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Na(n,r)||!Na(s,i):!0}function Q0(t,e,n){var r=!1,s=Zr,i=e.contextType;return typeof i=="object"&&i!==null?i=Ht(i):(s=bt(e)?js:lt.current,r=e.contextTypes,i=(r=r!=null)?to(t,s):Zr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ju,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ov(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ju.enqueueReplaceState(e,e.state,null)}function ph(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Hp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ht(i):(i=bt(e)?js:lt.current,s.context=to(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(hh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ju.enqueueReplaceState(s,s.state,null),Bc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function io(t,e){try{var n="",r=e;do n+=sI(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ef(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function mh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RN=typeof WeakMap=="function"?WeakMap:Map;function Y0(t,e,n){n=Qn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kc||(Kc=!0,bh=r),mh(t,e)},n}function X0(t,e,n){n=Qn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){mh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){mh(t,e),typeof r!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Dv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new RN;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=HN.bind(null,t,e,n),e.then(t,t))}function Mv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Lv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qn(-1,1),e.tag=2,$r(n,e,1))),n.lanes|=1),t)}var AN=ar.ReactCurrentOwner,wt=!1;function ut(t,e,n,r){e.child=t===null?T0(e,null,n,r):ro(e,t.child,n,r)}function jv(t,e,n,r,s){n=n.render;var i=e.ref;return Li(e,s),r=Yp(t,e,n,r,i,s),n=Xp(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,tr(t,e,s)):(Ne&&n&&Fp(e),e.flags|=1,ut(t,e,r,s),e.child)}function Fv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!am(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,J0(t,e,i,r,s)):(t=pc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Na,n(o,r)&&t.ref===e.ref)return tr(t,e,s)}return e.flags|=1,t=Wr(i,r),t.ref=e.ref,t.return=e,e.child=t}function J0(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Na(i,r)&&t.ref===e.ref)if(wt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(wt=!0);else return e.lanes=t.lanes,tr(t,e,s)}return gh(t,e,n,r,s)}function Z0(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Pi,Pt),Pt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(Pi,Pt),Pt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,we(Pi,Pt),Pt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,we(Pi,Pt),Pt|=r;return ut(t,e,s,n),e.child}function ex(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function gh(t,e,n,r,s){var i=bt(n)?js:lt.current;return i=to(e,i),Li(e,s),n=Yp(t,e,n,r,i,s),r=Xp(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,tr(t,e,s)):(Ne&&r&&Fp(e),e.flags|=1,ut(t,e,n,s),e.child)}function Uv(t,e,n,r,s){if(bt(n)){var i=!0;jc(e)}else i=!1;if(Li(e,s),e.stateNode===null)dc(t,e),Q0(e,n,r),ph(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ht(c):(c=bt(n)?js:lt.current,c=to(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Ov(e,o,r,c),xr=!1;var f=e.memoizedState;o.state=f,Bc(e,r,o,s),l=e.memoizedState,a!==r||f!==l||St.current||xr?(typeof u=="function"&&(hh(e,n,u,r),l=e.memoizedState),(a=xr||Av(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,N0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:en(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ht(l):(l=bt(n)?js:lt.current,l=to(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Ov(e,o,r,l),xr=!1,f=e.memoizedState,o.state=f,Bc(e,r,o,s);var x=e.memoizedState;a!==d||f!==x||St.current||xr?(typeof p=="function"&&(hh(e,n,p,r),x=e.memoizedState),(c=xr||Av(e,n,c,r,f,x,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return vh(t,e,n,r,i,s)}function vh(t,e,n,r,s,i){ex(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Sv(e,n,!1),tr(t,e,i);r=e.stateNode,AN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ro(e,t.child,null,i),e.child=ro(e,null,a,i)):ut(t,e,a,i),e.memoizedState=r.state,s&&Sv(e,n,!0),e.child}function tx(t){var e=t.stateNode;e.pendingContext?Cv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cv(t,e.context,!1),Gp(t,e.containerInfo)}function $v(t,e,n,r,s){return no(),$p(s),e.flags|=256,ut(t,e,n,r),e.child}var yh={dehydrated:null,treeContext:null,retryLane:0};function _h(t){return{baseLanes:t,cachePool:null,transitions:null}}function nx(t,e,n){var r=e.pendingProps,s=Pe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),we(Pe,s&1),t===null)return dh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$u(o,r,0,null),t=Ms(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=_h(n),e.memoizedState=yh,t):em(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ON(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Wr(a,i):(i=Ms(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?_h(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=yh,r}return i=t.child,t=i.sibling,r=Wr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function em(t,e){return e=$u({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zl(t,e,n,r){return r!==null&&$p(r),ro(e,t.child,null,n),t=em(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ON(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ef(Error(k(422))),zl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=$u({mode:"visible",children:r.children},s,0,null),i=Ms(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ro(e,t.child,null,o),e.child.memoizedState=_h(o),e.memoizedState=yh,i);if(!(e.mode&1))return zl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(k(419)),r=ef(i,r,void 0),zl(t,e,o,r)}if(a=(o&t.childLanes)!==0,wt||a){if(r=Qe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,er(t,s),pn(r,t,s,-1))}return om(),r=ef(Error(k(421))),zl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=GN.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,At=Ur(s.nextSibling),Ot=e,Ne=!0,on=null,t!==null&&(zt[Bt++]=Vn,zt[Bt++]=Hn,zt[Bt++]=Fs,Vn=t.id,Hn=t.overflow,Fs=e),e=em(e,r.children),e.flags|=4096,e)}function zv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fh(t.return,e,n)}function tf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function rx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ut(t,e,r.children,n),r=Pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zv(t,n,e);else if(t.tag===19)zv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(Pe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Wc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),tf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Wc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}tf(e,!0,n,null,i);break;case"together":tf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$s|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=Wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function DN(t,e,n){switch(e.tag){case 3:tx(e),no();break;case 5:P0(e);break;case 1:bt(e.type)&&jc(e);break;case 4:Gp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;we($c,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we(Pe,Pe.current&1),e.flags|=128,null):n&e.child.childLanes?nx(t,e,n):(we(Pe,Pe.current&1),t=tr(t,e,n),t!==null?t.sibling:null);we(Pe,Pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),we(Pe,Pe.current),r)break;return null;case 22:case 23:return e.lanes=0,Z0(t,e,n)}return tr(t,e,n)}var sx,wh,ix,ox;sx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wh=function(){};ix=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,bs(An.current);var i=null;switch(n){case"input":s=Bf(t,s),r=Bf(t,r),i=[];break;case"select":s=Re({},s,{value:void 0}),r=Re({},r,{value:void 0}),i=[];break;case"textarea":s=Hf(t,s),r=Hf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Mc)}Kf(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xa.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Se("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};ox=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wo(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function st(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function MN(t,e,n){var r=e.pendingProps;switch(Up(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(e),null;case 1:return bt(e.type)&&Lc(),st(e),null;case 3:return r=e.stateNode,so(),Te(St),Te(lt),qp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ul(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,on!==null&&(Nh(on),on=null))),wh(t,e),st(e),null;case 5:Kp(e);var s=bs(Oa.current);if(n=e.type,t!==null&&e.stateNode!=null)ix(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(k(166));return st(e),null}if(t=bs(An.current),Ul(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Nn]=e,r[Ra]=i,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(s=0;s<ea.length;s++)Se(ea[s],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Yg(r,i),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Se("invalid",r);break;case"textarea":Jg(r,i),Se("invalid",r)}Kf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Fl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Fl(r.textContent,a,t),s=["children",""+a]):xa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":kl(r),Xg(r,i,!0);break;case"textarea":kl(r),Zg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Mc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Dw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Nn]=e,t[Ra]=r,sx(t,e,!1,!1),e.stateNode=t;e:{switch(o=qf(n,r),n){case"dialog":Se("cancel",t),Se("close",t),s=r;break;case"iframe":case"object":case"embed":Se("load",t),s=r;break;case"video":case"audio":for(s=0;s<ea.length;s++)Se(ea[s],t);s=r;break;case"source":Se("error",t),s=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),s=r;break;case"details":Se("toggle",t),s=r;break;case"input":Yg(t,r),s=Bf(t,r),Se("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Re({},r,{value:void 0}),Se("invalid",t);break;case"textarea":Jg(t,r),s=Hf(t,r),Se("invalid",t);break;default:s=r}Kf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?jw(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Mw(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ea(t,l):typeof l=="number"&&Ea(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xa.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Se("scroll",t):l!=null&&Sp(t,i,l,o))}switch(n){case"input":kl(t),Xg(t,r,!1);break;case"textarea":kl(t),Zg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ai(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ai(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Mc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return st(e),null;case 6:if(t&&e.stateNode!=null)ox(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(k(166));if(n=bs(Oa.current),bs(An.current),Ul(e)){if(r=e.stateNode,n=e.memoizedProps,r[Nn]=e,(i=r.nodeValue!==n)&&(t=Ot,t!==null))switch(t.tag){case 3:Fl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nn]=e,e.stateNode=r}return st(e),null;case 13:if(Te(Pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&At!==null&&e.mode&1&&!(e.flags&128))S0(),no(),e.flags|=98560,i=!1;else if(i=Ul(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(k(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[Nn]=e}else no(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;st(e),i=!1}else on!==null&&(Nh(on),on=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?Ve===0&&(Ve=3):om())),e.updateQueue!==null&&(e.flags|=4),st(e),null);case 4:return so(),wh(t,e),t===null&&Pa(e.stateNode.containerInfo),st(e),null;case 10:return Wp(e.type._context),st(e),null;case 17:return bt(e.type)&&Lc(),st(e),null;case 19:if(Te(Pe),i=e.memoizedState,i===null)return st(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Wo(i,!1);else{if(Ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wc(t),o!==null){for(e.flags|=128,Wo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(Pe,Pe.current&1|2),e.child}t=t.sibling}i.tail!==null&&je()>oo&&(e.flags|=128,r=!0,Wo(i,!1),e.lanes=4194304)}else{if(!r)if(t=Wc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ne)return st(e),null}else 2*je()-i.renderingStartTime>oo&&n!==1073741824&&(e.flags|=128,r=!0,Wo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=je(),e.sibling=null,n=Pe.current,we(Pe,r?n&1|2:n&1),e):(st(e),null);case 22:case 23:return im(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pt&1073741824&&(st(e),e.subtreeFlags&6&&(e.flags|=8192)):st(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function LN(t,e){switch(Up(e),e.tag){case 1:return bt(e.type)&&Lc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return so(),Te(St),Te(lt),qp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kp(e),null;case 13:if(Te(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));no()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(Pe),null;case 4:return so(),null;case 10:return Wp(e.type._context),null;case 22:case 23:return im(),null;case 24:return null;default:return null}}var Bl=!1,ot=!1,jN=typeof WeakSet=="function"?WeakSet:Set,$=null;function Ni(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function xh(t,e,n){try{n()}catch(r){Me(t,e,r)}}var Bv=!1;function FN(t,e){if(sh=Ac,t=d0(),jp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ih={focusedElem:t,selectionRange:n},Ac=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,_=x.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:en(e.type,v),_);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(E){Me(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return x=Bv,Bv=!1,x}function ua(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&xh(e,n,i)}s=s.next}while(s!==r)}}function Fu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Eh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ax(t){var e=t.alternate;e!==null&&(t.alternate=null,ax(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Nn],delete e[Ra],delete e[lh],delete e[wN],delete e[xN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lx(t){return t.tag===5||t.tag===3||t.tag===4}function Wv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ch(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mc));else if(r!==4&&(t=t.child,t!==null))for(Ch(t,e,n),t=t.sibling;t!==null;)Ch(t,e,n),t=t.sibling}function Sh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sh(t,e,n),t=t.sibling;t!==null;)Sh(t,e,n),t=t.sibling}var Ye=null,sn=!1;function pr(t,e,n){for(n=n.child;n!==null;)cx(t,e,n),n=n.sibling}function cx(t,e,n){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(ku,n)}catch{}switch(n.tag){case 5:ot||Ni(n,e);case 6:var r=Ye,s=sn;Ye=null,pr(t,e,n),Ye=r,sn=s,Ye!==null&&(sn?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(sn?(t=Ye,n=n.stateNode,t.nodeType===8?qd(t.parentNode,n):t.nodeType===1&&qd(t,n),Ta(t)):qd(Ye,n.stateNode));break;case 4:r=Ye,s=sn,Ye=n.stateNode.containerInfo,sn=!0,pr(t,e,n),Ye=r,sn=s;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xh(n,e,o),s=s.next}while(s!==r)}pr(t,e,n);break;case 1:if(!ot&&(Ni(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Me(n,e,a)}pr(t,e,n);break;case 21:pr(t,e,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,pr(t,e,n),ot=r):pr(t,e,n);break;default:pr(t,e,n)}}function Vv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jN),e.forEach(function(r){var s=KN.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ye=a.stateNode,sn=!1;break e;case 3:Ye=a.stateNode.containerInfo,sn=!0;break e;case 4:Ye=a.stateNode.containerInfo,sn=!0;break e}a=a.return}if(Ye===null)throw Error(k(160));cx(i,o,s),Ye=null,sn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Me(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ux(e,t),e=e.sibling}function ux(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xt(e,t),Cn(t),r&4){try{ua(3,t,t.return),Fu(3,t)}catch(v){Me(t,t.return,v)}try{ua(5,t,t.return)}catch(v){Me(t,t.return,v)}}break;case 1:Xt(e,t),Cn(t),r&512&&n!==null&&Ni(n,n.return);break;case 5:if(Xt(e,t),Cn(t),r&512&&n!==null&&Ni(n,n.return),t.flags&32){var s=t.stateNode;try{Ea(s,"")}catch(v){Me(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Aw(s,i),qf(a,o);var c=qf(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?jw(s,d):u==="dangerouslySetInnerHTML"?Mw(s,d):u==="children"?Ea(s,d):Sp(s,u,d,c)}switch(a){case"input":Wf(s,i);break;case"textarea":Ow(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ai(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ai(s,!!i.multiple,i.defaultValue,!0):Ai(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ra]=i}catch(v){Me(t,t.return,v)}}break;case 6:if(Xt(e,t),Cn(t),r&4){if(t.stateNode===null)throw Error(k(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Me(t,t.return,v)}}break;case 3:if(Xt(e,t),Cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ta(e.containerInfo)}catch(v){Me(t,t.return,v)}break;case 4:Xt(e,t),Cn(t);break;case 13:Xt(e,t),Cn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(rm=je())),r&4&&Vv(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(ot=(c=ot)||u,Xt(e,t),ot=c):Xt(e,t),Cn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for($=t,u=t.child;u!==null;){for(d=$=u;$!==null;){switch(f=$,p=f.child,f.tag){case 0:case 11:case 14:case 15:ua(4,f,f.return);break;case 1:Ni(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(v){Me(r,n,v)}}break;case 5:Ni(f,f.return);break;case 22:if(f.memoizedState!==null){Gv(d);continue}}p!==null?(p.return=f,$=p):Gv(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Lw("display",o))}catch(v){Me(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Me(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xt(e,t),Cn(t),r&4&&Vv(t);break;case 21:break;default:Xt(e,t),Cn(t)}}function Cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lx(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ea(s,""),r.flags&=-33);var i=Wv(t);Sh(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Wv(t);Ch(t,a,o);break;default:throw Error(k(161))}}catch(l){Me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UN(t,e,n){$=t,dx(t)}function dx(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Bl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ot;a=Bl;var c=ot;if(Bl=o,(ot=l)&&!c)for($=s;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?Kv(s):l!==null?(l.return=o,$=l):Kv(s);for(;i!==null;)$=i,dx(i),i=i.sibling;$=s,Bl=a,ot=c}Hv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):Hv(t)}}function Hv(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ot||Fu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ot)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:en(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Pv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Pv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ta(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}ot||e.flags&512&&Eh(e)}catch(f){Me(e,e.return,f)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function Gv(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function Kv(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fu(4,e)}catch(l){Me(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Me(e,s,l)}}var i=e.return;try{Eh(e)}catch(l){Me(e,i,l)}break;case 5:var o=e.return;try{Eh(e)}catch(l){Me(e,o,l)}}}catch(l){Me(e,e.return,l)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var $N=Math.ceil,Gc=ar.ReactCurrentDispatcher,tm=ar.ReactCurrentOwner,Vt=ar.ReactCurrentBatchConfig,le=0,Qe=null,$e=null,Xe=0,Pt=0,Pi=os(0),Ve=0,ja=null,$s=0,Uu=0,nm=0,da=null,_t=null,rm=0,oo=1/0,zn=null,Kc=!1,bh=null,zr=null,Wl=!1,Dr=null,qc=0,fa=0,Th=null,fc=-1,hc=0;function ht(){return le&6?je():fc!==-1?fc:fc=je()}function Br(t){return t.mode&1?le&2&&Xe!==0?Xe&-Xe:CN.transition!==null?(hc===0&&(hc=Qw()),hc):(t=pe,t!==0||(t=window.event,t=t===void 0?16:n0(t.type)),t):1}function pn(t,e,n,r){if(50<fa)throw fa=0,Th=null,Error(k(185));ol(t,n,r),(!(le&2)||t!==Qe)&&(t===Qe&&(!(le&2)&&(Uu|=n),Ve===4&&Cr(t,Xe)),Tt(t,r),n===1&&le===0&&!(e.mode&1)&&(oo=je()+500,Mu&&as()))}function Tt(t,e){var n=t.callbackNode;CI(t,e);var r=Rc(t,t===Qe?Xe:0);if(r===0)n!==null&&nv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&nv(n),e===1)t.tag===0?EN(qv.bind(null,t)):x0(qv.bind(null,t)),yN(function(){!(le&6)&&as()}),n=null;else{switch(Yw(r)){case 1:n=Pp;break;case 4:n=Kw;break;case 16:n=kc;break;case 536870912:n=qw;break;default:n=kc}n=_x(n,fx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fx(t,e){if(fc=-1,hc=0,le&6)throw Error(k(327));var n=t.callbackNode;if(ji()&&t.callbackNode!==n)return null;var r=Rc(t,t===Qe?Xe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qc(t,r);else{e=r;var s=le;le|=2;var i=px();(Qe!==t||Xe!==e)&&(zn=null,oo=je()+500,Ds(t,e));do try{WN();break}catch(a){hx(t,a)}while(!0);Bp(),Gc.current=i,le=s,$e!==null?e=0:(Qe=null,Xe=0,e=Ve)}if(e!==0){if(e===2&&(s=Zf(t),s!==0&&(r=s,e=Ih(t,s))),e===1)throw n=ja,Ds(t,0),Cr(t,r),Tt(t,je()),n;if(e===6)Cr(t,r);else{if(s=t.current.alternate,!(r&30)&&!zN(s)&&(e=Qc(t,r),e===2&&(i=Zf(t),i!==0&&(r=i,e=Ih(t,i))),e===1))throw n=ja,Ds(t,0),Cr(t,r),Tt(t,je()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(k(345));case 2:ws(t,_t,zn);break;case 3:if(Cr(t,r),(r&130023424)===r&&(e=rm+500-je(),10<e)){if(Rc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ht(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ah(ws.bind(null,t,_t,zn),e);break}ws(t,_t,zn);break;case 4:if(Cr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-hn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$N(r/1960))-r,10<r){t.timeoutHandle=ah(ws.bind(null,t,_t,zn),r);break}ws(t,_t,zn);break;case 5:ws(t,_t,zn);break;default:throw Error(k(329))}}}return Tt(t,je()),t.callbackNode===n?fx.bind(null,t):null}function Ih(t,e){var n=da;return t.current.memoizedState.isDehydrated&&(Ds(t,e).flags|=256),t=Qc(t,e),t!==2&&(e=_t,_t=n,e!==null&&Nh(e)),t}function Nh(t){_t===null?_t=t:_t.push.apply(_t,t)}function zN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cr(t,e){for(e&=~nm,e&=~Uu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hn(e),r=1<<n;t[n]=-1,e&=~r}}function qv(t){if(le&6)throw Error(k(327));ji();var e=Rc(t,0);if(!(e&1))return Tt(t,je()),null;var n=Qc(t,e);if(t.tag!==0&&n===2){var r=Zf(t);r!==0&&(e=r,n=Ih(t,r))}if(n===1)throw n=ja,Ds(t,0),Cr(t,e),Tt(t,je()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ws(t,_t,zn),Tt(t,je()),null}function sm(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(oo=je()+500,Mu&&as())}}function zs(t){Dr!==null&&Dr.tag===0&&!(le&6)&&ji();var e=le;le|=1;var n=Vt.transition,r=pe;try{if(Vt.transition=null,pe=1,t)return t()}finally{pe=r,Vt.transition=n,le=e,!(le&6)&&as()}}function im(){Pt=Pi.current,Te(Pi)}function Ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vN(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(Up(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lc();break;case 3:so(),Te(St),Te(lt),qp();break;case 5:Kp(r);break;case 4:so();break;case 13:Te(Pe);break;case 19:Te(Pe);break;case 10:Wp(r.type._context);break;case 22:case 23:im()}n=n.return}if(Qe=t,$e=t=Wr(t.current,null),Xe=Pt=e,Ve=0,ja=null,nm=Uu=$s=0,_t=da=null,Ss!==null){for(e=0;e<Ss.length;e++)if(n=Ss[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ss=null}return t}function hx(t,e){do{var n=$e;try{if(Bp(),cc.current=Hc,Vc){for(var r=ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vc=!1}if(Us=0,Ge=ze=ke=null,ca=!1,Da=0,tm.current=null,n===null||n.return===null){Ve=1,ja=e,$e=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Xe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Mv(o);if(p!==null){p.flags&=-257,Lv(p,o,a,i,e),p.mode&1&&Dv(i,c,e),e=p,l=c;var x=e.updateQueue;if(x===null){var v=new Set;v.add(l),e.updateQueue=v}else x.add(l);break e}else{if(!(e&1)){Dv(i,c,e),om();break e}l=Error(k(426))}}else if(Ne&&a.mode&1){var _=Mv(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Lv(_,o,a,i,e),$p(io(l,a));break e}}i=l=io(l,a),Ve!==4&&(Ve=2),da===null?da=[i]:da.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Y0(i,l,e);Nv(i,g);break e;case 1:a=l;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(zr===null||!zr.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=X0(i,a,e);Nv(i,E);break e}}i=i.return}while(i!==null)}gx(n)}catch(C){e=C,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function px(){var t=Gc.current;return Gc.current=Hc,t===null?Hc:t}function om(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Qe===null||!($s&268435455)&&!(Uu&268435455)||Cr(Qe,Xe)}function Qc(t,e){var n=le;le|=2;var r=px();(Qe!==t||Xe!==e)&&(zn=null,Ds(t,e));do try{BN();break}catch(s){hx(t,s)}while(!0);if(Bp(),le=n,Gc.current=r,$e!==null)throw Error(k(261));return Qe=null,Xe=0,Ve}function BN(){for(;$e!==null;)mx($e)}function WN(){for(;$e!==null&&!pI();)mx($e)}function mx(t){var e=yx(t.alternate,t,Pt);t.memoizedProps=t.pendingProps,e===null?gx(t):$e=e,tm.current=null}function gx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=LN(n,e),n!==null){n.flags&=32767,$e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ve=6,$e=null;return}}else if(n=MN(n,e,Pt),n!==null){$e=n;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);Ve===0&&(Ve=5)}function ws(t,e,n){var r=pe,s=Vt.transition;try{Vt.transition=null,pe=1,VN(t,e,n,r)}finally{Vt.transition=s,pe=r}return null}function VN(t,e,n,r){do ji();while(Dr!==null);if(le&6)throw Error(k(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(SI(t,i),t===Qe&&($e=Qe=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wl||(Wl=!0,_x(kc,function(){return ji(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vt.transition,Vt.transition=null;var o=pe;pe=1;var a=le;le|=4,tm.current=null,FN(t,n),ux(n,t),uN(ih),Ac=!!sh,ih=sh=null,t.current=n,UN(n),mI(),le=a,pe=o,Vt.transition=i}else t.current=n;if(Wl&&(Wl=!1,Dr=t,qc=s),i=t.pendingLanes,i===0&&(zr=null),yI(n.stateNode),Tt(t,je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Kc)throw Kc=!1,t=bh,bh=null,t;return qc&1&&t.tag!==0&&ji(),i=t.pendingLanes,i&1?t===Th?fa++:(fa=0,Th=t):fa=0,as(),null}function ji(){if(Dr!==null){var t=Yw(qc),e=Vt.transition,n=pe;try{if(Vt.transition=null,pe=16>t?16:t,Dr===null)var r=!1;else{if(t=Dr,Dr=null,qc=0,le&6)throw Error(k(331));var s=le;for(le|=4,$=t.current;$!==null;){var i=$,o=i.child;if($.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for($=c;$!==null;){var u=$;switch(u.tag){case 0:case 11:case 15:ua(8,u,i)}var d=u.child;if(d!==null)d.return=u,$=d;else for(;$!==null;){u=$;var f=u.sibling,p=u.return;if(ax(u),u===c){$=null;break}if(f!==null){f.return=p,$=f;break}$=p}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ua(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,$=g;break e}$=i.return}}var y=t.current;for($=y;$!==null;){o=$;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,$=w;else e:for(o=y;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fu(9,a)}}catch(C){Me(a,a.return,C)}if(a===o){$=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,$=E;break e}$=a.return}}if(le=s,as(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(ku,t)}catch{}r=!0}return r}finally{pe=n,Vt.transition=e}}return!1}function Qv(t,e,n){e=io(n,e),e=Y0(t,e,1),t=$r(t,e,1),e=ht(),t!==null&&(ol(t,1,e),Tt(t,e))}function Me(t,e,n){if(t.tag===3)Qv(t,t,n);else for(;e!==null;){if(e.tag===3){Qv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zr===null||!zr.has(r))){t=io(n,t),t=X0(e,t,1),e=$r(e,t,1),t=ht(),e!==null&&(ol(e,1,t),Tt(e,t));break}}e=e.return}}function HN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ht(),t.pingedLanes|=t.suspendedLanes&n,Qe===t&&(Xe&n)===n&&(Ve===4||Ve===3&&(Xe&130023424)===Xe&&500>je()-rm?Ds(t,0):nm|=n),Tt(t,e)}function vx(t,e){e===0&&(t.mode&1?(e=Ol,Ol<<=1,!(Ol&130023424)&&(Ol=4194304)):e=1);var n=ht();t=er(t,e),t!==null&&(ol(t,e,n),Tt(t,n))}function GN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),vx(t,n)}function KN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(e),vx(t,n)}var yx;yx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wt=!1,DN(t,e,n);wt=!!(t.flags&131072)}else wt=!1,Ne&&e.flags&1048576&&E0(e,Uc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dc(t,e),t=e.pendingProps;var s=to(e,lt.current);Li(e,n),s=Yp(null,e,r,t,s,n);var i=Xp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bt(r)?(i=!0,jc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hp(e),s.updater=ju,e.stateNode=s,s._reactInternals=e,ph(e,r,t,n),e=vh(null,e,r,!0,i,n)):(e.tag=0,Ne&&i&&Fp(e),ut(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(dc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=QN(r),t=en(r,t),s){case 0:e=gh(null,e,r,t,n);break e;case 1:e=Uv(null,e,r,t,n);break e;case 11:e=jv(null,e,r,t,n);break e;case 14:e=Fv(null,e,r,en(r.type,t),n);break e}throw Error(k(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:en(r,s),gh(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:en(r,s),Uv(t,e,r,s,n);case 3:e:{if(tx(e),t===null)throw Error(k(387));r=e.pendingProps,i=e.memoizedState,s=i.element,N0(t,e),Bc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=io(Error(k(423)),e),e=$v(t,e,r,n,s);break e}else if(r!==s){s=io(Error(k(424)),e),e=$v(t,e,r,n,s);break e}else for(At=Ur(e.stateNode.containerInfo.firstChild),Ot=e,Ne=!0,on=null,n=T0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(no(),r===s){e=tr(t,e,n);break e}ut(t,e,r,n)}e=e.child}return e;case 5:return P0(e),t===null&&dh(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,oh(r,s)?o=null:i!==null&&oh(r,i)&&(e.flags|=32),ex(t,e),ut(t,e,o,n),e.child;case 6:return t===null&&dh(e),null;case 13:return nx(t,e,n);case 4:return Gp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ro(e,null,r,n):ut(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:en(r,s),jv(t,e,r,s,n);case 7:return ut(t,e,e.pendingProps,n),e.child;case 8:return ut(t,e,e.pendingProps.children,n),e.child;case 12:return ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,we($c,r._currentValue),r._currentValue=o,i!==null)if(gn(i.value,o)){if(i.children===s.children&&!St.current){e=tr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Qn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),fh(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(k(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),fh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ut(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Li(e,n),s=Ht(s),r=r(s),e.flags|=1,ut(t,e,r,n),e.child;case 14:return r=e.type,s=en(r,e.pendingProps),s=en(r.type,s),Fv(t,e,r,s,n);case 15:return J0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:en(r,s),dc(t,e),e.tag=1,bt(r)?(t=!0,jc(e)):t=!1,Li(e,n),Q0(e,r,s),ph(e,r,s,n),vh(null,e,r,!0,t,n);case 19:return rx(t,e,n);case 22:return Z0(t,e,n)}throw Error(k(156,e.tag))};function _x(t,e){return Gw(t,e)}function qN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,e,n,r){return new qN(t,e,n,r)}function am(t){return t=t.prototype,!(!t||!t.isReactComponent)}function QN(t){if(typeof t=="function")return am(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tp)return 11;if(t===Ip)return 14}return 2}function Wr(t,e){var n=t.alternate;return n===null?(n=Wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")am(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _i:return Ms(n.children,s,i,e);case bp:o=8,s|=8;break;case Ff:return t=Wt(12,n,e,s|2),t.elementType=Ff,t.lanes=i,t;case Uf:return t=Wt(13,n,e,s),t.elementType=Uf,t.lanes=i,t;case $f:return t=Wt(19,n,e,s),t.elementType=$f,t.lanes=i,t;case Pw:return $u(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Iw:o=10;break e;case Nw:o=9;break e;case Tp:o=11;break e;case Ip:o=14;break e;case wr:o=16,r=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=Wt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ms(t,e,n,r){return t=Wt(7,t,r,e),t.lanes=n,t}function $u(t,e,n,r){return t=Wt(22,t,r,e),t.elementType=Pw,t.lanes=n,t.stateNode={isHidden:!1},t}function nf(t,e,n){return t=Wt(6,t,null,e),t.lanes=n,t}function rf(t,e,n){return e=Wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function YN(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jd(0),this.expirationTimes=jd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lm(t,e,n,r,s,i,o,a,l){return t=new YN(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Wt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hp(i),t}function XN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wx(t){if(!t)return Zr;t=t._reactInternals;e:{if(ei(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(bt(n))return w0(t,n,e)}return e}function xx(t,e,n,r,s,i,o,a,l){return t=lm(n,r,!0,t,s,i,o,a,l),t.context=wx(null),n=t.current,r=ht(),s=Br(n),i=Qn(r,s),i.callback=e??null,$r(n,i,s),t.current.lanes=s,ol(t,s,r),Tt(t,r),t}function zu(t,e,n,r){var s=e.current,i=ht(),o=Br(s);return n=wx(n),e.context===null?e.context=n:e.pendingContext=n,e=Qn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$r(s,e,o),t!==null&&(pn(t,s,o,i),lc(t,s,o)),o}function Yc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cm(t,e){Yv(t,e),(t=t.alternate)&&Yv(t,e)}function JN(){return null}var Ex=typeof reportError=="function"?reportError:function(t){console.error(t)};function um(t){this._internalRoot=t}Bu.prototype.render=um.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));zu(t,e,null,null)};Bu.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zs(function(){zu(null,t,null,null)}),e[Zn]=null}};function Bu(t){this._internalRoot=t}Bu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Er.length&&e!==0&&e<Er[n].priority;n++);Er.splice(n,0,t),n===0&&t0(t)}};function dm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xv(){}function ZN(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Yc(o);i.call(c)}}var o=xx(e,r,t,0,null,!1,!1,"",Xv);return t._reactRootContainer=o,t[Zn]=o.current,Pa(t.nodeType===8?t.parentNode:t),zs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Yc(l);a.call(c)}}var l=lm(t,0,!1,null,null,!1,!1,"",Xv);return t._reactRootContainer=l,t[Zn]=l.current,Pa(t.nodeType===8?t.parentNode:t),zs(function(){zu(e,l,n,r)}),l}function Vu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Yc(o);a.call(l)}}zu(e,o,t,s)}else o=ZN(n,e,t,s,r);return Yc(o)}Xw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zo(e.pendingLanes);n!==0&&(kp(e,n|1),Tt(e,je()),!(le&6)&&(oo=je()+500,as()))}break;case 13:zs(function(){var r=er(t,1);if(r!==null){var s=ht();pn(r,t,1,s)}}),cm(t,1)}};Rp=function(t){if(t.tag===13){var e=er(t,134217728);if(e!==null){var n=ht();pn(e,t,134217728,n)}cm(t,134217728)}};Jw=function(t){if(t.tag===13){var e=Br(t),n=er(t,e);if(n!==null){var r=ht();pn(n,t,e,r)}cm(t,e)}};Zw=function(){return pe};e0=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};Yf=function(t,e,n){switch(e){case"input":if(Wf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Du(r);if(!s)throw Error(k(90));Rw(r),Wf(r,s)}}}break;case"textarea":Ow(t,n);break;case"select":e=n.value,e!=null&&Ai(t,!!n.multiple,e,!1)}};$w=sm;zw=zs;var eP={usingClientEntryPoint:!1,Events:[ll,Ci,Du,Fw,Uw,sm]},Vo={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tP={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vw(t),t===null?null:t.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||JN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vl.isDisabled&&Vl.supportsFiber)try{ku=Vl.inject(tP),Rn=Vl}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eP;Lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dm(e))throw Error(k(200));return XN(t,e,null,n)};Lt.createRoot=function(t,e){if(!dm(t))throw Error(k(299));var n=!1,r="",s=Ex;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=lm(t,1,!1,null,null,n,!1,r,s),t[Zn]=e.current,Pa(t.nodeType===8?t.parentNode:t),new um(e)};Lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=Vw(e),t=t===null?null:t.stateNode,t};Lt.flushSync=function(t){return zs(t)};Lt.hydrate=function(t,e,n){if(!Wu(e))throw Error(k(200));return Vu(null,t,e,!0,n)};Lt.hydrateRoot=function(t,e,n){if(!dm(t))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ex;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=xx(e,null,t,1,n??null,s,!1,i,o),t[Zn]=e.current,Pa(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Bu(e)};Lt.render=function(t,e,n){if(!Wu(e))throw Error(k(200));return Vu(null,t,e,!1,n)};Lt.unmountComponentAtNode=function(t){if(!Wu(t))throw Error(k(40));return t._reactRootContainer?(zs(function(){Vu(null,null,t,!1,function(){t._reactRootContainer=null,t[Zn]=null})}),!0):!1};Lt.unstable_batchedUpdates=sm;Lt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wu(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return Vu(t,e,n,!1,r)};Lt.version="18.3.1-next-f1338f8080-20240426";function Cx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cx)}catch(t){console.error(t)}}Cx(),Cw.exports=Lt;var ti=Cw.exports;const Sx=dw(ti);var bx,Jv=ti;bx=Jv.createRoot,Jv.hydrateRoot;const nP=1,rP=1e6;let sf=0;function sP(){return sf=(sf+1)%Number.MAX_SAFE_INTEGER,sf.toString()}const of=new Map,Zv=t=>{if(of.has(t))return;const e=setTimeout(()=>{of.delete(t),ha({type:"REMOVE_TOAST",toastId:t})},rP);of.set(t,e)},iP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,nP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Zv(n):t.toasts.forEach(r=>{Zv(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},mc=[];let gc={toasts:[]};function ha(t){gc=iP(gc,t),mc.forEach(e=>{e(gc)})}function oP({...t}){const e=sP(),n=s=>ha({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>ha({type:"DISMISS_TOAST",toastId:e});return ha({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function aP(){const[t,e]=m.useState(gc);return m.useEffect(()=>(mc.push(e),()=>{const n=mc.indexOf(e);n>-1&&mc.splice(n,1)}),[t]),{...t,toast:oP,dismiss:n=>ha({type:"DISMISS_TOAST",toastId:n})}}function V(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function ey(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Tx(...t){return e=>{let n=!1;const r=t.map(s=>{const i=ey(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():ey(t[s],null)}}}}function xe(...t){return m.useCallback(Tx(...t),t)}function lP(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ls(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=d=>{var g;const{scope:f,children:p,...x}=d,v=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,_=m.useMemo(()=>x,Object.values(x));return h.jsx(v.Provider,{value:_,children:p})};c.displayName=i+"Provider";function u(d,f){var v;const p=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,x=m.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[c,u]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,cP(s,...e)]}function cP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function ao(t){const e=dP(t),n=m.forwardRef((r,s)=>{const{children:i,...o}=r,a=m.Children.toArray(i),l=a.find(hP);if(l){const c=l.props.children,u=a.map(d=>d===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:d);return h.jsx(e,{...o,ref:s,children:m.isValidElement(c)?m.cloneElement(c,void 0,u):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var uP=ao("Slot");function dP(t){const e=m.forwardRef((n,r)=>{const{children:s,...i}=n;if(m.isValidElement(s)){const o=mP(s),a=pP(i,s.props);return s.type!==m.Fragment&&(a.ref=r?Tx(r,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ix=Symbol("radix.slottable");function fP(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Ix,e}function hP(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ix}function pP(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function mP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function fm(t){const e=t+"CollectionProvider",[n,r]=ls(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:_,children:g}=v,y=O.useRef(null),w=O.useRef(new Map).current;return h.jsx(s,{scope:_,itemMap:w,collectionRef:y,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=ao(a),c=O.forwardRef((v,_)=>{const{scope:g,children:y}=v,w=i(a,g),E=xe(_,w.collectionRef);return h.jsx(l,{ref:E,children:y})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=ao(u),p=O.forwardRef((v,_)=>{const{scope:g,children:y,...w}=v,E=O.useRef(null),C=xe(_,E),S=i(u,g);return O.useEffect(()=>(S.itemMap.set(E,{ref:E,...w}),()=>void S.itemMap.delete(E))),h.jsx(f,{[d]:"",ref:C,children:y})});p.displayName=u;function x(v){const _=i(t+"CollectionConsumer",v);return O.useCallback(()=>{const y=_.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((S,b)=>w.indexOf(S.ref.current)-w.indexOf(b.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},x,r]}var gP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],te=gP.reduce((t,e)=>{const n=ao(`Primitive.${e}`),r=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Nx(t,e){t&&ti.flushSync(()=>t.dispatchEvent(e))}function Kt(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function vP(t,e=globalThis==null?void 0:globalThis.document){const n=Kt(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var yP="DismissableLayer",Ph="dismissableLayer.update",_P="dismissableLayer.pointerDownOutside",wP="dismissableLayer.focusOutside",ty,Px=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ul=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(Px),[u,d]=m.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),x=xe(e,b=>d(b)),v=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=v.indexOf(_),y=u?v.indexOf(u):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,E=y>=g,C=EP(b=>{const T=b.target,A=[...c.branches].some(R=>R.contains(T));!E||A||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},f),S=CP(b=>{const T=b.target;[...c.branches].some(R=>R.contains(T))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},f);return vP(b=>{y===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},f),m.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(ty=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),ny(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=ty)}},[u,f,n,c]),m.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),ny())},[u,c]),m.useEffect(()=>{const b=()=>p({});return document.addEventListener(Ph,b),()=>document.removeEventListener(Ph,b)},[]),h.jsx(te.div,{...l,ref:x,style:{pointerEvents:w?E?"auto":"none":void 0,...t.style},onFocusCapture:V(t.onFocusCapture,S.onFocusCapture),onBlurCapture:V(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:V(t.onPointerDownCapture,C.onPointerDownCapture)})});ul.displayName=yP;var xP="DismissableLayerBranch",kx=m.forwardRef((t,e)=>{const n=m.useContext(Px),r=m.useRef(null),s=xe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(te.div,{...t,ref:s})});kx.displayName=xP;function EP(t,e=globalThis==null?void 0:globalThis.document){const n=Kt(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Rx(_P,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function CP(t,e=globalThis==null?void 0:globalThis.document){const n=Kt(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&Rx(wP,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ny(){const t=new CustomEvent(Ph);document.dispatchEvent(t)}function Rx(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Nx(s,i):s.dispatchEvent(i)}var SP=ul,bP=kx,Ze=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},TP="Portal",Hu=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);Ze(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Sx.createPortal(h.jsx(te.div,{...r,ref:e}),o):null});Hu.displayName=TP;function IP(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var ni=t=>{const{present:e,children:n}=t,r=NP(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=xe(r.ref,PP(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};ni.displayName="Presence";function NP(t){const[e,n]=m.useState(),r=m.useRef(null),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=IP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Hl(r.current);i.current=a==="mounted"?c:"none"},[a]),Ze(()=>{const c=r.current,u=s.current;if(u!==t){const f=i.current,p=Hl(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Ze(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=p=>{const v=Hl(r.current).includes(p.animationName);if(p.target===e&&v&&(l("ANIMATION_END"),!s.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},f=p=>{p.target===e&&(i.current=Hl(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Hl(t){return(t==null?void 0:t.animationName)||"none"}function PP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var kP=xp[" useInsertionEffect ".trim().toString()]||Ze;function lo({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=RP({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const u=m.useRef(t!==void 0);m.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=m.useCallback(u=>{var d;if(a){const f=AP(u)?u(t):u;f!==t&&((d=o.current)==null||d.call(o,f))}else i(u)},[a,t,i,o]);return[l,c]}function RP({defaultProp:t,onChange:e}){const[n,r]=m.useState(t),s=m.useRef(n),i=m.useRef(e);return kP(()=>{i.current=e},[e]),m.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function AP(t){return typeof t=="function"}var Ax=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),OP="VisuallyHidden",Gu=m.forwardRef((t,e)=>h.jsx(te.span,{...t,ref:e,style:{...Ax,...t.style}}));Gu.displayName=OP;var DP=Gu,hm="ToastProvider",[pm,MP,LP]=fm("Toast"),[Ox,u6]=ls("Toast",[LP]),[jP,Ku]=Ox(hm),Dx=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,u]=m.useState(0),d=m.useRef(!1),f=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${hm}\`. Expected non-empty \`string\`.`),h.jsx(pm.Provider,{scope:e,children:h.jsx(jP,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>u(p=>p+1),[]),onToastRemove:m.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};Dx.displayName=hm;var Mx="ToastViewport",FP=["F8"],kh="toast.viewportPause",Rh="toast.viewportResume",Lx=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=FP,label:s="Notifications ({hotkey})",...i}=t,o=Ku(Mx,n),a=MP(n),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=xe(e,d,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;m.useEffect(()=>{const _=g=>{var w;r.length!==0&&r.every(E=>g[E]||g.code===E)&&((w=d.current)==null||w.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),m.useEffect(()=>{const _=l.current,g=d.current;if(x&&_&&g){const y=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(kh);g.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Rh);g.dispatchEvent(S),o.isClosePausedRef.current=!1}},E=S=>{!_.contains(S.relatedTarget)&&w()},C=()=>{_.contains(document.activeElement)||w()};return _.addEventListener("focusin",y),_.addEventListener("focusout",E),_.addEventListener("pointermove",y),_.addEventListener("pointerleave",C),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{_.removeEventListener("focusin",y),_.removeEventListener("focusout",E),_.removeEventListener("pointermove",y),_.removeEventListener("pointerleave",C),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const v=m.useCallback(({tabbingDirection:_})=>{const y=a().map(w=>{const E=w.ref.current,C=[E,...XP(E)];return _==="forwards"?C:C.reverse()});return(_==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const _=d.current;if(_){const g=y=>{var C,S,b;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const T=document.activeElement,A=y.shiftKey;if(y.target===_&&A){(C=c.current)==null||C.focus();return}const L=v({tabbingDirection:A?"backwards":"forwards"}),H=L.findIndex(M=>M===T);af(L.slice(H+1))?y.preventDefault():A?(S=c.current)==null||S.focus():(b=u.current)==null||b.focus()}};return _.addEventListener("keydown",g),()=>_.removeEventListener("keydown",g)}},[a,v]),h.jsxs(bP,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&h.jsx(Ah,{ref:c,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"forwards"});af(_)}}),h.jsx(pm.Slot,{scope:n,children:h.jsx(te.ol,{tabIndex:-1,...i,ref:f})}),x&&h.jsx(Ah,{ref:u,onFocusFromOutsideViewport:()=>{const _=v({tabbingDirection:"backwards"});af(_)}})]})});Lx.displayName=Mx;var jx="ToastFocusProxy",Ah=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Ku(jx,n);return h.jsx(Gu,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Ah.displayName=jx;var dl="Toast",UP="toast.swipeStart",$P="toast.swipeMove",zP="toast.swipeCancel",BP="toast.swipeEnd",Fx=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=lo({prop:r,defaultProp:s??!0,onChange:i,caller:dl});return h.jsx(ni,{present:n||a,children:h.jsx(HP,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Kt(t.onPause),onResume:Kt(t.onResume),onSwipeStart:V(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:V(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:V(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:V(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});Fx.displayName=dl;var[WP,VP]=Ox(dl,{onClose(){}}),HP=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:p,...x}=t,v=Ku(dl,n),[_,g]=m.useState(null),y=xe(e,M=>g(M)),w=m.useRef(null),E=m.useRef(null),C=s||v.duration,S=m.useRef(0),b=m.useRef(C),T=m.useRef(0),{onToastAdd:A,onToastRemove:R}=v,z=Kt(()=>{var q;(_==null?void 0:_.contains(document.activeElement))&&((q=v.viewport)==null||q.focus()),o()}),L=m.useCallback(M=>{!M||M===1/0||(window.clearTimeout(T.current),S.current=new Date().getTime(),T.current=window.setTimeout(z,M))},[z]);m.useEffect(()=>{const M=v.viewport;if(M){const q=()=>{L(b.current),c==null||c()},U=()=>{const W=new Date().getTime()-S.current;b.current=b.current-W,window.clearTimeout(T.current),l==null||l()};return M.addEventListener(kh,U),M.addEventListener(Rh,q),()=>{M.removeEventListener(kh,U),M.removeEventListener(Rh,q)}}},[v.viewport,C,l,c,L]),m.useEffect(()=>{i&&!v.isClosePausedRef.current&&L(C)},[i,C,v.isClosePausedRef,L]),m.useEffect(()=>(A(),()=>R()),[A,R]);const H=m.useMemo(()=>_?Hx(_):null,[_]);return v.viewport?h.jsxs(h.Fragment,{children:[H&&h.jsx(GP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),h.jsx(WP,{scope:n,onClose:z,children:ti.createPortal(h.jsx(pm.ItemSlot,{scope:n,children:h.jsx(SP,{asChild:!0,onEscapeKeyDown:V(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||z(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:V(t.onKeyDown,M=>{M.key==="Escape"&&(a==null||a(M.nativeEvent),M.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:V(t.onPointerDown,M=>{M.button===0&&(w.current={x:M.clientX,y:M.clientY})}),onPointerMove:V(t.onPointerMove,M=>{if(!w.current)return;const q=M.clientX-w.current.x,U=M.clientY-w.current.y,W=!!E.current,I=["left","right"].includes(v.swipeDirection),P=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,j=I?P(0,q):0,Q=I?0:P(0,U),B=M.pointerType==="touch"?10:2,Z={x:j,y:Q},Y={originalEvent:M,delta:Z};W?(E.current=Z,Gl($P,d,Y,{discrete:!1})):ry(Z,v.swipeDirection,B)?(E.current=Z,Gl(UP,u,Y,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(q)>B||Math.abs(U)>B)&&(w.current=null)}),onPointerUp:V(t.onPointerUp,M=>{const q=E.current,U=M.target;if(U.hasPointerCapture(M.pointerId)&&U.releasePointerCapture(M.pointerId),E.current=null,w.current=null,q){const W=M.currentTarget,I={originalEvent:M,delta:q};ry(q,v.swipeDirection,v.swipeThreshold)?Gl(BP,p,I,{discrete:!0}):Gl(zP,f,I,{discrete:!0}),W.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),GP=t=>{const{__scopeToast:e,children:n,...r}=t,s=Ku(dl,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return QP(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:h.jsx(Hu,{asChild:!0,children:h.jsx(Gu,{...r,children:i&&h.jsxs(h.Fragment,{children:[s.label," ",n]})})})},KP="ToastTitle",Ux=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(te.div,{...r,ref:e})});Ux.displayName=KP;var qP="ToastDescription",$x=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(te.div,{...r,ref:e})});$x.displayName=qP;var zx="ToastAction",Bx=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(Vx,{altText:n,asChild:!0,children:h.jsx(mm,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${zx}\`. Expected non-empty \`string\`.`),null)});Bx.displayName=zx;var Wx="ToastClose",mm=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=VP(Wx,n);return h.jsx(Vx,{asChild:!0,children:h.jsx(te.button,{type:"button",...r,ref:e,onClick:V(t.onClick,s.onClose)})})});mm.displayName=Wx;var Vx=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return h.jsx(te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Hx(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),YP(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Hx(r))}}),e}function Gl(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Nx(s,i):s.dispatchEvent(i)}var ry=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function QP(t=()=>{}){const e=Kt(t);Ze(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function YP(t){return t.nodeType===t.ELEMENT_NODE}function XP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function af(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var JP=Dx,Gx=Lx,Kx=Fx,qx=Ux,Qx=$x,Yx=Bx,Xx=mm;function Jx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Jx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Zx(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Jx(t))&&(r&&(r+=" "),r+=e);return r}const sy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,iy=Zx,qu=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return iy(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const f=sy(u)||sy(d);return s[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...p}=u;return Object.entries(p).every(x=>{let[v,_]=x;return Array.isArray(_)?_.includes({...i,...a}[v]):{...i,...a}[v]===_})?[...c,d,f]:c},[]);return iy(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ek={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...ek,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:eE("lucide",s),...a},[...o.map(([c,u])=>m.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(tk,{ref:i,iconNode:e,className:eE(`lucide-${ZP(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=et("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=et("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=et("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=et("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=et("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=et("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=et("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=et("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=et("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=et("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=et("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=et("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=et("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=et("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vm="-",ck=t=>{const e=dk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(vm);return a[0]===""&&a.length!==1&&a.shift(),cE(a,e)||uk(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},cE=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?cE(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(vm);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},oy=/^\[(.+)\]$/,uk=t=>{if(oy.test(t)){const e=oy.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},dk=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return hk(Object.entries(t.classGroups),n).forEach(([i,o])=>{Oh(o,r,i,e)}),r},Oh=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:ay(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(fk(s)){Oh(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Oh(o,ay(e,i),n,r)})})},ay=(t,e)=>{let n=t;return e.split(vm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},fk=t=>t.isThemeGetter,hk=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,pk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},uE="!",mk=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let _=0;_<a.length;_++){let g=a[_];if(c===0){if(g===s&&(r||a.slice(_,_+i)===e)){l.push(a.slice(u,_)),u=_+i;continue}if(g==="/"){d=_;continue}}g==="["?c++:g==="]"&&c--}const f=l.length===0?a:a.substring(u),p=f.startsWith(uE),x=p?f.substring(1):f,v=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},gk=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},vk=t=>({cache:pk(t.cacheSize),parseClassName:mk(t),...ck(t)}),yk=/\s+/,_k=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(yk);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:p}=n(c);let x=!!p,v=r(x?f.substring(0,p):f);if(!v){if(!x){a=c+(a.length>0?" "+a:a);continue}if(v=r(f),!v){a=c+(a.length>0?" "+a:a);continue}x=!1}const _=gk(u).join(":"),g=d?_+uE:_,y=g+v;if(i.includes(y))continue;i.push(y);const w=s(v,x);for(let E=0;E<w.length;++E){const C=w[E];i.push(g+C)}a=c+(a.length>0?" "+a:a)}return a};function wk(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=dE(e))&&(r&&(r+=" "),r+=n);return r}const dE=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=dE(t[r]))&&(n&&(n+=" "),n+=e);return n};function xk(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=vk(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=_k(l,n);return s(l,u),u}return function(){return i(wk.apply(null,arguments))}}const Ce=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},fE=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ek=/^\d+\/\d+$/,Ck=new Set(["px","full","screen"]),Sk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Tk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ik=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Nk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Un=t=>Fi(t)||Ck.has(t)||Ek.test(t),mr=t=>xo(t,"length",Lk),Fi=t=>!!t&&!Number.isNaN(Number(t)),lf=t=>xo(t,"number",Fi),Ho=t=>!!t&&Number.isInteger(Number(t)),Pk=t=>t.endsWith("%")&&Fi(t.slice(0,-1)),ee=t=>fE.test(t),gr=t=>Sk.test(t),kk=new Set(["length","size","percentage"]),Rk=t=>xo(t,kk,hE),Ak=t=>xo(t,"position",hE),Ok=new Set(["image","url"]),Dk=t=>xo(t,Ok,Fk),Mk=t=>xo(t,"",jk),Go=()=>!0,xo=(t,e,n)=>{const r=fE.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Lk=t=>bk.test(t)&&!Tk.test(t),hE=()=>!1,jk=t=>Ik.test(t),Fk=t=>Nk.test(t),Uk=()=>{const t=Ce("colors"),e=Ce("spacing"),n=Ce("blur"),r=Ce("brightness"),s=Ce("borderColor"),i=Ce("borderRadius"),o=Ce("borderSpacing"),a=Ce("borderWidth"),l=Ce("contrast"),c=Ce("grayscale"),u=Ce("hueRotate"),d=Ce("invert"),f=Ce("gap"),p=Ce("gradientColorStops"),x=Ce("gradientColorStopPositions"),v=Ce("inset"),_=Ce("margin"),g=Ce("opacity"),y=Ce("padding"),w=Ce("saturate"),E=Ce("scale"),C=Ce("sepia"),S=Ce("skew"),b=Ce("space"),T=Ce("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",ee,e],L=()=>[ee,e],H=()=>["",Un,mr],M=()=>["auto",Fi,ee],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",ee],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Fi,ee];return{cacheSize:500,separator:":",theme:{colors:[Go],spacing:[Un,mr],blur:["none","",gr,ee],brightness:Q(),borderColor:[t],borderRadius:["none","","full",gr,ee],borderSpacing:L(),borderWidth:H(),contrast:Q(),grayscale:P(),hueRotate:Q(),invert:P(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[Pk,mr],inset:z(),margin:z(),opacity:Q(),padding:L(),saturate:Q(),scale:Q(),sepia:P(),skew:Q(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",ee]}],container:["container"],columns:[{columns:[gr]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),ee]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ho,ee]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ee]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Ho,ee]}],"grid-cols":[{"grid-cols":[Go]}],"col-start-end":[{col:["auto",{span:["full",Ho,ee]},ee]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Go]}],"row-start-end":[{row:["auto",{span:[Ho,ee]},ee]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ee]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ee,e]}],"min-w":[{"min-w":[ee,e,"min","max","fit"]}],"max-w":[{"max-w":[ee,e,"none","full","min","max","fit","prose",{screen:[gr]},gr]}],h:[{h:[ee,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ee,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ee,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ee,e,"auto","min","max","fit"]}],"font-size":[{text:["base",gr,mr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",lf]}],"font-family":[{font:[Go]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ee]}],"line-clamp":[{"line-clamp":["none",Fi,lf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Un,ee]}],"list-image":[{"list-image":["none",ee]}],"list-style-type":[{list:["none","disc","decimal",ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Un,mr]}],"underline-offset":[{"underline-offset":["auto",Un,ee]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),Ak]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Rk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Dk]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Un,ee]}],"outline-w":[{outline:[Un,mr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Un,mr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",gr,Mk]}],"shadow-color":[{shadow:[Go]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",gr,ee]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ee]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ee]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Ho,ee]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ee]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Un,mr,lf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},$k=xk(Uk);function oe(...t){return $k(Zx(t))}const zk=JP,pE=m.forwardRef(({className:t,...e},n)=>h.jsx(Gx,{ref:n,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));pE.displayName=Gx.displayName;const Bk=qu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),mE=m.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(Kx,{ref:r,className:oe(Bk({variant:e}),t),...n}));mE.displayName=Kx.displayName;const Wk=m.forwardRef(({className:t,...e},n)=>h.jsx(Yx,{ref:n,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));Wk.displayName=Yx.displayName;const gE=m.forwardRef(({className:t,...e},n)=>h.jsx(Xx,{ref:n,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(lE,{className:"h-4 w-4"})}));gE.displayName=Xx.displayName;const vE=m.forwardRef(({className:t,...e},n)=>h.jsx(qx,{ref:n,className:oe("text-sm font-semibold",t),...e}));vE.displayName=qx.displayName;const yE=m.forwardRef(({className:t,...e},n)=>h.jsx(Qx,{ref:n,className:oe("text-sm opacity-90",t),...e}));yE.displayName=Qx.displayName;function Vk(){const{toasts:t}=aP();return h.jsxs(zk,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return h.jsxs(mE,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(vE,{children:n}),r&&h.jsx(yE,{children:r})]}),s,h.jsx(gE,{})]},e)}),h.jsx(pE,{})]})}var ly=["light","dark"],Hk="(prefers-color-scheme: dark)",Gk=m.createContext(void 0),Kk={setTheme:t=>{},themes:[]},qk=()=>{var t;return(t=m.useContext(Gk))!=null?t:Kk};m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=s?ly.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(x,v=!1,_=!0)=>{let g=o?o[x]:x,y=v?x+"|| ''":`'${g}'`,w="";return s&&_&&!v&&ly.includes(x)&&(w+=`d.style.colorScheme = '${x}';`),n==="class"?v||g?w+=`c.add(${y})`:w+="null":g&&(w+=`d[s](n,${y})`),w},p=t?`!function(){${u}${f(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${Hk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${c?"":"else{"+f(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${d}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var Qk=t=>{switch(t){case"success":return Jk;case"info":return eR;case"warning":return Zk;case"error":return tR;default:return null}},Yk=Array(12).fill(0),Xk=({visible:t,className:e})=>O.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},O.createElement("div",{className:"sonner-spinner"},Yk.map((n,r)=>O.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Jk=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Zk=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eR=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tR=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nR=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},O.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),O.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),rR=()=>{let[t,e]=O.useState(document.hidden);return O.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Dh=1,sR=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Dh++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],O.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(oR(l)&&!l.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Dh++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},yt=new sR,iR=(t,e)=>{let n=(e==null?void 0:e.id)||Dh++;return yt.addToast({title:t,...e,id:n}),n},oR=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",aR=iR,lR=()=>yt.toasts,cR=()=>yt.getActiveToasts(),Fe=Object.assign(aR,{success:yt.success,info:yt.info,warning:yt.warning,error:yt.error,custom:yt.custom,message:yt.message,promise:yt.promise,dismiss:yt.dismiss,loading:yt.loading},{getHistory:lR,getToasts:cR});function uR(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}uR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Kl(t){return t.label!==void 0}var dR=3,fR="32px",hR="16px",cy=4e3,pR=356,mR=14,gR=20,vR=200;function Jt(...t){return t.filter(Boolean).join(" ")}function yR(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var _R=t=>{var e,n,r,s,i,o,a,l,c,u,d;let{invert:f,toast:p,unstyled:x,interacting:v,setHeights:_,visibleToasts:g,heights:y,index:w,toasts:E,expanded:C,removeToast:S,defaultRichColors:b,closeButton:T,style:A,cancelButtonStyle:R,actionButtonStyle:z,className:L="",descriptionClassName:H="",duration:M,position:q,gap:U,loadingIcon:W,expandByDefault:I,classNames:P,icons:j,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:B}=t,[Z,Y]=O.useState(null),[Ee,Ae]=O.useState(null),[F,he]=O.useState(!1),[Oe,fe]=O.useState(!1),[ae,ce]=O.useState(!1),[tt,Ft]=O.useState(!1),[ms,ur]=O.useState(!1),[gs,Mo]=O.useState(0),[ai,jg]=O.useState(0),Lo=O.useRef(p.duration||M||cy),Fg=O.useRef(null),vs=O.useRef(null),xT=w===0,ET=w+1<=g,Ut=p.type,li=p.dismissible!==!1,CT=p.className||"",ST=p.descriptionClassName||"",Tl=O.useMemo(()=>y.findIndex(X=>X.toastId===p.id)||0,[y,p.id]),bT=O.useMemo(()=>{var X;return(X=p.closeButton)!=null?X:T},[p.closeButton,T]),Ug=O.useMemo(()=>p.duration||M||cy,[p.duration,M]),Pd=O.useRef(0),ci=O.useRef(0),$g=O.useRef(0),ui=O.useRef(null),[TT,IT]=q.split("-"),zg=O.useMemo(()=>y.reduce((X,me,Ie)=>Ie>=Tl?X:X+me.height,0),[y,Tl]),Bg=rR(),NT=p.invert||f,kd=Ut==="loading";ci.current=O.useMemo(()=>Tl*U+zg,[Tl,zg]),O.useEffect(()=>{Lo.current=Ug},[Ug]),O.useEffect(()=>{he(!0)},[]),O.useEffect(()=>{let X=vs.current;if(X){let me=X.getBoundingClientRect().height;return jg(me),_(Ie=>[{toastId:p.id,height:me,position:p.position},...Ie]),()=>_(Ie=>Ie.filter(qt=>qt.toastId!==p.id))}},[_,p.id]),O.useLayoutEffect(()=>{if(!F)return;let X=vs.current,me=X.style.height;X.style.height="auto";let Ie=X.getBoundingClientRect().height;X.style.height=me,jg(Ie),_(qt=>qt.find(Qt=>Qt.toastId===p.id)?qt.map(Qt=>Qt.toastId===p.id?{...Qt,height:Ie}:Qt):[{toastId:p.id,height:Ie,position:p.position},...qt])},[F,p.title,p.description,_,p.id]);let dr=O.useCallback(()=>{fe(!0),Mo(ci.current),_(X=>X.filter(me=>me.toastId!==p.id)),setTimeout(()=>{S(p)},vR)},[p,S,_,ci]);O.useEffect(()=>{if(p.promise&&Ut==="loading"||p.duration===1/0||p.type==="loading")return;let X;return C||v||B&&Bg?(()=>{if($g.current<Pd.current){let me=new Date().getTime()-Pd.current;Lo.current=Lo.current-me}$g.current=new Date().getTime()})():Lo.current!==1/0&&(Pd.current=new Date().getTime(),X=setTimeout(()=>{var me;(me=p.onAutoClose)==null||me.call(p,p),dr()},Lo.current)),()=>clearTimeout(X)},[C,v,p,Ut,B,Bg,dr]),O.useEffect(()=>{p.delete&&dr()},[dr,p.delete]);function PT(){var X,me,Ie;return j!=null&&j.loading?O.createElement("div",{className:Jt(P==null?void 0:P.loader,(X=p==null?void 0:p.classNames)==null?void 0:X.loader,"sonner-loader"),"data-visible":Ut==="loading"},j.loading):W?O.createElement("div",{className:Jt(P==null?void 0:P.loader,(me=p==null?void 0:p.classNames)==null?void 0:me.loader,"sonner-loader"),"data-visible":Ut==="loading"},W):O.createElement(Xk,{className:Jt(P==null?void 0:P.loader,(Ie=p==null?void 0:p.classNames)==null?void 0:Ie.loader),visible:Ut==="loading"})}return O.createElement("li",{tabIndex:0,ref:vs,className:Jt(L,CT,P==null?void 0:P.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,P==null?void 0:P.default,P==null?void 0:P[Ut],(n=p==null?void 0:p.classNames)==null?void 0:n[Ut]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:b,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":F,"data-promise":!!p.promise,"data-swiped":ms,"data-removed":Oe,"data-visible":ET,"data-y-position":TT,"data-x-position":IT,"data-index":w,"data-front":xT,"data-swiping":ae,"data-dismissible":li,"data-type":Ut,"data-invert":NT,"data-swipe-out":tt,"data-swipe-direction":Ee,"data-expanded":!!(C||I&&F),style:{"--index":w,"--toasts-before":w,"--z-index":E.length-w,"--offset":`${Oe?gs:ci.current}px`,"--initial-height":I?"auto":`${ai}px`,...A,...p.style},onDragEnd:()=>{ce(!1),Y(null),ui.current=null},onPointerDown:X=>{kd||!li||(Fg.current=new Date,Mo(ci.current),X.target.setPointerCapture(X.pointerId),X.target.tagName!=="BUTTON"&&(ce(!0),ui.current={x:X.clientX,y:X.clientY}))},onPointerUp:()=>{var X,me,Ie,qt;if(tt||!li)return;ui.current=null;let Qt=Number(((X=vs.current)==null?void 0:X.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),fr=Number(((me=vs.current)==null?void 0:me.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ys=new Date().getTime()-((Ie=Fg.current)==null?void 0:Ie.getTime()),Yt=Z==="x"?Qt:fr,hr=Math.abs(Yt)/ys;if(Math.abs(Yt)>=gR||hr>.11){Mo(ci.current),(qt=p.onDismiss)==null||qt.call(p,p),Ae(Z==="x"?Qt>0?"right":"left":fr>0?"down":"up"),dr(),Ft(!0),ur(!1);return}ce(!1),Y(null)},onPointerMove:X=>{var me,Ie,qt,Qt;if(!ui.current||!li||((me=window.getSelection())==null?void 0:me.toString().length)>0)return;let fr=X.clientY-ui.current.y,ys=X.clientX-ui.current.x,Yt=(Ie=t.swipeDirections)!=null?Ie:yR(q);!Z&&(Math.abs(ys)>1||Math.abs(fr)>1)&&Y(Math.abs(ys)>Math.abs(fr)?"x":"y");let hr={x:0,y:0};Z==="y"?(Yt.includes("top")||Yt.includes("bottom"))&&(Yt.includes("top")&&fr<0||Yt.includes("bottom")&&fr>0)&&(hr.y=fr):Z==="x"&&(Yt.includes("left")||Yt.includes("right"))&&(Yt.includes("left")&&ys<0||Yt.includes("right")&&ys>0)&&(hr.x=ys),(Math.abs(hr.x)>0||Math.abs(hr.y)>0)&&ur(!0),(qt=vs.current)==null||qt.style.setProperty("--swipe-amount-x",`${hr.x}px`),(Qt=vs.current)==null||Qt.style.setProperty("--swipe-amount-y",`${hr.y}px`)}},bT&&!p.jsx?O.createElement("button",{"aria-label":Q,"data-disabled":kd,"data-close-button":!0,onClick:kd||!li?()=>{}:()=>{var X;dr(),(X=p.onDismiss)==null||X.call(p,p)},className:Jt(P==null?void 0:P.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=j==null?void 0:j.close)!=null?i:nR):null,p.jsx||m.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:O.createElement(O.Fragment,null,Ut||p.icon||p.promise?O.createElement("div",{"data-icon":"",className:Jt(P==null?void 0:P.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||PT():null,p.type!=="loading"?p.icon||(j==null?void 0:j[Ut])||Qk(Ut):null):null,O.createElement("div",{"data-content":"",className:Jt(P==null?void 0:P.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},O.createElement("div",{"data-title":"",className:Jt(P==null?void 0:P.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?O.createElement("div",{"data-description":"",className:Jt(H,ST,P==null?void 0:P.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),m.isValidElement(p.cancel)?p.cancel:p.cancel&&Kl(p.cancel)?O.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||R,onClick:X=>{var me,Ie;Kl(p.cancel)&&li&&((Ie=(me=p.cancel).onClick)==null||Ie.call(me,X),dr())},className:Jt(P==null?void 0:P.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,m.isValidElement(p.action)?p.action:p.action&&Kl(p.action)?O.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||z,onClick:X=>{var me,Ie;Kl(p.action)&&((Ie=(me=p.action).onClick)==null||Ie.call(me,X),!X.defaultPrevented&&dr())},className:Jt(P==null?void 0:P.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function uy(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function wR(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?hR:fR;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var xR=m.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:f,style:p,visibleToasts:x=dR,toastOptions:v,dir:_=uy(),gap:g=mR,loadingIcon:y,icons:w,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:C}=t,[S,b]=O.useState([]),T=O.useMemo(()=>Array.from(new Set([r].concat(S.filter(B=>B.position).map(B=>B.position)))),[S,r]),[A,R]=O.useState([]),[z,L]=O.useState(!1),[H,M]=O.useState(!1),[q,U]=O.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=O.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=O.useRef(null),j=O.useRef(!1),Q=O.useCallback(B=>{b(Z=>{var Y;return(Y=Z.find(Ee=>Ee.id===B.id))!=null&&Y.delete||yt.dismiss(B.id),Z.filter(({id:Ee})=>Ee!==B.id)})},[]);return O.useEffect(()=>yt.subscribe(B=>{if(B.dismiss){b(Z=>Z.map(Y=>Y.id===B.id?{...Y,delete:!0}:Y));return}setTimeout(()=>{Sx.flushSync(()=>{b(Z=>{let Y=Z.findIndex(Ee=>Ee.id===B.id);return Y!==-1?[...Z.slice(0,Y),{...Z[Y],...B},...Z.slice(Y+1)]:[B,...Z]})})})}),[]),O.useEffect(()=>{if(u!=="system"){U(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:Z})=>{U(Z?"dark":"light")})}catch{B.addListener(({matches:Y})=>{try{U(Y?"dark":"light")}catch(Ee){console.error(Ee)}})}},[u]),O.useEffect(()=>{S.length<=1&&L(!1)},[S]),O.useEffect(()=>{let B=Z=>{var Y,Ee;s.every(Ae=>Z[Ae]||Z.code===Ae)&&(L(!0),(Y=W.current)==null||Y.focus()),Z.code==="Escape"&&(document.activeElement===W.current||(Ee=W.current)!=null&&Ee.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[s]),O.useEffect(()=>{if(W.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,j.current=!1)}},[W.current]),O.createElement("section",{ref:e,"aria-label":`${E} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((B,Z)=>{var Y;let[Ee,Ae]=B.split("-");return S.length?O.createElement("ol",{key:B,dir:_==="auto"?uy():_,tabIndex:-1,ref:W,className:a,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":Ee,"data-lifted":z&&S.length>1&&!i,"data-x-position":Ae,style:{"--front-toast-height":`${((Y=A[0])==null?void 0:Y.height)||0}px`,"--width":`${pR}px`,"--gap":`${g}px`,...p,...wR(l,c)},onBlur:F=>{j.current&&!F.currentTarget.contains(F.relatedTarget)&&(j.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:F=>{F.target instanceof HTMLElement&&F.target.dataset.dismissible==="false"||j.current||(j.current=!0,P.current=F.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{H||L(!1)},onDragEnd:()=>L(!1),onPointerDown:F=>{F.target instanceof HTMLElement&&F.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},S.filter(F=>!F.position&&Z===0||F.position===B).map((F,he)=>{var Oe,fe;return O.createElement(_R,{key:F.id,icons:w,index:he,toast:F,defaultRichColors:d,duration:(Oe=v==null?void 0:v.duration)!=null?Oe:f,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:x,closeButton:(fe=v==null?void 0:v.closeButton)!=null?fe:o,interacting:H,position:B,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:Q,toasts:S.filter(ae=>ae.position==F.position),heights:A.filter(ae=>ae.position==F.position),setHeights:R,expandByDefault:i,gap:g,loadingIcon:y,expanded:z,pauseWhenPageIsHidden:C,swipeDirections:t.swipeDirections})})):null}))});const ER=({...t})=>{const{theme:e="system"}=qk();return h.jsx(xR,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var CR=xp[" useId ".trim().toString()]||(()=>{}),SR=0;function Vr(t){const[e,n]=m.useState(CR());return Ze(()=>{t||n(r=>r??String(SR++))},[t]),t||(e?`radix-${e}`:"")}const bR=["top","right","bottom","left"],es=Math.min,Rt=Math.max,Xc=Math.round,ql=Math.floor,On=t=>({x:t,y:t}),TR={left:"right",right:"left",bottom:"top",top:"bottom"},IR={start:"end",end:"start"};function Mh(t,e,n){return Rt(t,es(e,n))}function nr(t,e){return typeof t=="function"?t(e):t}function rr(t){return t.split("-")[0]}function Eo(t){return t.split("-")[1]}function ym(t){return t==="x"?"y":"x"}function _m(t){return t==="y"?"height":"width"}const NR=new Set(["top","bottom"]);function kn(t){return NR.has(rr(t))?"y":"x"}function wm(t){return ym(kn(t))}function PR(t,e,n){n===void 0&&(n=!1);const r=Eo(t),s=wm(t),i=_m(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Jc(o)),[o,Jc(o)]}function kR(t){const e=Jc(t);return[Lh(t),e,Lh(e)]}function Lh(t){return t.replace(/start|end/g,e=>IR[e])}const dy=["left","right"],fy=["right","left"],RR=["top","bottom"],AR=["bottom","top"];function OR(t,e,n){switch(t){case"top":case"bottom":return n?e?fy:dy:e?dy:fy;case"left":case"right":return e?RR:AR;default:return[]}}function DR(t,e,n,r){const s=Eo(t);let i=OR(rr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Lh)))),i}function Jc(t){return t.replace(/left|right|bottom|top/g,e=>TR[e])}function MR(t){return{top:0,right:0,bottom:0,left:0,...t}}function _E(t){return typeof t!="number"?MR(t):{top:t,right:t,bottom:t,left:t}}function Zc(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function hy(t,e,n){let{reference:r,floating:s}=t;const i=kn(e),o=wm(e),a=_m(o),l=rr(e),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-s.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Eo(e)){case"start":p[o]-=f*(n&&c?-1:1);break;case"end":p[o]+=f*(n&&c?-1:1);break}return p}const LR=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=hy(c,r,l),f=r,p={},x=0;for(let v=0;v<a.length;v++){const{name:_,fn:g}=a[v],{x:y,y:w,data:E,reset:C}=await g({x:u,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,d=w??d,p={...p,[_]:{...p[_],...E}},C&&x<=50&&(x++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:u,y:d}=hy(c,f,l)),v=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:p}};async function Fa(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=nr(e,t),x=_E(p),_=a[f?d==="floating"?"reference":"floating":d],g=Zc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},C=Zc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(g.top-C.top+x.top)/E.y,bottom:(C.bottom-g.bottom+x.bottom)/E.y,left:(g.left-C.left+x.left)/E.x,right:(C.right-g.right+x.right)/E.x}}const jR=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=nr(t,e)||{};if(c==null)return{};const d=_E(u),f={x:n,y:r},p=wm(s),x=_m(p),v=await o.getDimensions(c),_=p==="y",g=_?"top":"left",y=_?"bottom":"right",w=_?"clientHeight":"clientWidth",E=i.reference[x]+i.reference[p]-f[p]-i.floating[x],C=f[p]-i.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let b=S?S[w]:0;(!b||!await(o.isElement==null?void 0:o.isElement(S)))&&(b=a.floating[w]||i.floating[x]);const T=E/2-C/2,A=b/2-v[x]/2-1,R=es(d[g],A),z=es(d[y],A),L=R,H=b-v[x]-z,M=b/2-v[x]/2+T,q=Mh(L,M,H),U=!l.arrow&&Eo(s)!=null&&M!==q&&i.reference[x]/2-(M<L?R:z)-v[x]/2<0,W=U?M<L?M-L:M-H:0;return{[p]:f[p]+W,data:{[p]:q,centerOffset:M-q-W,...U&&{alignmentOffset:W}},reset:U}}}),FR=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,..._}=nr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const g=rr(s),y=kn(a),w=rr(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=f||(w||!v?[Jc(a)]:kR(a)),S=x!=="none";!f&&S&&C.push(...DR(a,v,x,E));const b=[a,...C],T=await Fa(e,_),A=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&A.push(T[g]),d){const M=PR(s,o,E);A.push(T[M[0]],T[M[1]])}if(R=[...R,{placement:s,overflows:A}],!A.every(M=>M<=0)){var z,L;const M=(((z=i.flip)==null?void 0:z.index)||0)+1,q=b[M];if(q&&(!(d==="alignment"?y!==kn(q):!1)||R.every(I=>I.overflows[0]>0&&kn(I.placement)===y)))return{data:{index:M,overflows:R},reset:{placement:q}};let U=(L=R.filter(W=>W.overflows[0]<=0).sort((W,I)=>W.overflows[1]-I.overflows[1])[0])==null?void 0:L.placement;if(!U)switch(p){case"bestFit":{var H;const W=(H=R.filter(I=>{if(S){const P=kn(I.placement);return P===y||P==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(P=>P>0).reduce((P,j)=>P+j,0)]).sort((I,P)=>I[1]-P[1])[0])==null?void 0:H[0];W&&(U=W);break}case"initialPlacement":U=a;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function py(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function my(t){return bR.some(e=>t[e]>=0)}const UR=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=nr(t,e);switch(r){case"referenceHidden":{const i=await Fa(e,{...s,elementContext:"reference"}),o=py(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:my(o)}}}case"escaped":{const i=await Fa(e,{...s,altBoundary:!0}),o=py(i,n.floating);return{data:{escapedOffsets:o,escaped:my(o)}}}default:return{}}}}},wE=new Set(["left","top"]);async function $R(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=rr(n),a=Eo(n),l=kn(n)==="y",c=wE.has(o)?-1:1,u=i&&l?-1:1,d=nr(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof x=="number"&&(p=a==="end"?x*-1:x),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const zR=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await $R(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},BR=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:g,y}=_;return{x:g,y}}},...l}=nr(t,e),c={x:n,y:r},u=await Fa(e,l),d=kn(rr(s)),f=ym(d);let p=c[f],x=c[d];if(i){const _=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=p+u[_],w=p-u[g];p=Mh(y,p,w)}if(o){const _=d==="y"?"top":"left",g=d==="y"?"bottom":"right",y=x+u[_],w=x-u[g];x=Mh(y,x,w)}const v=a.fn({...e,[f]:p,[d]:x});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[f]:i,[d]:o}}}}}},WR=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=nr(t,e),u={x:n,y:r},d=kn(s),f=ym(d);let p=u[f],x=u[d];const v=nr(a,e),_=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const w=f==="y"?"height":"width",E=i.reference[f]-i.floating[w]+_.mainAxis,C=i.reference[f]+i.reference[w]-_.mainAxis;p<E?p=E:p>C&&(p=C)}if(c){var g,y;const w=f==="y"?"width":"height",E=wE.has(rr(s)),C=i.reference[d]-i.floating[w]+(E&&((g=o.offset)==null?void 0:g[d])||0)+(E?0:_.crossAxis),S=i.reference[d]+i.reference[w]+(E?0:((y=o.offset)==null?void 0:y[d])||0)-(E?_.crossAxis:0);x<C?x=C:x>S&&(x=S)}return{[f]:p,[d]:x}}}},VR=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=nr(t,e),u=await Fa(e,c),d=rr(s),f=Eo(s),p=kn(s)==="y",{width:x,height:v}=i.floating;let _,g;d==="top"||d==="bottom"?(_=d,g=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=d,_=f==="end"?"top":"bottom");const y=v-u.top-u.bottom,w=x-u.left-u.right,E=es(v-u[_],y),C=es(x-u[g],w),S=!e.middlewareData.shift;let b=E,T=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=y),S&&!f){const R=Rt(u.left,0),z=Rt(u.right,0),L=Rt(u.top,0),H=Rt(u.bottom,0);p?T=x-2*(R!==0||z!==0?R+z:Rt(u.left,u.right)):b=v-2*(L!==0||H!==0?L+H:Rt(u.top,u.bottom))}await l({...e,availableWidth:T,availableHeight:b});const A=await o.getDimensions(a.floating);return x!==A.width||v!==A.height?{reset:{rects:!0}}:{}}}};function Yu(){return typeof window<"u"}function Co(t){return xE(t)?(t.nodeName||"").toLowerCase():"#document"}function Dt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Fn(t){var e;return(e=(xE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function xE(t){return Yu()?t instanceof Node||t instanceof Dt(t).Node:!1}function vn(t){return Yu()?t instanceof Element||t instanceof Dt(t).Element:!1}function Ln(t){return Yu()?t instanceof HTMLElement||t instanceof Dt(t).HTMLElement:!1}function gy(t){return!Yu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Dt(t).ShadowRoot}const HR=new Set(["inline","contents"]);function fl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=yn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!HR.has(s)}const GR=new Set(["table","td","th"]);function KR(t){return GR.has(Co(t))}const qR=[":popover-open",":modal"];function Xu(t){return qR.some(e=>{try{return t.matches(e)}catch{return!1}})}const QR=["transform","translate","scale","rotate","perspective"],YR=["transform","translate","scale","rotate","perspective","filter"],XR=["paint","layout","strict","content"];function xm(t){const e=Em(),n=vn(t)?yn(t):t;return QR.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||YR.some(r=>(n.willChange||"").includes(r))||XR.some(r=>(n.contain||"").includes(r))}function JR(t){let e=ts(t);for(;Ln(e)&&!co(e);){if(xm(e))return e;if(Xu(e))return null;e=ts(e)}return null}function Em(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ZR=new Set(["html","body","#document"]);function co(t){return ZR.has(Co(t))}function yn(t){return Dt(t).getComputedStyle(t)}function Ju(t){return vn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ts(t){if(Co(t)==="html")return t;const e=t.assignedSlot||t.parentNode||gy(t)&&t.host||Fn(t);return gy(e)?e.host:e}function EE(t){const e=ts(t);return co(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ln(e)&&fl(e)?e:EE(e)}function Ua(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=EE(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Dt(s);if(i){const a=jh(o);return e.concat(o,o.visualViewport||[],fl(s)?s:[],a&&n?Ua(a):[])}return e.concat(s,Ua(s,[],n))}function jh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function CE(t){const e=yn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ln(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Xc(n)!==i||Xc(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Cm(t){return vn(t)?t:t.contextElement}function Ui(t){const e=Cm(t);if(!Ln(e))return On(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=CE(e);let o=(i?Xc(n.width):n.width)/r,a=(i?Xc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const eA=On(0);function SE(t){const e=Dt(t);return!Em()||!e.visualViewport?eA:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function tA(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Dt(t)?!1:e}function Bs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Cm(t);let o=On(1);e&&(r?vn(r)&&(o=Ui(r)):o=Ui(t));const a=tA(i,n,r)?SE(i):On(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const f=Dt(i),p=r&&vn(r)?Dt(r):r;let x=f,v=jh(x);for(;v&&r&&p!==x;){const _=Ui(v),g=v.getBoundingClientRect(),y=yn(v),w=g.left+(v.clientLeft+parseFloat(y.paddingLeft))*_.x,E=g.top+(v.clientTop+parseFloat(y.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=w,c+=E,x=Dt(v),v=jh(x)}}return Zc({width:u,height:d,x:l,y:c})}function Sm(t,e){const n=Ju(t).scrollLeft;return e?e.left+n:Bs(Fn(t)).left+n}function bE(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Sm(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function nA(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Fn(r),a=e?Xu(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=On(1);const u=On(0),d=Ln(r);if((d||!d&&!i)&&((Co(r)!=="body"||fl(o))&&(l=Ju(r)),Ln(r))){const p=Bs(r);c=Ui(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=o&&!d&&!i?bE(o,l,!0):On(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function rA(t){return Array.from(t.getClientRects())}function sA(t){const e=Fn(t),n=Ju(t),r=t.ownerDocument.body,s=Rt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Rt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Sm(t);const a=-n.scrollTop;return yn(r).direction==="rtl"&&(o+=Rt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function iA(t,e){const n=Dt(t),r=Fn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Em();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const oA=new Set(["absolute","fixed"]);function aA(t,e){const n=Bs(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ln(t)?Ui(t):On(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function vy(t,e,n){let r;if(e==="viewport")r=iA(t,n);else if(e==="document")r=sA(Fn(t));else if(vn(e))r=aA(e,n);else{const s=SE(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Zc(r)}function TE(t,e){const n=ts(t);return n===e||!vn(n)||co(n)?!1:yn(n).position==="fixed"||TE(n,e)}function lA(t,e){const n=e.get(t);if(n)return n;let r=Ua(t,[],!1).filter(a=>vn(a)&&Co(a)!=="body"),s=null;const i=yn(t).position==="fixed";let o=i?ts(t):t;for(;vn(o)&&!co(o);){const a=yn(o),l=xm(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&oA.has(s.position)||fl(o)&&!l&&TE(t,o))?r=r.filter(u=>u!==o):s=a,o=ts(o)}return e.set(t,r),r}function cA(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Xu(e)?[]:lA(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=vy(e,u,s);return c.top=Rt(d.top,c.top),c.right=es(d.right,c.right),c.bottom=es(d.bottom,c.bottom),c.left=Rt(d.left,c.left),c},vy(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function uA(t){const{width:e,height:n}=CE(t);return{width:e,height:n}}function dA(t,e,n){const r=Ln(e),s=Fn(e),i=n==="fixed",o=Bs(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=On(0);function c(){l.x=Sm(s)}if(r||!r&&!i)if((Co(e)!=="body"||fl(s))&&(a=Ju(e)),r){const p=Bs(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&c();i&&!r&&s&&c();const u=s&&!r&&!i?bE(s,a):On(0),d=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function cf(t){return yn(t).position==="static"}function yy(t,e){if(!Ln(t)||yn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Fn(t)===n&&(n=n.ownerDocument.body),n}function IE(t,e){const n=Dt(t);if(Xu(t))return n;if(!Ln(t)){let s=ts(t);for(;s&&!co(s);){if(vn(s)&&!cf(s))return s;s=ts(s)}return n}let r=yy(t,e);for(;r&&KR(r)&&cf(r);)r=yy(r,e);return r&&co(r)&&cf(r)&&!xm(r)?n:r||JR(t)||n}const fA=async function(t){const e=this.getOffsetParent||IE,n=this.getDimensions,r=await n(t.floating);return{reference:dA(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function hA(t){return yn(t).direction==="rtl"}const pA={convertOffsetParentRelativeRectToViewportRelativeRect:nA,getDocumentElement:Fn,getClippingRect:cA,getOffsetParent:IE,getElementRects:fA,getClientRects:rA,getDimensions:uA,getScale:Ui,isElement:vn,isRTL:hA};function NE(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function mA(t,e){let n=null,r;const s=Fn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=c;if(a||e(),!f||!p)return;const x=ql(d),v=ql(s.clientWidth-(u+f)),_=ql(s.clientHeight-(d+p)),g=ql(u),w={rootMargin:-x+"px "+-v+"px "+-_+"px "+-g+"px",threshold:Rt(0,es(1,l))||1};let E=!0;function C(S){const b=S[0].intersectionRatio;if(b!==l){if(!E)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!NE(c,t.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(C,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,w)}n.observe(t)}return o(!0),i}function gA(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Cm(t),u=s||i?[...c?Ua(c):[],...Ua(e)]:[];u.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),i&&g.addEventListener("resize",n)});const d=c&&a?mA(c,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(g=>{let[y]=g;y&&y.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let x,v=l?Bs(t):null;l&&_();function _(){const g=Bs(t);v&&!NE(v,g)&&n(),v=g,x=requestAnimationFrame(_)}return n(),()=>{var g;u.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),d==null||d(),(g=p)==null||g.disconnect(),p=null,l&&cancelAnimationFrame(x)}}const vA=zR,yA=BR,_A=FR,wA=VR,xA=UR,_y=jR,EA=WR,CA=(t,e,n)=>{const r=new Map,s={platform:pA,...n},i={...s.platform,_c:r};return LR(t,e,{...s,platform:i})};var SA=typeof document<"u",bA=function(){},vc=SA?m.useLayoutEffect:bA;function eu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!eu(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!eu(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function PE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function wy(t,e){const n=PE(t);return Math.round(e*n)/n}function uf(t){const e=m.useRef(t);return vc(()=>{e.current=t}),e}function TA(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=m.useState(r);eu(f,r)||p(r);const[x,v]=m.useState(null),[_,g]=m.useState(null),y=m.useCallback(I=>{I!==S.current&&(S.current=I,v(I))},[]),w=m.useCallback(I=>{I!==b.current&&(b.current=I,g(I))},[]),E=i||x,C=o||_,S=m.useRef(null),b=m.useRef(null),T=m.useRef(u),A=l!=null,R=uf(l),z=uf(s),L=uf(c),H=m.useCallback(()=>{if(!S.current||!b.current)return;const I={placement:e,strategy:n,middleware:f};z.current&&(I.platform=z.current),CA(S.current,b.current,I).then(P=>{const j={...P,isPositioned:L.current!==!1};M.current&&!eu(T.current,j)&&(T.current=j,ti.flushSync(()=>{d(j)}))})},[f,e,n,z,L]);vc(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(I=>({...I,isPositioned:!1})))},[c]);const M=m.useRef(!1);vc(()=>(M.current=!0,()=>{M.current=!1}),[]),vc(()=>{if(E&&(S.current=E),C&&(b.current=C),E&&C){if(R.current)return R.current(E,C,H);H()}},[E,C,H,R,A]);const q=m.useMemo(()=>({reference:S,floating:b,setReference:y,setFloating:w}),[y,w]),U=m.useMemo(()=>({reference:E,floating:C}),[E,C]),W=m.useMemo(()=>{const I={position:n,left:0,top:0};if(!U.floating)return I;const P=wy(U.floating,u.x),j=wy(U.floating,u.y);return a?{...I,transform:"translate("+P+"px, "+j+"px)",...PE(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:j}},[n,a,U.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:H,refs:q,elements:U,floatingStyles:W}),[u,H,q,U,W])}const IA=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?_y({element:r.current,padding:s}).fn(n):{}:r?_y({element:r,padding:s}).fn(n):{}}}},NA=(t,e)=>({...vA(t),options:[t,e]}),PA=(t,e)=>({...yA(t),options:[t,e]}),kA=(t,e)=>({...EA(t),options:[t,e]}),RA=(t,e)=>({..._A(t),options:[t,e]}),AA=(t,e)=>({...wA(t),options:[t,e]}),OA=(t,e)=>({...xA(t),options:[t,e]}),DA=(t,e)=>({...IA(t),options:[t,e]});var MA="Arrow",kE=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(te.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});kE.displayName=MA;var LA=kE;function jA(t){const[e,n]=m.useState(void 0);return Ze(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var bm="Popper",[RE,Zu]=ls(bm),[FA,AE]=RE(bm),OE=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return h.jsx(FA,{scope:e,anchor:r,onAnchorChange:s,children:n})};OE.displayName=bm;var DE="PopperAnchor",ME=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=AE(DE,n),o=m.useRef(null),a=xe(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(te.div,{...s,ref:a})});ME.displayName=DE;var Tm="PopperContent",[UA,$A]=RE(Tm),LE=m.forwardRef((t,e)=>{var F,he,Oe,fe,ae,ce;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:x,...v}=t,_=AE(Tm,n),[g,y]=m.useState(null),w=xe(e,tt=>y(tt)),[E,C]=m.useState(null),S=jA(E),b=(S==null?void 0:S.width)??0,T=(S==null?void 0:S.height)??0,A=r+(i!=="center"?"-"+i:""),R=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},z=Array.isArray(c)?c:[c],L=z.length>0,H={padding:R,boundary:z.filter(BA),altBoundary:L},{refs:M,floatingStyles:q,placement:U,isPositioned:W,middlewareData:I}=TA({strategy:"fixed",placement:A,whileElementsMounted:(...tt)=>gA(...tt,{animationFrame:p==="always"}),elements:{reference:_.anchor},middleware:[NA({mainAxis:s+T,alignmentAxis:o}),l&&PA({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?kA():void 0,...H}),l&&RA({...H}),AA({...H,apply:({elements:tt,rects:Ft,availableWidth:ms,availableHeight:ur})=>{const{width:gs,height:Mo}=Ft.reference,ai=tt.floating.style;ai.setProperty("--radix-popper-available-width",`${ms}px`),ai.setProperty("--radix-popper-available-height",`${ur}px`),ai.setProperty("--radix-popper-anchor-width",`${gs}px`),ai.setProperty("--radix-popper-anchor-height",`${Mo}px`)}}),E&&DA({element:E,padding:a}),WA({arrowWidth:b,arrowHeight:T}),f&&OA({strategy:"referenceHidden",...H})]}),[P,j]=UE(U),Q=Kt(x);Ze(()=>{W&&(Q==null||Q())},[W,Q]);const B=(F=I.arrow)==null?void 0:F.x,Z=(he=I.arrow)==null?void 0:he.y,Y=((Oe=I.arrow)==null?void 0:Oe.centerOffset)!==0,[Ee,Ae]=m.useState();return Ze(()=>{g&&Ae(window.getComputedStyle(g).zIndex)},[g]),h.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:W?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(fe=I.transformOrigin)==null?void 0:fe.x,(ae=I.transformOrigin)==null?void 0:ae.y].join(" "),...((ce=I.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(UA,{scope:n,placedSide:P,onArrowChange:C,arrowX:B,arrowY:Z,shouldHideArrow:Y,children:h.jsx(te.div,{"data-side":P,"data-align":j,...v,ref:w,style:{...v.style,animation:W?void 0:"none"}})})})});LE.displayName=Tm;var jE="PopperArrow",zA={top:"bottom",right:"left",bottom:"top",left:"right"},FE=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=$A(jE,r),o=zA[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(LA,{...s,ref:n,style:{...s.style,display:"block"}})})});FE.displayName=jE;function BA(t){return t!==null}var WA=t=>({name:"transformOrigin",options:t,fn(e){var _,g,y;const{placement:n,rects:r,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=UE(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((g=s.arrow)==null?void 0:g.x)??0)+a/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let x="",v="";return c==="bottom"?(x=o?d:`${f}px`,v=`${-l}px`):c==="top"?(x=o?d:`${f}px`,v=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,v=o?d:`${p}px`):c==="left"&&(x=`${r.floating.width+l}px`,v=o?d:`${p}px`),{data:{x,y:v}}}});function UE(t){const[e,n="center"]=t.split("-");return[e,n]}var VA=OE,$E=ME,zE=LE,BE=FE,[ed,d6]=ls("Tooltip",[Zu]),Im=Zu(),WE="TooltipProvider",HA=700,xy="tooltip.open",[GA,VE]=ed(WE),HE=t=>{const{__scopeTooltip:e,delayDuration:n=HA,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=m.useRef(!0),a=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),h.jsx(GA,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};HE.displayName=WE;var GE="Tooltip",[f6,td]=ed(GE),Fh="TooltipTrigger",KA=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=td(Fh,n),i=VE(Fh,n),o=Im(n),a=m.useRef(null),l=xe(e,a,s.onTriggerChange),c=m.useRef(!1),u=m.useRef(!1),d=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),h.jsx($E,{asChild:!0,...o,children:h.jsx(te.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:V(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:V(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:V(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:V(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:V(t.onBlur,s.onClose),onClick:V(t.onClick,s.onClose)})})});KA.displayName=Fh;var qA="TooltipPortal",[h6,QA]=ed(qA,{forceMount:void 0}),uo="TooltipContent",KE=m.forwardRef((t,e)=>{const n=QA(uo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=td(uo,t.__scopeTooltip);return h.jsx(ni,{present:r||o.open,children:o.disableHoverableContent?h.jsx(qE,{side:s,...i,ref:e}):h.jsx(YA,{side:s,...i,ref:e})})}),YA=m.forwardRef((t,e)=>{const n=td(uo,t.__scopeTooltip),r=VE(uo,t.__scopeTooltip),s=m.useRef(null),i=xe(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,u=s.current,{onPointerInTransitChange:d}=r,f=m.useCallback(()=>{a(null),d(!1)},[d]),p=m.useCallback((x,v)=>{const _=x.currentTarget,g={x:x.clientX,y:x.clientY},y=tO(g,_.getBoundingClientRect()),w=nO(g,y),E=rO(v.getBoundingClientRect()),C=iO([...w,...E]);a(C),d(!0)},[d]);return m.useEffect(()=>()=>f(),[f]),m.useEffect(()=>{if(l&&u){const x=_=>p(_,u),v=_=>p(_,l);return l.addEventListener("pointerleave",x),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",v)}}},[l,u,p,f]),m.useEffect(()=>{if(o){const x=v=>{const _=v.target,g={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(_))||(u==null?void 0:u.contains(_)),w=!sO(g,o);y?f():w&&(f(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,u,o,c,f]),h.jsx(qE,{...t,ref:i})}),[XA,JA]=ed(GE,{isInside:!1}),ZA=fP("TooltipContent"),qE=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=td(uo,n),c=Im(n),{onClose:u}=l;return m.useEffect(()=>(document.addEventListener(xy,u),()=>document.removeEventListener(xy,u)),[u]),m.useEffect(()=>{if(l.trigger){const d=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),h.jsx(ul,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:h.jsxs(zE,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(ZA,{children:r}),h.jsx(XA,{scope:n,isInside:!0,children:h.jsx(DP,{id:l.contentId,role:"tooltip",children:s||r})})]})})});KE.displayName=uo;var QE="TooltipArrow",eO=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Im(n);return JA(QE,n).isInside?null:h.jsx(BE,{...s,...r,ref:e})});eO.displayName=QE;function tO(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function nO(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function rO(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function sO(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,u=a.y,d=l.x,f=l.y;u>r!=f>r&&n<(d-c)*(r-u)/(f-u)+c&&(s=!s)}return s}function iO(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),oO(e)}function oO(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var aO=HE,YE=KE;const lO=aO,cO=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(YE,{ref:r,sideOffset:e,className:oe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));cO.displayName=YE.displayName;var nd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rd=typeof window>"u"||"Deno"in globalThis;function tn(){}function uO(t,e){return typeof t=="function"?t(e):t}function dO(t){return typeof t=="number"&&t>=0&&t!==1/0}function fO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Uh(t,e){return typeof t=="function"?t(e):t}function hO(t,e){return typeof t=="function"?t(e):t}function Ey(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Nm(o,e.options))return!1}else if(!za(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Cy(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if($a(e.options.mutationKey)!==$a(i))return!1}else if(!za(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Nm(t,e){return((e==null?void 0:e.queryKeyHashFn)||$a)(t)}function $a(t){return JSON.stringify(t,(e,n)=>$h(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function za(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>za(t[n],e[n])):!1}function XE(t,e){if(t===e)return t;const n=Sy(t)&&Sy(e);if(n||$h(t)&&$h(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=XE(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function Sy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $h(t){if(!by(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!by(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function by(t){return Object.prototype.toString.call(t)==="[object Object]"}function pO(t){return new Promise(e=>{setTimeout(e,t)})}function mO(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?XE(t,e):e}function gO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function vO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Pm=Symbol();function JE(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Pm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ns,Nr,Gi,rw,yO=(rw=class extends nd{constructor(){super();ue(this,Ns);ue(this,Nr);ue(this,Gi);J(this,Gi,e=>{if(!rd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){N(this,Nr)||this.setEventListener(N(this,Gi))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,Nr))==null||e.call(this),J(this,Nr,void 0))}setEventListener(e){var n;J(this,Gi,e),(n=N(this,Nr))==null||n.call(this),J(this,Nr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){N(this,Ns)!==e&&(J(this,Ns,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof N(this,Ns)=="boolean"?N(this,Ns):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ns=new WeakMap,Nr=new WeakMap,Gi=new WeakMap,rw),ZE=new yO,Ki,Pr,qi,sw,_O=(sw=class extends nd{constructor(){super();ue(this,Ki,!0);ue(this,Pr);ue(this,qi);J(this,qi,e=>{if(!rd&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){N(this,Pr)||this.setEventListener(N(this,qi))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,Pr))==null||e.call(this),J(this,Pr,void 0))}setEventListener(e){var n;J(this,qi,e),(n=N(this,Pr))==null||n.call(this),J(this,Pr,e(this.setOnline.bind(this)))}setOnline(e){N(this,Ki)!==e&&(J(this,Ki,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return N(this,Ki)}},Ki=new WeakMap,Pr=new WeakMap,qi=new WeakMap,sw),tu=new _O;function wO(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function xO(t){return Math.min(1e3*2**t,3e4)}function eC(t){return(t??"online")==="online"?tu.isOnline():!0}var tC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function df(t){return t instanceof tC}function nC(t){let e=!1,n=0,r=!1,s;const i=wO(),o=v=>{var _;r||(f(new tC(v)),(_=t.abort)==null||_.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>ZE.isFocused()&&(t.networkMode==="always"||tu.isOnline())&&t.canRun(),u=()=>eC(t.networkMode)&&t.canRun(),d=v=>{var _;r||(r=!0,(_=t.onSuccess)==null||_.call(t,v),s==null||s(),i.resolve(v))},f=v=>{var _;r||(r=!0,(_=t.onError)==null||_.call(t,v),s==null||s(),i.reject(v))},p=()=>new Promise(v=>{var _;s=g=>{(r||c())&&v(g)},(_=t.onPause)==null||_.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),x=()=>{if(r)return;let v;const _=n===0?t.initialPromise:void 0;try{v=_??t.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(d).catch(g=>{var S;if(r)return;const y=t.retry??(rd?0:3),w=t.retryDelay??xO,E=typeof w=="function"?w(n,g):w,C=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,g);if(e||!C){f(g);return}n++,(S=t.onFail)==null||S.call(t,n,g),pO(E).then(()=>c()?void 0:p()).then(()=>{e?f(g):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?x():p().then(x),i)}}var EO=t=>setTimeout(t,0);function CO(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=EO;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var dt=CO(),Ps,iw,rC=(iw=class{constructor(){ue(this,Ps)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dO(this.gcTime)&&J(this,Ps,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(rd?1/0:5*60*1e3))}clearGcTimeout(){N(this,Ps)&&(clearTimeout(N(this,Ps)),J(this,Ps,void 0))}},Ps=new WeakMap,iw),Qi,ks,$t,Rs,it,rl,As,nn,$n,ow,SO=(ow=class extends rC{constructor(e){super();ue(this,nn);ue(this,Qi);ue(this,ks);ue(this,$t);ue(this,Rs);ue(this,it);ue(this,rl);ue(this,As);J(this,As,!1),J(this,rl,e.defaultOptions),this.setOptions(e.options),this.observers=[],J(this,Rs,e.client),J(this,$t,N(this,Rs).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,J(this,Qi,TO(this.options)),this.state=e.state??N(this,Qi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=N(this,it))==null?void 0:e.promise}setOptions(e){this.options={...N(this,rl),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,$t).remove(this)}setData(e,n){const r=mO(this.state.data,e,this.options);return nt(this,nn,$n).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){nt(this,nn,$n).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=N(this,it))==null?void 0:r.promise;return(s=N(this,it))==null||s.cancel(e),n?n.then(tn).catch(tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,Qi))}isActive(){return this.observers.some(e=>hO(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Uh(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!fO(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=N(this,it))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=N(this,it))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),N(this,$t).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(N(this,it)&&(N(this,As)?N(this,it).cancel({revert:!0}):N(this,it).cancelRetry()),this.scheduleGc()),N(this,$t).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||nt(this,nn,$n).call(this,{type:"invalidate"})}fetch(e,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(N(this,it))return N(this,it).continueRetry(),N(this,it).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(J(this,As,!0),r.signal)})},i=()=>{const f=JE(this.options,n),x=(()=>{const v={client:N(this,Rs),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return J(this,As,!1),this.options.persister?this.options.persister(f,x,this):f(x)},a=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:N(this,Rs),state:this.state,fetchFn:i};return s(f),f})();(c=this.options.behavior)==null||c.onFetch(a,this),J(this,ks,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&nt(this,nn,$n).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=f=>{var p,x,v,_;df(f)&&f.silent||nt(this,nn,$n).call(this,{type:"error",error:f}),df(f)||((x=(p=N(this,$t).config).onError)==null||x.call(p,f,this),(_=(v=N(this,$t).config).onSettled)==null||_.call(v,this.state.data,f,this)),this.scheduleGc()};return J(this,it,nC({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,x,v,_;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){l(g);return}(x=(p=N(this,$t).config).onSuccess)==null||x.call(p,f,this),(_=(v=N(this,$t).config).onSettled)==null||_.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,p)=>{nt(this,nn,$n).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{nt(this,nn,$n).call(this,{type:"pause"})},onContinue:()=>{nt(this,nn,$n).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),N(this,it).start()}},Qi=new WeakMap,ks=new WeakMap,$t=new WeakMap,Rs=new WeakMap,it=new WeakMap,rl=new WeakMap,As=new WeakMap,nn=new WeakSet,$n=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...bO(r.data,this.options),fetchMeta:e.meta??null};case"success":return J(this,ks,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return df(s)&&s.revert&&N(this,ks)?{...N(this,ks),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),dt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),N(this,$t).notify({query:this,type:"updated",action:e})})},ow);function bO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function TO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var bn,aw,IO=(aw=class extends nd{constructor(e={}){super();ue(this,bn);this.config=e,J(this,bn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Nm(s,n);let o=this.get(i);return o||(o=new SO({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){N(this,bn).has(e.queryHash)||(N(this,bn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=N(this,bn).get(e.queryHash);n&&(e.destroy(),n===e&&N(this,bn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return N(this,bn).get(e)}getAll(){return[...N(this,bn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Ey(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Ey(e,r)):n}notify(e){dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){dt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){dt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},bn=new WeakMap,aw),Tn,ct,Os,In,yr,lw,NO=(lw=class extends rC{constructor(e){super();ue(this,In);ue(this,Tn);ue(this,ct);ue(this,Os);this.mutationId=e.mutationId,J(this,ct,e.mutationCache),J(this,Tn,[]),this.state=e.state||PO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){N(this,Tn).includes(e)||(N(this,Tn).push(e),this.clearGcTimeout(),N(this,ct).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){J(this,Tn,N(this,Tn).filter(n=>n!==e)),this.scheduleGc(),N(this,ct).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){N(this,Tn).length||(this.state.status==="pending"?this.scheduleGc():N(this,ct).remove(this))}continue(){var e;return((e=N(this,Os))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,c,u,d,f,p,x,v,_,g,y,w,E,C,S,b,T;const n=()=>{nt(this,In,yr).call(this,{type:"continue"})};J(this,Os,nC({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,R)=>{nt(this,In,yr).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{nt(this,In,yr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,ct).canRun(this)}));const r=this.state.status==="pending",s=!N(this,Os).canStart();try{if(r)n();else{nt(this,In,yr).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=N(this,ct).config).onMutate)==null?void 0:o.call(i,e,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));R!==this.state.context&&nt(this,In,yr).call(this,{type:"pending",context:R,variables:e,isPaused:s})}const A=await N(this,Os).start();return await((u=(c=N(this,ct).config).onSuccess)==null?void 0:u.call(c,A,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,A,e,this.state.context)),await((x=(p=N(this,ct).config).onSettled)==null?void 0:x.call(p,A,null,this.state.variables,this.state.context,this)),await((_=(v=this.options).onSettled)==null?void 0:_.call(v,A,null,e,this.state.context)),nt(this,In,yr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((y=(g=N(this,ct).config).onError)==null?void 0:y.call(g,A,e,this.state.context,this)),await((E=(w=this.options).onError)==null?void 0:E.call(w,A,e,this.state.context)),await((S=(C=N(this,ct).config).onSettled)==null?void 0:S.call(C,void 0,A,this.state.variables,this.state.context,this)),await((T=(b=this.options).onSettled)==null?void 0:T.call(b,void 0,A,e,this.state.context)),A}finally{nt(this,In,yr).call(this,{type:"error",error:A})}}finally{N(this,ct).runNext(this)}}},Tn=new WeakMap,ct=new WeakMap,Os=new WeakMap,In=new WeakSet,yr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),dt.batch(()=>{N(this,Tn).forEach(r=>{r.onMutationUpdate(e)}),N(this,ct).notify({mutation:this,type:"updated",action:e})})},lw);function PO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wn,rn,sl,cw,kO=(cw=class extends nd{constructor(e={}){super();ue(this,Wn);ue(this,rn);ue(this,sl);this.config=e,J(this,Wn,new Set),J(this,rn,new Map),J(this,sl,0)}build(e,n,r){const s=new NO({mutationCache:this,mutationId:++Il(this,sl)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){N(this,Wn).add(e);const n=Ql(e);if(typeof n=="string"){const r=N(this,rn).get(n);r?r.push(e):N(this,rn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(N(this,Wn).delete(e)){const n=Ql(e);if(typeof n=="string"){const r=N(this,rn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&N(this,rn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Ql(e);if(typeof n=="string"){const r=N(this,rn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Ql(e);if(typeof n=="string"){const s=(r=N(this,rn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){dt.batch(()=>{N(this,Wn).forEach(e=>{this.notify({type:"removed",mutation:e})}),N(this,Wn).clear(),N(this,rn).clear()})}getAll(){return Array.from(N(this,Wn))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Cy(n,r))}findAll(e={}){return this.getAll().filter(n=>Cy(e,n))}notify(e){dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return dt.batch(()=>Promise.all(e.map(n=>n.continue().catch(tn))))}},Wn=new WeakMap,rn=new WeakMap,sl=new WeakMap,cw);function Ql(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Ty(t){return{onFetch:(e,n)=>{var u,d,f,p,x;const r=e.options,s=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const _=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},g=JE(e.options,e.fetchOptions),y=async(w,E,C)=>{if(v)return Promise.reject();if(E==null&&w.pages.length)return Promise.resolve(w);const b=(()=>{const z={client:e.client,queryKey:e.queryKey,pageParam:E,direction:C?"backward":"forward",meta:e.options.meta};return _(z),z})(),T=await g(b),{maxPages:A}=e.options,R=C?vO:gO;return{pages:R(w.pages,T,A),pageParams:R(w.pageParams,E,A)}};if(s&&i.length){const w=s==="backward",E=w?RO:Iy,C={pages:i,pageParams:o},S=E(r,C);a=await y(C,S,w)}else{const w=t??i.length;do{const E=l===0?o[0]??r.initialPageParam:Iy(r,a);if(l>0&&E==null)break;a=await y(a,E),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var v,_;return(_=(v=e.options).persister)==null?void 0:_.call(v,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function Iy(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function RO(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var De,kr,Rr,Yi,Xi,Ar,Ji,Zi,uw,AO=(uw=class{constructor(t={}){ue(this,De);ue(this,kr);ue(this,Rr);ue(this,Yi);ue(this,Xi);ue(this,Ar);ue(this,Ji);ue(this,Zi);J(this,De,t.queryCache||new IO),J(this,kr,t.mutationCache||new kO),J(this,Rr,t.defaultOptions||{}),J(this,Yi,new Map),J(this,Xi,new Map),J(this,Ar,0)}mount(){Il(this,Ar)._++,N(this,Ar)===1&&(J(this,Ji,ZE.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,De).onFocus())})),J(this,Zi,tu.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,De).onOnline())})))}unmount(){var t,e;Il(this,Ar)._--,N(this,Ar)===0&&((t=N(this,Ji))==null||t.call(this),J(this,Ji,void 0),(e=N(this,Zi))==null||e.call(this),J(this,Zi,void 0))}isFetching(t){return N(this,De).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return N(this,kr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=N(this,De).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=N(this,De).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Uh(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return N(this,De).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=N(this,De).get(r.queryHash),i=s==null?void 0:s.state.data,o=uO(e,i);if(o!==void 0)return N(this,De).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return dt.batch(()=>N(this,De).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=N(this,De).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=N(this,De);dt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=N(this,De);return dt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=dt.batch(()=>N(this,De).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(tn).catch(tn)}invalidateQueries(t,e={}){return dt.batch(()=>(N(this,De).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=dt.batch(()=>N(this,De).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(tn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(tn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=N(this,De).build(this,e);return n.isStaleByTime(Uh(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(tn).catch(tn)}fetchInfiniteQuery(t){return t.behavior=Ty(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(tn).catch(tn)}ensureInfiniteQueryData(t){return t.behavior=Ty(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return tu.isOnline()?N(this,kr).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,De)}getMutationCache(){return N(this,kr)}getDefaultOptions(){return N(this,Rr)}setDefaultOptions(t){J(this,Rr,t)}setQueryDefaults(t,e){N(this,Yi).set($a(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...N(this,Yi).values()],n={};return e.forEach(r=>{za(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){N(this,Xi).set($a(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...N(this,Xi).values()],n={};return e.forEach(r=>{za(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...N(this,Rr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Nm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Pm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...N(this,Rr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){N(this,De).clear(),N(this,kr).clear()}},De=new WeakMap,kr=new WeakMap,Rr=new WeakMap,Yi=new WeakMap,Xi=new WeakMap,Ar=new WeakMap,Ji=new WeakMap,Zi=new WeakMap,uw),OO=m.createContext(void 0),DO=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(OO.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ba(){return Ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ba.apply(this,arguments)}var Mr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mr||(Mr={}));const Ny="popstate";function MO(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return nu("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Wa(s)}return sC(e,n,null,t)}function LO(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=ri(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),nu("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Wa(i))}function r(s,i){km(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return sC(e,n,r,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function km(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jO(){return Math.random().toString(36).substr(2,8)}function Py(t,e){return{usr:t.state,key:t.key,idx:e}}function nu(t,e,n,r){return n===void 0&&(n=null),Ba({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ri(e):e,{state:n,key:e&&e.key||r||jO()})}function Wa(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ri(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function sC(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Mr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ba({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Mr.Pop;let _=u(),g=_==null?null:_-c;c=_,l&&l({action:a,location:v.location,delta:g})}function f(_,g){a=Mr.Push;let y=nu(v.location,_,g);n&&n(y,_),c=u()+1;let w=Py(y,c),E=v.createHref(y);try{o.pushState(w,"",E)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(E)}i&&l&&l({action:a,location:v.location,delta:1})}function p(_,g){a=Mr.Replace;let y=nu(v.location,_,g);n&&n(y,_),c=u();let w=Py(y,c),E=v.createHref(y);o.replaceState(w,"",E),i&&l&&l({action:a,location:v.location,delta:0})}function x(_){let g=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof _=="string"?_:Wa(_);return y=y.replace(/ $/,"%20"),Ue(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let v={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ny,d),l=_,()=>{s.removeEventListener(Ny,d),l=null}},createHref(_){return e(s,_)},createURL:x,encodeLocation(_){let g=x(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(_){return o.go(_)}};return v}var ky;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ky||(ky={}));function FO(t,e,n){return n===void 0&&(n="/"),UO(t,e,n,!1)}function UO(t,e,n,r){let s=typeof e=="string"?ri(e):e,i=Rm(s.pathname||"/",n);if(i==null)return null;let o=iC(t);$O(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=XO(i);a=QO(o[l],c,r)}return a}function iC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Ue(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Hr([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Ue(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),iC(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:KO(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of oC(i.path))s(i,o,l)}),e}function oC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=oC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function $O(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zO=/^:[\w-]+$/,BO=3,WO=2,VO=1,HO=10,GO=-2,Ry=t=>t==="*";function KO(t,e){let n=t.split("/"),r=n.length;return n.some(Ry)&&(r+=GO),e&&(r+=WO),n.filter(s=>!Ry(s)).reduce((s,i)=>s+(zO.test(i)?BO:i===""?VO:HO),r)}function qO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function QO(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=Ay({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Ay({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Hr([i,d.pathname]),pathnameBase:tD(Hr([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Hr([i,d.pathnameBase]))}return o}function Ay(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let v=a[d]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=a[d];return p&&!x?c[f]=void 0:c[f]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function YO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),km(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function XO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return km(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Rm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function JO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ri(t):t;return{pathname:n?n.startsWith("/")?n:ZO(n,e):e,search:nD(r),hash:rD(s)}}function ZO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ff(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Am(t,e){let n=eD(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Om(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ri(t):(s=Ba({},t),Ue(!s.pathname||!s.pathname.includes("?"),ff("?","pathname","search",s)),Ue(!s.pathname||!s.pathname.includes("#"),ff("#","pathname","hash",s)),Ue(!s.search||!s.search.includes("#"),ff("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=JO(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Hr=t=>t.join("/").replace(/\/\/+/g,"/"),tD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const aC=["post","put","patch","delete"];new Set(aC);const iD=["get",...aC];new Set(iD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Va(){return Va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Va.apply(this,arguments)}const Dm=m.createContext(null),oD=m.createContext(null),cs=m.createContext(null),sd=m.createContext(null),us=m.createContext({outlet:null,matches:[],isDataRoute:!1}),lC=m.createContext(null);function aD(t,e){let{relative:n}=e===void 0?{}:e;So()||Ue(!1);let{basename:r,navigator:s}=m.useContext(cs),{hash:i,pathname:o,search:a}=uC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Hr([r,o])),s.createHref({pathname:l,search:a,hash:i})}function So(){return m.useContext(sd)!=null}function si(){return So()||Ue(!1),m.useContext(sd).location}function cC(t){m.useContext(cs).static||m.useLayoutEffect(t)}function Mm(){let{isDataRoute:t}=m.useContext(us);return t?wD():lD()}function lD(){So()||Ue(!1);let t=m.useContext(Dm),{basename:e,future:n,navigator:r}=m.useContext(cs),{matches:s}=m.useContext(us),{pathname:i}=si(),o=JSON.stringify(Am(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return cC(()=>{a.current=!0}),m.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Om(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Hr([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function uC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(cs),{matches:s}=m.useContext(us),{pathname:i}=si(),o=JSON.stringify(Am(s,r.v7_relativeSplatPath));return m.useMemo(()=>Om(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function cD(t,e){return uD(t,e)}function uD(t,e,n,r){So()||Ue(!1);let{navigator:s}=m.useContext(cs),{matches:i}=m.useContext(us),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=si(),u;if(e){var d;let _=typeof e=="string"?ri(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||Ue(!1),u=_}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=FO(t,{pathname:p}),v=mD(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Hr([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Hr([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&v?m.createElement(sd.Provider,{value:{location:Va({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Mr.Pop}},v):v}function dD(){let t=_D(),e=sD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const fD=m.createElement(dD,null);class hD extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(us.Provider,{value:this.props.routeContext},m.createElement(lC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pD(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(Dm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(us.Provider,{value:e},r)}function mD(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ue(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,x=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,x=!1,v=null,_=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||fD,l&&(c<0&&f===0?(x=!0,_=null):c===f&&(x=!0,_=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),y=()=>{let w;return p?w=v:x?w=_:d.route.Component?w=m.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,m.createElement(pD,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?m.createElement(hD,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var dC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(dC||{}),ru=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ru||{});function gD(t){let e=m.useContext(Dm);return e||Ue(!1),e}function vD(t){let e=m.useContext(oD);return e||Ue(!1),e}function yD(t){let e=m.useContext(us);return e||Ue(!1),e}function fC(t){let e=yD(),n=e.matches[e.matches.length-1];return n.route.id||Ue(!1),n.route.id}function _D(){var t;let e=m.useContext(lC),n=vD(ru.UseRouteError),r=fC(ru.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function wD(){let{router:t}=gD(dC.UseNavigateStable),e=fC(ru.UseNavigateStable),n=m.useRef(!1);return cC(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Va({fromRouteId:e},i)))},[t,e])}function hC(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function xD(t){let{to:e,replace:n,state:r,relative:s}=t;So()||Ue(!1);let{future:i,static:o}=m.useContext(cs),{matches:a}=m.useContext(us),{pathname:l}=si(),c=Mm(),u=Om(e,Am(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(u);return m.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:s}),[c,d,s,n,r]),null}function gi(t){Ue(!1)}function pC(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Mr.Pop,navigator:i,static:o=!1,future:a}=t;So()&&Ue(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:Va({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ri(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:x="default"}=r,v=m.useMemo(()=>{let _=Rm(u,l);return _==null?null:{location:{pathname:_,search:d,hash:f,state:p,key:x},navigationType:s}},[l,u,d,f,p,x,s]);return v==null?null:m.createElement(cs.Provider,{value:c},m.createElement(sd.Provider,{children:n,value:v}))}function ED(t){let{children:e,location:n}=t;return cD(zh(e),n)}new Promise(()=>{});function zh(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,s)=>{if(!m.isValidElement(r))return;let i=[...e,s];if(r.type===m.Fragment){n.push.apply(n,zh(r.props.children,i));return}r.type!==gi&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=zh(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bh.apply(this,arguments)}function CD(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function SD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bD(t,e){return t.button===0&&(!e||e==="_self")&&!SD(t)}const TD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ID="6";try{window.__reactRouterVersion=ID}catch{}const ND="startTransition",su=xp[ND];function PD(t){let{basename:e,children:n,future:r,window:s}=t,i=m.useRef();i.current==null&&(i.current=MO({window:s,v5Compat:!0}));let o=i.current,[a,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=m.useCallback(d=>{c&&su?su(()=>l(d)):l(d)},[l,c]);return m.useLayoutEffect(()=>o.listen(u),[o,u]),m.useEffect(()=>hC(r),[r]),m.createElement(pC,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}function kD(t){let{basename:e,children:n,future:r,window:s}=t,i=m.useRef();i.current==null&&(i.current=LO({window:s,v5Compat:!0}));let o=i.current,[a,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=m.useCallback(d=>{c&&su?su(()=>l(d)):l(d)},[l,c]);return m.useLayoutEffect(()=>o.listen(u),[o,u]),m.useEffect(()=>hC(r),[r]),m.createElement(pC,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const RD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vi=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=CD(e,TD),{basename:p}=m.useContext(cs),x,v=!1;if(typeof c=="string"&&AD.test(c)&&(x=c,RD))try{let w=new URL(window.location.href),E=c.startsWith("//")?new URL(w.protocol+c):new URL(c),C=Rm(E.pathname,p);E.origin===w.origin&&C!=null?c=C+E.search+E.hash:v=!0}catch{}let _=aD(c,{relative:s}),g=OD(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:d});function y(w){r&&r(w),w.defaultPrevented||g(w)}return m.createElement("a",Bh({},f,{href:x||_,onClick:v||i?r:y,ref:n,target:l}))});var Oy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Oy||(Oy={}));var Dy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Dy||(Dy={}));function OD(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Mm(),c=si(),u=uC(t,{relative:o});return m.useCallback(d=>{if(bD(d,n)){d.preventDefault();let f=r!==void 0?r:Wa(c)===Wa(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const DD=()=>{};var My={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=function(t,e){if(!t)throw bo(e)},bo=function(t){return new Error("Firebase Database ("+mC.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},MD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Lm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new LD;const f=i<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const x=c<<6&192|d;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vC=function(t){const e=gC(t);return Lm.encodeByteArray(e,!0)},iu=function(t){return vC(t).replace(/\./g,"")},ou=function(t){try{return Lm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){return yC(void 0,t)}function yC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!FD(n)||(t[n]=yC(t[n],e[n]));return t}function FD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=()=>UD().__FIREBASE_DEFAULTS__,zD=()=>{if(typeof process>"u"||typeof My>"u")return;const t=My.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ou(t[1]);return e&&JSON.parse(e)},jm=()=>{try{return DD()||$D()||zD()||BD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_C=t=>{var e,n;return(n=(e=jm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},WD=t=>{const e=_C(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wC=()=>{var t;return(t=jm())==null?void 0:t.config},xC=t=>{var e;return(e=jm())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function EC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[iu(JSON.stringify(n)),iu(JSON.stringify(o)),""].join(".")}const pa={};function HD(){const t={prod:[],emulator:[]};for(const e of Object.keys(pa))pa[e]?t.emulator.push(e):t.prod.push(e);return t}function GD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ly=!1;function CC(t,e){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||pa[t]===e||pa[t]||Ly)return;pa[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=HD().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Ly=!0,o()},f}function u(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=GD(r),p=n("text"),x=document.getElementById(p)||document.createElement("span"),v=n("learnmore"),_=document.getElementById(v)||document.createElement("a"),g=n("preprendIcon"),y=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const w=f.element;a(w),u(_,v);const E=c();l(y,g),w.append(y,x,_,E),document.body.appendChild(w)}i?(x.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function KD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QD(){const t=pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bC(){return mC.NODE_ADMIN===!0}function YD(){try{return typeof indexedDB=="object"}catch{return!1}}function XD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="FirebaseError";class ds extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JD,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hl.prototype.create)}}class hl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?ZD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ds(s,a,r)}}function ZD(t,e){return t.replace(eM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const eM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t){return JSON.parse(t)}function Be(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Ha(ou(i[0])||""),n=Ha(ou(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},tM=function(t){const e=TC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},nM=function(t){const e=TC(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function fo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Wh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function au(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Ws(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(jy(i)&&jy(o)){if(!Ws(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function jy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ta(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function na(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):d<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const f=(s<<5|s>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function sM(t,e){const n=new iM(t,e);return n.subscribe.bind(n)}class iM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=hf),s.error===void 0&&(s.error=hf),s.complete===void 0&&(s.complete=hf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hf(){}function Um(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},od=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return t&&t._delegate?t._delegate:t}class Vs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new id;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uM(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cM(t){return t===xs?void 0:t}function uM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const fM={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},hM=ge.INFO,pM={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},mM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=pM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $m{constructor(e){this.name=e,this._logLevel=hM,this._logHandler=mM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const gM=(t,e)=>e.some(n=>t instanceof n);let Fy,Uy;function vM(){return Fy||(Fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yM(){return Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IC=new WeakMap,Vh=new WeakMap,NC=new WeakMap,pf=new WeakMap,zm=new WeakMap;function _M(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Gr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&IC.set(n,t)}).catch(()=>{}),zm.set(e,t),e}function wM(t){if(Vh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Vh.set(t,e)}let Hh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xM(t){Hh=t(Hh)}function EM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mf(this),e,...n);return NC.set(r,e.sort?e.sort():[e]),Gr(r)}:yM().includes(t)?function(...e){return t.apply(mf(this),e),Gr(IC.get(this))}:function(...e){return Gr(t.apply(mf(this),e))}}function CM(t){return typeof t=="function"?EM(t):(t instanceof IDBTransaction&&wM(t),gM(t,vM())?new Proxy(t,Hh):t)}function Gr(t){if(t instanceof IDBRequest)return _M(t);if(pf.has(t))return pf.get(t);const e=CM(t);return e!==t&&(pf.set(t,e),zm.set(e,t)),e}const mf=t=>zm.get(t);function SM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Gr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gr(o.result),l.oldVersion,l.newVersion,Gr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const bM=["get","getKey","getAll","getAllKeys","count"],TM=["put","add","delete","clear"],gf=new Map;function $y(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gf.get(e))return gf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=TM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||bM.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return gf.set(e,i),i}xM(t=>({...t,get:(e,n,r)=>$y(e,n)||t.get(e,n,r),has:(e,n)=>!!$y(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function NM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gh="@firebase/app",zy="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new $m("@firebase/app"),PM="@firebase/app-compat",kM="@firebase/analytics-compat",RM="@firebase/analytics",AM="@firebase/app-check-compat",OM="@firebase/app-check",DM="@firebase/auth",MM="@firebase/auth-compat",LM="@firebase/database",jM="@firebase/data-connect",FM="@firebase/database-compat",UM="@firebase/functions",$M="@firebase/functions-compat",zM="@firebase/installations",BM="@firebase/installations-compat",WM="@firebase/messaging",VM="@firebase/messaging-compat",HM="@firebase/performance",GM="@firebase/performance-compat",KM="@firebase/remote-config",qM="@firebase/remote-config-compat",QM="@firebase/storage",YM="@firebase/storage-compat",XM="@firebase/firestore",JM="@firebase/ai",ZM="@firebase/firestore-compat",eL="firebase",tL="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="[DEFAULT]",nL={[Gh]:"fire-core",[PM]:"fire-core-compat",[RM]:"fire-analytics",[kM]:"fire-analytics-compat",[OM]:"fire-app-check",[AM]:"fire-app-check-compat",[DM]:"fire-auth",[MM]:"fire-auth-compat",[LM]:"fire-rtdb",[jM]:"fire-data-connect",[FM]:"fire-rtdb-compat",[UM]:"fire-fn",[$M]:"fire-fn-compat",[zM]:"fire-iid",[BM]:"fire-iid-compat",[WM]:"fire-fcm",[VM]:"fire-fcm-compat",[HM]:"fire-perf",[GM]:"fire-perf-compat",[KM]:"fire-rc",[qM]:"fire-rc-compat",[QM]:"fire-gcs",[YM]:"fire-gcs-compat",[XM]:"fire-fst",[ZM]:"fire-fst-compat",[JM]:"fire-vertex","fire-js":"fire-js",[eL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=new Map,rL=new Map,qh=new Map;function By(t,e){try{t.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ho(t){const e=t.name;if(qh.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;qh.set(e,t);for(const n of lu.values())By(n,t);for(const n of rL.values())By(n,t);return!0}function Bm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function an(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new hl("app","Firebase",sL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=tL;function PC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Kh,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Kr.create("bad-app-name",{appName:String(s)});if(n||(n=wC()),!n)throw Kr.create("no-options");const i=lu.get(s);if(i){if(Ws(n,i.options)&&Ws(r,i.config))return i;throw Kr.create("duplicate-app",{appName:s})}const o=new dM(s);for(const l of qh.values())o.addComponent(l);const a=new iL(n,r,o);return lu.set(s,a),a}function kC(t=Kh){const e=lu.get(t);if(!e&&t===Kh&&wC())return PC();if(!e)throw Kr.create("no-app",{appName:t});return e}function qr(t,e,n){let r=nL[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(o.join(" "));return}ho(new Vs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL="firebase-heartbeat-database",aL=1,Ga="firebase-heartbeat-store";let vf=null;function RC(){return vf||(vf=SM(oL,aL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ga)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),vf}async function lL(t){try{const n=(await RC()).transaction(Ga),r=await n.objectStore(Ga).get(AC(t));return await n.done,r}catch(e){if(e instanceof ds)sr.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sr.warn(n.message)}}}async function Wy(t,e){try{const r=(await RC()).transaction(Ga,"readwrite");await r.objectStore(Ga).put(e,AC(t)),await r.done}catch(n){if(n instanceof ds)sr.warn(n.message);else{const r=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});sr.warn(r.message)}}}function AC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=1024,uL=30;class dL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Vy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>uL){const o=pL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vy(),{heartbeatsToSend:r,unsentEntries:s}=fL(this._heartbeatsCache.heartbeats),i=iu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return sr.warn(n),""}}}function Vy(){return new Date().toISOString().substring(0,10)}function fL(t,e=cL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Hy(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Hy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YD()?XD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Wy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Hy(t){return iu(JSON.stringify({version:2,heartbeats:t})).length}function pL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){ho(new Vs("platform-logger",e=>new IM(e),"PRIVATE")),ho(new Vs("heartbeat",e=>new dL(e),"PRIVATE")),qr(Gh,zy,t),qr(Gh,zy,"esm2020"),qr("fire-js","")}mL("");function OC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gL=OC,DC=new hl("auth","Firebase",OC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new $m("@firebase/auth");function vL(t,...e){cu.logLevel<=ge.WARN&&cu.warn(`Auth (${No}): ${t}`,...e)}function yc(t,...e){cu.logLevel<=ge.ERROR&&cu.error(`Auth (${No}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,...e){throw Wm(t,...e)}function Dn(t,...e){return Wm(t,...e)}function MC(t,e,n){const r={...gL(),[e]:n};return new hl("auth","Firebase",r).create(e,{appName:t.name})}function Qr(t){return MC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DC.create(t,...e)}function G(t,e,...n){if(!t)throw Wm(e,...n)}function Gn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yc(e),new Error(e)}function ir(t,e){t||Gn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function yL(){return Gy()==="http:"||Gy()==="https:"}function Gy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yL()||qD()||"connection"in navigator)?navigator.onLine:!0}function wL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=Fm()||SC()}get(){return _L()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t,e){ir(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CL=new pl(3e4,6e4);function ii(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fs(t,e,n,r,s={}){return jC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Io({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return KD()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&To(t.emulatorConfig.host)&&(c.credentials="include"),LC.fetch()(await FC(t,t.config.apiHost,n,a),c)})}async function jC(t,e,n){t._canInitEmulator=!1;const r={...xL,...e};try{const s=new bL(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Yl(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Yl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Yl(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw MC(t,u,c);_n(t,u)}}catch(s){if(s instanceof ds)throw s;_n(t,"network-request-failed",{message:String(s)})}}async function ad(t,e,n,r,s={}){const i=await fs(t,e,n,r,s);return"mfaPendingCredential"in i&&_n(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function FC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Vm(t.config,s):`${t.config.apiScheme}://${s}`;return EL.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function SL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dn(this.auth,"network-request-failed")),CL.get())})}}function Yl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Dn(t,e,r);return s.customData._tokenResponse=n,s}function Ky(t){return t!==void 0&&t.enterprise!==void 0}class TL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return SL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IL(t,e){return fs(t,"GET","/v2/recaptchaConfig",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(t,e){return fs(t,"POST","/v1/accounts:delete",e)}async function uu(t,e){return fs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PL(t,e=!1){const n=vt(t),r=await n.getIdToken(e),s=Hm(r);G(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ma(yf(s.auth_time)),issuedAtTime:ma(yf(s.iat)),expirationTime:ma(yf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function yf(t){return Number(t)*1e3}function Hm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yc("JWT malformed, contained fewer than 3 sections"),null;try{const s=ou(n);return s?JSON.parse(s):(yc("Failed to decode base64 JWT payload"),null)}catch(s){return yc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function qy(t){const e=Hm(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ds&&kL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ma(this.lastLoginAt),this.creationTime=ma(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Ka(t,uu(e,{idToken:n}));G(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(d=s.providerUserInfo)!=null&&d.length?UC(s.providerUserInfo):[],o=OL(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Yh(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function AL(t){const e=vt(t);await du(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OL(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function UC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(t,e){const n=await jC(t,{},async()=>{const r=Io({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await FC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&To(t.emulatorConfig.host)&&(l.credentials="include"),LC.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ML(t,e){return fs(t,"POST","/v2/accounts:revokeToken",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(e.length!==0,"internal-error");const n=qy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await DL(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new $i;return r&&(G(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(G(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(G(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $i,this.toJSON())}_performRefresh(){return Gn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class un{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new RL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Yh(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ka(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PL(this,e)}reload(){return AL(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new un({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await du(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(an(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await Ka(this,NL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:x,stsTokenManager:v}=n;G(d&&v,e,"internal-error");const _=$i.fromJSON(this.name,v);G(typeof d=="string",e,"internal-error"),vr(r,e.name),vr(s,e.name),G(typeof f=="boolean",e,"internal-error"),G(typeof p=="boolean",e,"internal-error"),vr(i,e.name),vr(o,e.name),vr(a,e.name),vr(l,e.name),vr(c,e.name),vr(u,e.name);const g=new un({uid:d,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:_,createdAt:c,lastLoginAt:u});return x&&Array.isArray(x)&&(g.providerData=x.map(y=>({...y}))),l&&(g._redirectEventId=l),g}static async _fromIdTokenResponse(e,n,r=!1){const s=new $i;s.updateFromServerResponse(n);const i=new un({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await du(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];G(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?UC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new $i;a.updateFromIdToken(r);const l=new un({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Yh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=new Map;function Kn(t){ir(t instanceof Function,"Expected a class definition");let e=Qy.get(t);return e?(ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Qy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$C.type="NONE";const Yy=$C;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t,e,n){return`firebase:${t}:${e}:${n}`}class zi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=_c(this.userKey,s.apiKey,i),this.fullPersistenceKey=_c("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uu(this.auth,{idToken:e}).catch(()=>{});return n?un._fromGetAccountInfoResponse(this.auth,n,e):null}return un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zi(Kn(Yy),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Kn(Yy);const o=_c(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let d;if(typeof u=="string"){const f=await uu(e,{idToken:u}).catch(()=>{});if(!f)break;d=await un._fromGetAccountInfoResponse(e,f,u)}else d=un._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new zi(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new zi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GC(e))return"Blackberry";if(KC(e))return"Webos";if(BC(e))return"Safari";if((e.includes("chrome/")||WC(e))&&!e.includes("edge/"))return"Chrome";if(HC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zC(t=pt()){return/firefox\//i.test(t)}function BC(t=pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WC(t=pt()){return/crios\//i.test(t)}function VC(t=pt()){return/iemobile/i.test(t)}function HC(t=pt()){return/android/i.test(t)}function GC(t=pt()){return/blackberry/i.test(t)}function KC(t=pt()){return/webos/i.test(t)}function Gm(t=pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LL(t=pt()){var e;return Gm(t)&&!!((e=window.navigator)!=null&&e.standalone)}function jL(){return QD()&&document.documentMode===10}function qC(t=pt()){return Gm(t)||HC(t)||KC(t)||GC(t)||/windows phone/i.test(t)||VC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t,e=[]){let n;switch(t){case"Browser":n=Xy(pt());break;case"Worker":n=`${Xy(pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${No}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UL(t,e={}){return fs(t,"GET","/v2/passwordPolicy",ii(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=6;class zL{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$L,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jy(this),this.idTokenSubscription=new Jy(this),this.beforeStateQueue=new FL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kn(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await zi.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uu(this,{idToken:e}),r=await un._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(an(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await du(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(an(this.app))return Promise.reject(Qr(this));const n=e?vt(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return an(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return an(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UL(this),n=new zL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ML(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kn(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=await zi.create(this,[Kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&vL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Po(t){return vt(t)}class Jy{constructor(e){this.auth=e,this.observer=null,this.addObserver=sM(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WL(t){ld=t}function YC(t){return ld.loadJS(t)}function VL(){return ld.recaptchaEnterpriseScript}function HL(){return ld.gapiScript}function GL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class KL{constructor(){this.enterprise=new qL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const QL="recaptcha-enterprise",XC="NO_RECAPTCHA";class YL{constructor(e){this.type=QL,this.auth=Po(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{IL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new TL(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Ky(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(XC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KL().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Ky(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=VL();l.length!==0&&(l+=a),YC(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Zy(t,e,n,r=!1,s=!1){const i=new YL(t);let o;if(s)o=XC;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function e_(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Zy(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Zy(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t,e){const n=Bm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ws(i,e??{}))return s;_n(s,"already-initialized")}return n.initialize({options:e})}function JL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ZL(t,e,n){const r=Po(t);G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=JC(e),{host:o,port:a}=e2(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){G(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),G(Ws(c,r.config.emulator)&&Ws(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,To(o)?(EC(`${i}//${o}${l}`),CC("Auth",!0)):t2()}function JC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function e2(t){const e=JC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:t_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:t_(o)}}}function t_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function t2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gn("not implemented")}_getIdTokenResponse(e){return Gn("not implemented")}_linkToIdToken(e,n){return Gn("not implemented")}_getReauthenticationResolver(e){return Gn("not implemented")}}async function n2(t,e){return fs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(t,e){return ad(t,"POST","/v1/accounts:signInWithPassword",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(t,e){return ad(t,"POST","/v1/accounts:signInWithEmailLink",ii(t,e))}async function i2(t,e){return ad(t,"POST","/v1/accounts:signInWithEmailLink",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends Km{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new qa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new qa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e_(e,n,"signInWithPassword",r2);case"emailLink":return s2(e,{email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e_(e,r,"signUpPassword",n2);case"emailLink":return i2(e,{idToken:n,email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bi(t,e){return ad(t,"POST","/v1/accounts:signInWithIdp",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="http://localhost";class Hs extends Km{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Hs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Bi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bi(e,n)}buildRequest(){const e={requestUri:o2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Io(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function l2(t){const e=ta(na(t)).link,n=e?ta(na(e)).deep_link_id:null,r=ta(na(t)).deep_link_id;return(r?ta(na(r)).link:null)||r||n||e||t}class qm{constructor(e){const n=ta(na(e)),r=n.apiKey??null,s=n.oobCode??null,i=a2(n.mode??null);G(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=l2(e);try{return new qm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return qa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qm.parseLink(n);return G(r,"argument-error"),qa._fromEmailAndCode(e,r.code,r.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends ZC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends ml{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends ml{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hs._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return br.credential(n,r)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends ml{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends ml{constructor(){super("twitter.com")}static credential(e,n){return Hs._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ir.credential(n,r)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await un._fromIdTokenResponse(e,r,s),o=n_(r);return new po({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=n_(r);return new po({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function n_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends ds{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,fu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new fu(e,n,r,s)}}function eS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?fu._fromErrorAndOperation(t,i,e,r):i})}async function c2(t,e,n=!1){const r=await Ka(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(t,e,n=!1){const{auth:r}=t;if(an(r.app))return Promise.reject(Qr(r));const s="reauthenticate";try{const i=await Ka(t,eS(r,s,e,t),n);G(i.idToken,r,"internal-error");const o=Hm(i.idToken);G(o,r,"internal-error");const{sub:a}=o;return G(t.uid===a,r,"user-mismatch"),po._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&_n(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tS(t,e,n=!1){if(an(t.app))return Promise.reject(Qr(t));const r="signIn",s=await eS(t,r,e),i=await po._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function d2(t,e){return tS(Po(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(t){const e=Po(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function h2(t,e,n){return an(t.app)?Promise.reject(Qr(t)):d2(vt(t),ko.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&f2(t),r})}function p2(t,e,n,r){return vt(t).onIdTokenChanged(e,n,r)}function m2(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function g2(t,e,n,r){return vt(t).onAuthStateChanged(e,n,r)}function v2(t){return vt(t).signOut()}const hu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hu,"1"),this.storage.removeItem(hu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=1e3,_2=10;class rS extends nS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);jL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,_2):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rS.type="LOCAL";const w2=rS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS extends nS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sS.type="SESSION";const iS=sS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new cd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await x2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Qm("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return window}function C2(t){Mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(){return typeof Mn().WorkerGlobalScope<"u"&&typeof Mn().importScripts=="function"}async function S2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function b2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function T2(){return oS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="firebaseLocalStorageDb",I2=1,pu="firebaseLocalStorage",lS="fbase_key";class gl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ud(t,e){return t.transaction([pu],e?"readwrite":"readonly").objectStore(pu)}function N2(){const t=indexedDB.deleteDatabase(aS);return new gl(t).toPromise()}function Xh(){const t=indexedDB.open(aS,I2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pu,{keyPath:lS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pu)?e(r):(r.close(),await N2(),e(await Xh()))})})}async function r_(t,e,n){const r=ud(t,!0).put({[lS]:e,value:n});return new gl(r).toPromise()}async function P2(t,e){const n=ud(t,!1).get(e),r=await new gl(n).toPromise();return r===void 0?null:r.value}function s_(t,e){const n=ud(t,!0).delete(e);return new gl(n).toPromise()}const k2=800,R2=3;class cS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>R2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cd._getInstance(T2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await S2(),!this.activeServiceWorker)return;this.sender=new E2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||b2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xh();return await r_(e,hu,"1"),await s_(e,hu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>r_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>P2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>s_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ud(s,!1).getAll();return new gl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cS.type="LOCAL";const A2=cS;new pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t,e){return e?Kn(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym extends Km{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function D2(t){return tS(t.auth,new Ym(t),t.bypassAuthState)}function M2(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),u2(n,new Ym(t),t.bypassAuthState)}async function L2(t){const{auth:e,user:n}=t;return G(n,e,"internal-error"),c2(n,new Ym(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return D2;case"linkViaPopup":case"linkViaRedirect":return L2;case"reauthViaPopup":case"reauthViaRedirect":return M2;default:_n(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new pl(2e3,1e4);class ki extends uS{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ki.currentPopupAction&&ki.currentPopupAction.cancel(),ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return G(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=Qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,j2.get())};e()}}ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="pendingRedirect",wc=new Map;class U2 extends uS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wc.get(this.auth._key());if(!e){try{const r=await $2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wc.set(this.auth._key(),e)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $2(t,e){const n=W2(e),r=B2(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function z2(t,e){wc.set(t._key(),e)}function B2(t){return Kn(t._redirectPersistence)}function W2(t){return _c(F2,t.config.apiKey,t.name)}async function V2(t,e,n=!1){if(an(t.app))return Promise.reject(Qr(t));const r=Po(t),s=O2(r,e),o=await new U2(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=10*60*1e3;class G2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dS(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=H2&&this.cachedEventUids.clear(),this.cachedEventUids.has(i_(e))}saveEventToCache(e){this.cachedEventUids.add(i_(e)),this.lastProcessedEventTime=Date.now()}}function i_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function K2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(t,e={}){return fs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y2=/^https?/;async function X2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await q2(t);for(const n of e)try{if(J2(n))return}catch{}_n(t,"unauthorized-domain")}function J2(t){const e=Qh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Y2.test(n))return!1;if(Q2.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new pl(3e4,6e4);function o_(){const t=Mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ej(t){return new Promise((e,n)=>{var s,i,o;function r(){o_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o_(),n(Dn(t,"network-request-failed"))},timeout:Z2.get()})}if((i=(s=Mn().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Mn().gapi)!=null&&o.load)r();else{const a=GL("iframefcb");return Mn()[a]=()=>{gapi.load?r():n(Dn(t,"network-request-failed"))},YC(`${HL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw xc=null,e})}let xc=null;function tj(t){return xc=xc||ej(t),xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=new pl(5e3,15e3),rj="__/auth/iframe",sj="emulator/auth/iframe",ij={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aj(t){const e=t.config;G(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vm(e,sj):`https://${t.config.authDomain}/${rj}`,r={apiKey:e.apiKey,appName:t.name,v:No},s=oj.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Io(r).slice(1)}`}async function lj(t){const e=await tj(t),n=Mn().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:aj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ij,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Dn(t,"network-request-failed"),a=Mn().setTimeout(()=>{i(o)},nj.get());function l(){Mn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uj=500,dj=600,fj="_blank",hj="http://localhost";class a_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pj(t,e,n,r=uj,s=dj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...cj,width:r.toString(),height:s.toString(),top:i,left:o},c=pt().toLowerCase();n&&(a=WC(c)?fj:n),zC(c)&&(e=e||hj,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,x])=>`${f}${p}=${x},`,"");if(LL(c)&&a!=="_self")return mj(e||"",a),new a_(null);const d=window.open(e||"",a,u);G(d,t,"popup-blocked");try{d.focus()}catch{}return new a_(d)}function mj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="__/auth/handler",vj="emulator/auth/handler",yj=encodeURIComponent("fac");async function l_(t,e,n,r,s,i){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:No,eventId:s};if(e instanceof ZC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Wh(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof ml){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${yj}=${encodeURIComponent(l)}`:"";return`${_j(t)}?${Io(a).slice(1)}${c}`}function _j({config:t}){return t.emulator?Vm(t,vj):`https://${t.authDomain}/${gj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="webStorageSupport";class wj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iS,this._completeRedirectFn=V2,this._overrideRedirectResult=z2}async _openPopup(e,n,r,s){var o;ir((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await l_(e,n,r,Qh(),s);return pj(e,i,Qm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await l_(e,n,r,Qh(),s);return C2(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ir(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lj(e),r=new G2(e);return n.register("authEvent",s=>(G(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_f,{type:_f},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[_f];i!==void 0&&n(!!i),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=X2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qC()||BC()||Gm()}}const xj=wj;var c_="@firebase/auth",u_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Sj(t){ho(new Vs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QC(t)},c=new BL(r,s,i,l);return JL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ho(new Vs("auth-internal",e=>{const n=Po(e.getProvider("auth").getImmediate());return(r=>new Ej(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(c_,u_,Cj(t)),qr(c_,u_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=5*60,Tj=xC("authIdTokenMaxAge")||bj;let d_=null;const Ij=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Tj)return;const s=n==null?void 0:n.token;d_!==s&&(d_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Nj(t=kC()){const e=Bm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=XL(t,{popupRedirectResolver:xj,persistence:[A2,w2,iS]}),r=xC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Ij(i.toString());m2(n,o,()=>o(n.currentUser)),p2(n,a=>o(a))}}const s=_C("auth");return s&&ZL(n,`http://${s}`),n}function Pj(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}WL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Dn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Pj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Sj("Browser");var kj="firebase",Rj="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(kj,Rj,"app");var f_={};const h_="@firebase/database",p_="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fS="";function Aj(t){fS=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Be(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ha(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return lr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Oj(e)}}catch{}return new Dj},Ts=hS("localStorage"),Mj=hS("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new $m("@firebase/database"),Lj=function(){let t=1;return function(){return t++}}(),pS=function(t){const e=aM(t),n=new rM;n.update(e);const r=n.digest();return Lm.encodeByteArray(r)},vl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=vl.apply(null,r):typeof r=="object"?e+=Be(r):e+=r,e+=" "}return e};let ga=null,m_=!0;const jj=function(t,e){D(!e,"Can't turn on custom loggers persistently."),Wi.logLevel=ge.VERBOSE,ga=Wi.log.bind(Wi)},at=function(...t){if(m_===!0&&(m_=!1,ga===null&&Mj.get("logging_enabled")===!0&&jj()),ga){const e=vl.apply(null,t);ga(e)}},yl=function(t){return function(...e){at(t,...e)}},Jh=function(...t){const e="FIREBASE INTERNAL ERROR: "+vl(...t);Wi.error(e)},or=function(...t){const e=`FIREBASE FATAL ERROR: ${vl(...t)}`;throw Wi.error(e),new Error(e)},It=function(...t){const e="FIREBASE WARNING: "+vl(...t);Wi.warn(e)},Fj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&It("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mS=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Uj=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},mo="[MIN_NAME]",Gs="[MAX_NAME]",Ro=function(t,e){if(t===e)return 0;if(t===mo||e===Gs)return-1;if(e===mo||t===Gs)return 1;{const n=g_(t),r=g_(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},$j=function(t,e){return t===e?0:t<e?-1:1},Ko=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Be(e))},Xm=function(t){if(typeof t!="object"||t===null)return Be(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Be(e[r]),n+=":",n+=Xm(t[e[r]]);return n+="}",n},gS=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Nt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const vS=function(t){D(!mS(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},zj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Bj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Wj(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Vj=new RegExp("^-?(0*)\\d{1,10}$"),Hj=-2147483648,Gj=2147483647,g_=function(t){if(Vj.test(t)){const e=Number(t);if(e>=Hj&&e<=Gj)return e}return null},Ao=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw It("Exception was thrown by user callback.",n),e},Math.floor(0))}},Kj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},va=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,an(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){It(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(at("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',It(e)}}class Ec{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ec.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="5",yS="v",_S="s",wS="r",xS="f",ES=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CS="ls",SS="p",Zh="ac",bS="websocket",TS="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ts.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ts.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Yj(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function NS(t,e,n){D(typeof e=="string","typeof type must == string"),D(typeof n=="object","typeof params must == object");let r;if(e===bS)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===TS)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Yj(t)&&(n.ns=t.namespace);const s=[];return Nt(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(){this.counters_={}}incrementCounter(e,n=1){lr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return jD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf={},xf={};function Zm(t){const e=t.toString();return wf[e]||(wf[e]=new Xj),wf[e]}function Jj(t,e){const n=t.toString();return xf[n]||(xf[n]=e()),xf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Ao(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="start",eF="close",tF="pLPCommand",nF="pRTLPCB",PS="id",kS="pw",RS="ser",rF="cb",sF="seg",iF="ts",oF="d",aF="dframe",AS=1870,OS=30,lF=AS-OS,cF=25e3,uF=3e4;class Ri{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yl(e),this.stats_=Zm(n),this.urlFn=l=>(this.appCheckToken&&(l[Zh]=this.appCheckToken),NS(n,TS,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Zj(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(uF)),Uj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new eg((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===v_)this.id=a,this.password=l;else if(o===eF)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[v_]="t",r[RS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[rF]=this.scriptTagHolder.uniqueCallbackIdentifier),r[yS]=Jm,this.transportSessionId&&(r[_S]=this.transportSessionId),this.lastSessionId&&(r[CS]=this.lastSessionId),this.applicationId&&(r[SS]=this.applicationId),this.appCheckToken&&(r[Zh]=this.appCheckToken),typeof location<"u"&&location.hostname&&ES.test(location.hostname)&&(r[wS]=xS);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ri.forceAllow_=!0}static forceDisallow(){Ri.forceDisallow_=!0}static isAvailable(){return Ri.forceAllow_?!0:!Ri.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!zj()&&!Bj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=vC(n),s=gS(r,lF);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[aF]="t",r[PS]=e,r[kS]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Be(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class eg{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Lj(),window[tF+this.uniqueCallbackIdentifier]=e,window[nF+this.uniqueCallbackIdentifier]=n,this.myIFrame=eg.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){at("frame writing exception"),a.stack&&at(a.stack),at(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||at("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[PS]=this.myID,e[kS]=this.myPW,e[RS]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+OS+r.length<=AS;){const o=this.pendingSegs.shift();r=r+"&"+sF+s+"="+o.seg+"&"+iF+s+"="+o.ts+"&"+oF+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(cF)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{at("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=16384,fF=45e3;let mu=null;typeof MozWebSocket<"u"?mu=MozWebSocket:typeof WebSocket<"u"&&(mu=WebSocket);class ln{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yl(this.connId),this.stats_=Zm(n),this.connURL=ln.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[yS]=Jm,typeof location<"u"&&location.hostname&&ES.test(location.hostname)&&(o[wS]=xS),n&&(o[_S]=n),r&&(o[CS]=r),s&&(o[Zh]=s),i&&(o[SS]=i),NS(e,bS,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ts.set("previous_websocket_failure",!0);try{let r;bC(),this.mySock=new mu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){ln.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&mu!==null&&!ln.forceDisallow_}static previouslyFailed(){return Ts.isInMemoryStorage||Ts.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ts.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ha(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(D(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=gS(n,dF);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(fF))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ln.responsesRequiredToBeHealthy=2;ln.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{static get ALL_TRANSPORTS(){return[Ri,ln]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=ln&&ln.isAvailable();let r=n&&!ln.previouslyFailed();if(e.webSocketOnly&&(n||It("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ln];else{const s=this.transports_=[];for(const i of Qa.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Qa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Qa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=6e4,pF=5e3,mF=10*1024,gF=100*1024,Ef="t",y_="d",vF="s",__="r",yF="e",w_="o",x_="a",E_="n",C_="p",_F="h";class wF{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yl("c:"+this.id+":"),this.transportManager_=new Qa(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=va(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>gF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>mF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ef in e){const n=e[Ef];n===x_?this.upgradeIfSecondaryHealthy_():n===__?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===w_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ko("t",e),r=Ko("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:C_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:x_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:E_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ko("t",e),r=Ko("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ko(Ef,e);if(y_ in e){const r=e[y_];if(n===_F){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===E_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===vF?this.onConnectionShutdown_(r):n===__?this.onReset_(r):n===yF?Jh("Server Error: "+r):n===w_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Jh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Jm!==r&&It("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),va(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(hF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):va(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(pF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:C_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ts.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends MS{static getInstance(){return new gu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Fm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return D(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=32,b_=768;class ye{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function de(){return new ye("")}function ie(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ns(t){return t.pieces_.length-t.pieceNum_}function _e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ye(t.pieces_,e)}function LS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function xF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function jS(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function FS(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ye(e,0)}function We(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ye)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new ye(n,0)}function re(t){return t.pieceNum_>=t.pieces_.length}function ft(t,e){const n=ie(t),r=ie(e);if(n===null)return e;if(n===r)return ft(_e(t),_e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function US(t,e){if(ns(t)!==ns(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function dn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ns(t)>ns(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class EF{constructor(e,n){this.errorPrefix_=n,this.parts_=jS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=od(this.parts_[r]);$S(this)}}function CF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=od(e),$S(t)}function SF(t){const e=t.parts_.pop();t.byteLength_-=od(e),t.parts_.length>0&&(t.byteLength_-=1)}function $S(t){if(t.byteLength_>b_)throw new Error(t.errorPrefix_+"has a key path longer than "+b_+" bytes ("+t.byteLength_+").");if(t.parts_.length>S_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+S_+") or object contains a cycle "+Es(t))}function Es(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg extends MS{static getInstance(){return new tg}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return D(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=1e3,bF=60*5*1e3,T_=30*1e3,TF=1.3,IF=3e4,NF="server_kill",I_=3;class Yn extends DS{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Yn.nextPersistentConnectionId_++,this.log_=yl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qo,this.maxReconnectDelay_=bF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!bC())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&gu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Be(i)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new id,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Yn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&lr(e,"w")){const r=fo(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();It(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||nM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=T_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=tM(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),D(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Be(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Jh("Unrecognized action received from server: "+Be(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>IF&&(this.reconnectDelay_=qo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*TF)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Yn.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){D(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?at("getToken() completed but was canceled"):(at("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new wF(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{It(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(NF)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&It(d),l())}}}interrupt(e){at("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){at("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Wh(this.interruptReasons_)&&(this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Xm(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new ye(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){at("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=I_&&(this.reconnectDelay_=T_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){at("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=I_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+fS.replace(/\./g,"-")]=1,Fm()?e["framework.cordova"]=1:SC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gu.getInstance().currentlyOnline();return Wh(this.interruptReasons_)&&e}}Yn.nextPersistentConnectionId_=0;Yn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ne(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ne(mo,e),s=new ne(mo,n);return this.compare(r,s)!==0}minPost(){return ne.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl;class zS extends dd{static get __EMPTY_NODE(){return Xl}static set __EMPTY_NODE(e){Xl=e}compare(e,n){return Ro(e.name,n.name)}isDefinedOn(e){throw bo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ne.MIN}maxPost(){return new ne(Gs,Xl)}makePost(e,n){return D(typeof e=="string","KeyIndex indexValue must always be a string."),new ne(e,Xl)}toString(){return".key"}}const Vi=new zS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ke{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ke.RED,this.left=s??xt.EMPTY_NODE,this.right=i??xt.EMPTY_NODE}copy(e,n,r,s,i){return new Ke(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return xt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return xt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ke.RED=!0;Ke.BLACK=!1;class PF{copy(e,n,r,s,i){return this}insert(e,n,r){return new Ke(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xt{constructor(e,n=xt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new xt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ke.BLACK,null,null))}remove(e){return new xt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ke.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Jl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Jl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Jl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Jl(this.root_,null,this.comparator_,!0,e)}}xt.EMPTY_NODE=new PF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t,e){return Ro(t.name,e.name)}function ng(t,e){return Ro(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ep;function RF(t){ep=t}const BS=function(t){return typeof t=="number"?"number:"+vS(t):"string:"+t},WS=function(t){if(t.isLeafNode()){const e=t.val();D(typeof e=="string"||typeof e=="number"||typeof e=="object"&&lr(e,".sv"),"Priority must be a string or number.")}else D(t===ep||t.isEmpty(),"priority of unexpected type.");D(t===ep||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N_;class He{static set __childrenNodeConstructor(e){N_=e}static get __childrenNodeConstructor(){return N_}constructor(e,n=He.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,D(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),WS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new He(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:He.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return re(e)?this:ie(e)===".priority"?this.priorityNode_:He.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:He.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ie(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(D(r!==".priority"||ns(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,He.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+BS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=vS(this.value_):e+=this.value_,this.lazyHash_=pS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===He.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof He.__childrenNodeConstructor?-1:(D(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=He.VALUE_TYPE_ORDER.indexOf(n),i=He.VALUE_TYPE_ORDER.indexOf(r);return D(s>=0,"Unknown leaf type: "+n),D(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}He.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VS,HS;function AF(t){VS=t}function OF(t){HS=t}class DF extends dd{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Ro(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ne.MIN}maxPost(){return new ne(Gs,new He("[PRIORITY-POST]",HS))}makePost(e,n){const r=VS(e);return new ne(n,new He("[PRIORITY-POST]",r))}toString(){return".priority"}}const Le=new DF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF=Math.log(2);class LF{constructor(e){const n=i=>parseInt(Math.log(i)/MF,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const vu=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new Ke(f,d.node,Ke.BLACK,null,null);{const p=parseInt(u/2,10)+l,x=s(l,p),v=s(p+1,c);return d=t[p],f=n?n(d):d,new Ke(f,d.node,Ke.BLACK,x,v)}},i=function(l){let c=null,u=null,d=t.length;const f=function(x,v){const _=d-x,g=d;d-=x;const y=s(_+1,g),w=t[_],E=n?n(w):w;p(new Ke(E,w.node,v,null,y))},p=function(x){c?(c.left=x,c=x):(u=x,c=x)};for(let x=0;x<l.count;++x){const v=l.nextBitIsOne(),_=Math.pow(2,l.count-(x+1));v?f(_,Ke.BLACK):(f(_,Ke.BLACK),f(_,Ke.RED))}return u},o=new LF(t.length),a=i(o);return new xt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf;const fi={};class qn{static get Default(){return D(fi&&Le,"ChildrenNode.ts has not been loaded"),Cf=Cf||new qn({".priority":fi},{".priority":Le}),Cf}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=fo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xt?n:null}hasIndex(e){return lr(this.indexSet_,e.toString())}addIndex(e,n){D(e!==Vi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(ne.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=vu(r,e.getCompare()):a=fi;const l=e.toString(),c={...this.indexSet_};c[l]=e;const u={...this.indexes_};return u[l]=a,new qn(u,c)}addToIndexes(e,n){const r=au(this.indexes_,(s,i)=>{const o=fo(this.indexSet_,i);if(D(o,"Missing index implementation for "+i),s===fi)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ne.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),vu(a,o.getCompare())}else return fi;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new ne(e.name,a))),l.insert(e,e.node)}});return new qn(r,this.indexSet_)}removeFromIndexes(e,n){const r=au(this.indexes_,s=>{if(s===fi)return s;{const i=n.get(e.name);return i?s.remove(new ne(e.name,i)):s}});return new qn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo;class K{static get EMPTY_NODE(){return Qo||(Qo=new K(new xt(ng),null,qn.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&WS(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qo}updatePriority(e){return this.children_.isEmpty()?this:new K(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Qo:n}}getChild(e){const n=ie(e);return n===null?this:this.getImmediateChild(n).getChild(_e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(D(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ne(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Qo:this.priorityNode_;return new K(s,o,i)}}updateChild(e,n){const r=ie(e);if(r===null)return n;{D(ie(e)!==".priority"||ns(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(_e(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Le,(o,a)=>{n[o]=a.val(e),r++,i&&K.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+BS(this.getPriority().val())+":"),this.forEachChild(Le,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":pS(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new ne(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ne(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ne(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ne.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ne.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_l?-1:0}withIndex(e){if(e===Vi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new K(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Vi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Le),s=n.getIterator(Le);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Vi?null:this.indexMap_.get(e.toString())}}K.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class jF extends K{constructor(){super(new xt(ng),K.EMPTY_NODE,qn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return K.EMPTY_NODE}isEmpty(){return!1}}const _l=new jF;Object.defineProperties(ne,{MIN:{value:new ne(mo,K.EMPTY_NODE)},MAX:{value:new ne(Gs,_l)}});zS.__EMPTY_NODE=K.EMPTY_NODE;He.__childrenNodeConstructor=K;RF(_l);OF(_l);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=!0;function qe(t,e=null){if(t===null)return K.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),D(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new He(n,qe(e))}if(!(t instanceof Array)&&FF){const n=[];let r=!1;if(Nt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=qe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ne(o,l)))}}),n.length===0)return K.EMPTY_NODE;const i=vu(n,kF,o=>o.name,ng);if(r){const o=vu(n,Le.getCompare());return new K(i,qe(e),new qn({".priority":o},{".priority":Le}))}else return new K(i,qe(e),qn.Default)}else{let n=K.EMPTY_NODE;return Nt(t,(r,s)=>{if(lr(t,r)&&r.substring(0,1)!=="."){const i=qe(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(qe(e))}}AF(qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF extends dd{constructor(e){super(),this.indexPath_=e,D(!re(e)&&ie(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Ro(e.name,n.name):i}makePost(e,n){const r=qe(e),s=K.EMPTY_NODE.updateChild(this.indexPath_,r);return new ne(n,s)}maxPost(){const e=K.EMPTY_NODE.updateChild(this.indexPath_,_l);return new ne(Gs,e)}toString(){return jS(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F extends dd{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ro(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ne.MIN}maxPost(){return ne.MAX}makePost(e,n){const r=qe(e);return new ne(n,r)}toString(){return".value"}}const zF=new $F;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t){return{type:"value",snapshotNode:t}}function go(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ya(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Xa(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function BF(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Ya(n,a)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(go(n,r)):o.trackChildChange(Xa(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Le,(s,i)=>{n.hasChild(s)||r.trackChildChange(Ya(s,i))}),n.isLeafNode()||n.forEachChild(Le,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(Xa(s,i,o))}else r.trackChildChange(go(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?K.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.indexedFilter_=new rg(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ja.getStartPost_(e),this.endPost_=Ja.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new ne(n,r))||(r=K.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=K.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(K.EMPTY_NODE);const i=this;return n.forEachChild(Le,(o,a)=>{i.matches(new ne(o,a))||(s=s.updateImmediateChild(o,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ja(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new ne(n,r))||(r=K.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=K.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=K.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(K.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,p)=>d(p,f)}else o=this.index_.getCompare();const a=e;D(a.numChildren()===this.limit_,"");const l=new ne(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=s.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=s.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,l);if(u&&!r.isEmpty()&&p>=0)return i!=null&&i.trackChildChange(Xa(n,r,d)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Ya(n,d));const v=a.updateImmediateChild(n,K.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(i!=null&&i.trackChildChange(go(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?e:u&&o(c,l)>=0?(i!=null&&(i.trackChildChange(Ya(c.name,c.node)),i.trackChildChange(go(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,K.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mo}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Le}copy(){const e=new sg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function VF(t){return t.loadsAllData()?new rg(t.getIndex()):t.hasLimit()?new WF(t):new Ja(t)}function P_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Le?n="$priority":t.index_===zF?n="$value":t.index_===Vi?n="$key":(D(t.index_ instanceof UF,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Be(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Be(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Be(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Be(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Be(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function k_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Le&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends DS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=yl("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=yu.getListenId_(e,r),a={};this.listens_[o]=a;const l=P_(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),fo(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=yu.getListenId_(e,n);delete this.listens_[r]}get(e){const n=P_(e._queryParams),r=e._path.toString(),s=new id;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Io(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ha(a.responseText)}catch{It("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&It("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(){return{value:null,children:new Map}}function KS(t,e,n){if(re(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ie(e);t.children.has(r)||t.children.set(r,_u());const s=t.children.get(r);e=_e(e),KS(s,e,n)}}function tp(t,e,n){t.value!==null?n(e,t.value):GF(t,(r,s)=>{const i=new ye(e.toString()+"/"+r);tp(s,i,n)})}function GF(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Nt(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=10*1e3,qF=30*1e3,QF=5*60*1e3;class YF{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new KF(e);const r=R_+(qF-R_)*Math.random();va(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Nt(e,(s,i)=>{i>0&&lr(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),va(this.reportStats_.bind(this),Math.floor(Math.random()*2*QF))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(fn||(fn={}));function qS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ig(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function og(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=fn.ACK_USER_WRITE,this.source=qS()}operationForChild(e){if(re(this.path)){if(this.affectedTree.value!=null)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ye(e));return new wu(de(),n,this.revert)}}else return D(ie(this.path)===e,"operationForChild called for unrelated child."),new wu(_e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this.source=e,this.path=n,this.type=fn.LISTEN_COMPLETE}operationForChild(e){return re(this.path)?new Za(this.source,de()):new Za(this.source,_e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=fn.OVERWRITE}operationForChild(e){return re(this.path)?new Ks(this.source,de(),this.snap.getImmediateChild(e)):new Ks(this.source,_e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=fn.MERGE}operationForChild(e){if(re(this.path)){const n=this.children.subtree(new ye(e));return n.isEmpty()?null:n.value?new Ks(this.source,de(),n.value):new el(this.source,de(),n)}else return D(ie(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new el(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(re(e))return this.isFullyInitialized()&&!this.filtered_;const n=ie(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function JF(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(BF(o.childName,o.snapshotNode))}),Yo(t,s,"child_removed",e,r,n),Yo(t,s,"child_added",e,r,n),Yo(t,s,"child_moved",i,r,n),Yo(t,s,"child_changed",e,r,n),Yo(t,s,"value",e,r,n),s}function Yo(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>e4(t,a,l)),o.forEach(a=>{const l=ZF(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function ZF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function e4(t,e,n){if(e.childName==null||n.childName==null)throw bo("Should only compare child_ events.");const r=new ne(e.childName,e.snapshotNode),s=new ne(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t,e){return{eventCache:t,serverCache:e}}function ya(t,e,n,r){return fd(new rs(e,n,r),t.serverCache)}function QS(t,e,n,r){return fd(t.eventCache,new rs(e,n,r))}function xu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function qs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf;const t4=()=>(Sf||(Sf=new xt($j)),Sf);class be{static fromObject(e){let n=new be(null);return Nt(e,(r,s)=>{n=n.set(new ye(r),s)}),n}constructor(e,n=t4()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:de(),value:this.value};if(re(e))return null;{const r=ie(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(_e(e),n);return i!=null?{path:We(new ye(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(re(e))return this;{const n=ie(e),r=this.children.get(n);return r!==null?r.subtree(_e(e)):new be(null)}}set(e,n){if(re(e))return new be(n,this.children);{const r=ie(e),i=(this.children.get(r)||new be(null)).set(_e(e),n),o=this.children.insert(r,i);return new be(this.value,o)}}remove(e){if(re(e))return this.children.isEmpty()?new be(null):new be(null,this.children);{const n=ie(e),r=this.children.get(n);if(r){const s=r.remove(_e(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new be(null):new be(this.value,i)}else return this}}get(e){if(re(e))return this.value;{const n=ie(e),r=this.children.get(n);return r?r.get(_e(e)):null}}setTree(e,n){if(re(e))return n;{const r=ie(e),i=(this.children.get(r)||new be(null)).setTree(_e(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new be(this.value,o)}}fold(e){return this.fold_(de(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(We(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,de(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(re(e))return null;{const i=ie(e),o=this.children.get(i);return o?o.findOnPath_(_e(e),We(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,de(),n)}foreachOnPath_(e,n,r){if(re(e))return this;{this.value&&r(n,this.value);const s=ie(e),i=this.children.get(s);return i?i.foreachOnPath_(_e(e),We(n,s),r):new be(null)}}foreach(e){this.foreach_(de(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(We(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.writeTree_=e}static empty(){return new mn(new be(null))}}function _a(t,e,n){if(re(e))return new mn(new be(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=ft(s,e);return i=i.updateChild(o,n),new mn(t.writeTree_.set(s,i))}else{const s=new be(n),i=t.writeTree_.setTree(e,s);return new mn(i)}}}function A_(t,e,n){let r=t;return Nt(n,(s,i)=>{r=_a(r,We(e,s),i)}),r}function O_(t,e){if(re(e))return mn.empty();{const n=t.writeTree_.setTree(e,new be(null));return new mn(n)}}function np(t,e){return oi(t,e)!=null}function oi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ft(n.path,e)):null}function D_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Le,(r,s)=>{e.push(new ne(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ne(r,s.value))}),e}function Yr(t,e){if(re(e))return t;{const n=oi(t,e);return n!=null?new mn(new be(n)):new mn(t.writeTree_.subtree(e))}}function rp(t){return t.writeTree_.isEmpty()}function vo(t,e){return YS(de(),t.writeTree_,e)}function YS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(D(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=YS(We(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(We(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t,e){return e1(e,t)}function n4(t,e,n,r,s){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=_a(t.visibleWrites,e,n)),t.lastWriteId=r}function r4(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function s4(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&i4(a,r.path)?s=!1:dn(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return o4(t),!0;if(r.snap)t.visibleWrites=O_(t.visibleWrites,r.path);else{const a=r.children;Nt(a,l=>{t.visibleWrites=O_(t.visibleWrites,We(r.path,l))})}return!0}else return!1}function i4(t,e){if(t.snap)return dn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&dn(We(t.path,n),e))return!0;return!1}function o4(t){t.visibleWrites=XS(t.allWrites,a4,de()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function a4(t){return t.visible}function XS(t,e,n){let r=mn.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)dn(n,o)?(a=ft(n,o),r=_a(r,a,i.snap)):dn(o,n)&&(a=ft(o,n),r=_a(r,de(),i.snap.getChild(a)));else if(i.children){if(dn(n,o))a=ft(n,o),r=A_(r,a,i.children);else if(dn(o,n))if(a=ft(o,n),re(a))r=A_(r,de(),i.children);else{const l=fo(i.children,ie(a));if(l){const c=l.getChild(_e(a));r=_a(r,de(),c)}}}else throw bo("WriteRecord should have .snap or .children")}}return r}function JS(t,e,n,r,s){if(!r&&!s){const i=oi(t.visibleWrites,e);if(i!=null)return i;{const o=Yr(t.visibleWrites,e);if(rp(o))return n;if(n==null&&!np(o,de()))return null;{const a=n||K.EMPTY_NODE;return vo(o,a)}}}else{const i=Yr(t.visibleWrites,e);if(!s&&rp(i))return n;if(!s&&n==null&&!np(i,de()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(dn(c.path,e)||dn(e,c.path))},a=XS(t.allWrites,o,e),l=n||K.EMPTY_NODE;return vo(a,l)}}}function l4(t,e,n){let r=K.EMPTY_NODE;const s=oi(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Le,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Yr(t.visibleWrites,e);return n.forEachChild(Le,(o,a)=>{const l=vo(Yr(i,new ye(o)),a);r=r.updateImmediateChild(o,l)}),D_(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Yr(t.visibleWrites,e);return D_(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function c4(t,e,n,r,s){D(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=We(e,n);if(np(t.visibleWrites,i))return null;{const o=Yr(t.visibleWrites,i);return rp(o)?s.getChild(n):vo(o,s.getChild(n))}}function u4(t,e,n,r){const s=We(e,n),i=oi(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Yr(t.visibleWrites,s);return vo(o,r.getNode().getImmediateChild(n))}else return null}function d4(t,e){return oi(t.visibleWrites,e)}function f4(t,e,n,r,s,i,o){let a;const l=Yr(t.visibleWrites,e),c=oi(l,de());if(c!=null)a=c;else if(n!=null)a=vo(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<s;)d(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function h4(){return{visibleWrites:mn.empty(),allWrites:[],lastWriteId:-1}}function Eu(t,e,n,r){return JS(t.writeTree,t.treePath,e,n,r)}function ag(t,e){return l4(t.writeTree,t.treePath,e)}function M_(t,e,n,r){return c4(t.writeTree,t.treePath,e,n,r)}function Cu(t,e){return d4(t.writeTree,We(t.treePath,e))}function p4(t,e,n,r,s,i){return f4(t.writeTree,t.treePath,e,n,r,s,i)}function lg(t,e,n){return u4(t.writeTree,t.treePath,e,n)}function ZS(t,e){return e1(We(t.treePath,e),t.writeTree)}function e1(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),D(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Xa(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Ya(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,go(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Xa(r,e.snapshotNode,s.oldSnap));else throw bo("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const t1=new g4;class cg{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new rs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return lg(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qs(this.viewCache_),i=p4(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t){return{filter:t}}function y4(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function _4(t,e,n,r,s){const i=new m4;let o,a;if(n.type===fn.OVERWRITE){const c=n;c.source.fromUser?o=sp(t,e,c.path,c.snap,r,s,i):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!re(c.path),o=Su(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===fn.MERGE){const c=n;c.source.fromUser?o=x4(t,e,c.path,c.children,r,s,i):(D(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=ip(t,e,c.path,c.children,r,s,a,i))}else if(n.type===fn.ACK_USER_WRITE){const c=n;c.revert?o=S4(t,e,c.path,r,s,i):o=E4(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===fn.LISTEN_COMPLETE)o=C4(t,e,n.path,r,i);else throw bo("Unknown operation type: "+n.type);const l=i.getChanges();return w4(e,o,l),{viewCache:o,changes:l}}function w4(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=xu(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(GS(xu(e)))}}function n1(t,e,n,r,s,i){const o=e.eventCache;if(Cu(r,n)!=null)return e;{let a,l;if(re(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=qs(e),u=c instanceof K?c:K.EMPTY_NODE,d=ag(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=Eu(r,qs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=ie(n);if(c===".priority"){D(ns(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=M_(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=_e(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=M_(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=lg(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,s,i):a=o.getNode()}}return ya(e,a,o.isFullyInitialized()||re(n),t.filter.filtersNodes())}}function Su(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(re(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=ie(n);if(!l.isCompleteForPath(n)&&ns(n)>1)return e;const x=_e(n),_=l.getNode().getImmediateChild(p).updateChild(x,r);p===".priority"?c=u.updatePriority(l.getNode(),_):c=u.updateChild(l.getNode(),p,_,x,t1,null)}const d=QS(e,c,l.isFullyInitialized()||re(n),u.filtersNodes()),f=new cg(s,d,i);return n1(t,d,n,s,f,a)}function sp(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new cg(s,e,i);if(re(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ya(e,c,!0,t.filter.filtersNodes());else{const d=ie(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=ya(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=_e(n),p=a.getNode().getImmediateChild(d);let x;if(re(f))x=r;else{const v=u.getCompleteChild(d);v!=null?LS(f)===".priority"&&v.getChild(FS(f)).isEmpty()?x=v:x=v.updateChild(f,r):x=K.EMPTY_NODE}if(p.equals(x))l=e;else{const v=t.filter.updateChild(a.getNode(),d,x,f,u,o);l=ya(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function L_(t,e){return t.eventCache.isCompleteForChild(e)}function x4(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=We(n,l);L_(e,ie(u))&&(a=sp(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=We(n,l);L_(e,ie(u))||(a=sp(t,a,u,c,s,i,o))}),a}function j_(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function ip(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;re(n)?c=r:c=new be(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),x=j_(t,p,f);l=Su(t,l,new ye(d),x,s,i,o,a)}}),c.children.inorderTraversal((d,f)=>{const p=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!p){const x=e.serverCache.getNode().getImmediateChild(d),v=j_(t,x,f);l=Su(t,l,new ye(d),v,s,i,o,a)}}),l}function E4(t,e,n,r,s,i,o){if(Cu(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(re(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Su(t,e,n,l.getNode().getChild(n),s,i,a,o);if(re(n)){let c=new be(null);return l.getNode().forEachChild(Vi,(u,d)=>{c=c.set(new ye(u),d)}),ip(t,e,n,c,s,i,a,o)}else return e}else{let c=new be(null);return r.foreach((u,d)=>{const f=We(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),ip(t,e,n,c,s,i,a,o)}}function C4(t,e,n,r,s){const i=e.serverCache,o=QS(e,i.getNode(),i.isFullyInitialized()||re(n),i.isFiltered());return n1(t,o,n,r,t1,s)}function S4(t,e,n,r,s,i){let o;if(Cu(r,n)!=null)return e;{const a=new cg(r,e,s),l=e.eventCache.getNode();let c;if(re(n)||ie(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Eu(r,qs(e));else{const d=e.serverCache.getNode();D(d instanceof K,"serverChildren would be complete if leaf node"),u=ag(r,d)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=ie(n);let d=lg(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,_e(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,K.EMPTY_NODE,_e(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Eu(r,qs(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||Cu(r,de())!=null,ya(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new rg(r.getIndex()),i=VF(r);this.processor_=v4(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(K.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(K.EMPTY_NODE,a.getNode(),null),u=new rs(l,o.isFullyInitialized(),s.filtersNodes()),d=new rs(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=fd(d,u),this.eventGenerator_=new XF(this.query_)}get query(){return this.query_}}function T4(t){return t.viewCache_.serverCache.getNode()}function I4(t){return xu(t.viewCache_)}function N4(t,e){const n=qs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!re(e)&&!n.getImmediateChild(ie(e)).isEmpty())?n.getChild(e):null}function F_(t){return t.eventRegistrations_.length===0}function P4(t,e){t.eventRegistrations_.push(e)}function U_(t,e,n){const r=[];if(n){D(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function $_(t,e,n,r){e.type===fn.MERGE&&e.source.queryId!==null&&(D(qs(t.viewCache_),"We should always have a full cache before handling merges"),D(xu(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=_4(t.processor_,s,e,n,r);return y4(t.processor_,i.viewCache),D(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,r1(t,i.changes,i.viewCache.eventCache.getNode(),null)}function k4(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Le,(i,o)=>{r.push(go(i,o))}),n.isFullyInitialized()&&r.push(GS(n.getNode())),r1(t,r,n.getNode(),e)}function r1(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return JF(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu;class s1{constructor(){this.views=new Map}}function R4(t){D(!bu,"__referenceConstructor has already been defined"),bu=t}function A4(){return D(bu,"Reference.ts has not been loaded"),bu}function O4(t){return t.views.size===0}function ug(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return D(i!=null,"SyncTree gave us an op for an invalid query."),$_(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat($_(o,e,n,r));return i}}function i1(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=Eu(n,s?r:null),l=!1;a?l=!0:r instanceof K?(a=ag(n,r),l=!1):(a=K.EMPTY_NODE,l=!1);const c=fd(new rs(a,l,!1),new rs(r,s,!1));return new b4(e,c)}return o}function D4(t,e,n,r,s,i){const o=i1(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),P4(o,n),k4(o,n)}function M4(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=ss(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(U_(c,n,r)),F_(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(U_(l,n,r)),F_(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!ss(t)&&i.push(new(A4())(e._repo,e._path)),{removed:i,events:o}}function o1(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Xr(t,e){let n=null;for(const r of t.views.values())n=n||N4(r,e);return n}function a1(t,e){if(e._queryParams.loadsAllData())return pd(t);{const r=e._queryIdentifier;return t.views.get(r)}}function l1(t,e){return a1(t,e)!=null}function ss(t){return pd(t)!=null}function pd(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu;function L4(t){D(!Tu,"__referenceConstructor has already been defined"),Tu=t}function j4(){return D(Tu,"Reference.ts has not been loaded"),Tu}let F4=1;class z_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new be(null),this.pendingWriteTree_=h4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function c1(t,e,n,r,s){return n4(t.pendingWriteTree_,e,n,r,s),s?xl(t,new Ks(qS(),e,n)):[]}function Is(t,e,n=!1){const r=r4(t.pendingWriteTree_,e);if(s4(t.pendingWriteTree_,e)){let i=new be(null);return r.snap!=null?i=i.set(de(),!0):Nt(r.children,o=>{i=i.set(new ye(o),!0)}),xl(t,new wu(r.path,i,n))}else return[]}function wl(t,e,n){return xl(t,new Ks(ig(),e,n))}function U4(t,e,n){const r=be.fromObject(n);return xl(t,new el(ig(),e,r))}function $4(t,e){return xl(t,new Za(ig(),e))}function z4(t,e,n){const r=fg(t,n);if(r){const s=hg(r),i=s.path,o=s.queryId,a=ft(i,e),l=new Za(og(o),a);return pg(t,i,l)}else return[]}function u1(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||l1(o,e))){const l=M4(o,e,n,r);O4(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(i,(f,p)=>ss(p));if(u&&!d){const f=t.syncPointTree_.subtree(i);if(!f.isEmpty()){const p=H4(f);for(let x=0;x<p.length;++x){const v=p[x],_=v.query,g=p1(t,v);t.listenProvider_.startListening(wa(_),tl(t,_),g.hashFn,g.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(wa(e),null):c.forEach(f=>{const p=t.queryToTagMap.get(md(f));t.listenProvider_.stopListening(wa(f),p)}))}G4(t,c)}return a}function d1(t,e,n,r){const s=fg(t,r);if(s!=null){const i=hg(s),o=i.path,a=i.queryId,l=ft(o,e),c=new Ks(og(a),l,n);return pg(t,o,c)}else return[]}function B4(t,e,n,r){const s=fg(t,r);if(s){const i=hg(s),o=i.path,a=i.queryId,l=ft(o,e),c=be.fromObject(n),u=new el(og(a),l,c);return pg(t,o,u)}else return[]}function W4(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(f,p)=>{const x=ft(f,s);i=i||Xr(p,x),o=o||ss(p)});let a=t.syncPointTree_.get(s);a?(o=o||ss(a),i=i||Xr(a,de())):(a=new s1,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=K.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((p,x)=>{const v=Xr(x,de());v&&(i=i.updateImmediateChild(p,v))}));const c=l1(a,e);if(!c&&!e._queryParams.loadsAllData()){const f=md(e);D(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=K4();t.queryToTagMap.set(f,p),t.tagToQueryMap.set(p,f)}const u=hd(t.pendingWriteTree_,s);let d=D4(a,e,n,u,i,l);if(!c&&!o&&!r){const f=a1(a,e);d=d.concat(q4(t,e,f))}return d}function dg(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=ft(o,e),c=Xr(a,l);if(c)return c});return JS(s,e,i,n,!0)}function V4(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=ft(c,n);r=r||Xr(u,d)});let s=t.syncPointTree_.get(n);s?r=r||Xr(s,de()):(s=new s1,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new rs(r,!0,!1):null,a=hd(t.pendingWriteTree_,e._path),l=i1(s,e,a,i?o.getNode():K.EMPTY_NODE,i);return I4(l)}function xl(t,e){return f1(e,t.syncPointTree_,null,hd(t.pendingWriteTree_,de()))}function f1(t,e,n,r){if(re(t.path))return h1(t,e,n,r);{const s=e.get(de());n==null&&s!=null&&(n=Xr(s,de()));let i=[];const o=ie(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=ZS(r,o);i=i.concat(f1(a,l,c,u))}return s&&(i=i.concat(ug(s,t,r,n))),i}}function h1(t,e,n,r){const s=e.get(de());n==null&&s!=null&&(n=Xr(s,de()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=ZS(r,o),u=t.operationForChild(o);u&&(i=i.concat(h1(u,a,l,c)))}),s&&(i=i.concat(ug(s,t,r,n))),i}function p1(t,e){const n=e.query,r=tl(t,n);return{hashFn:()=>(T4(e)||K.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?z4(t,n._path,r):$4(t,n._path);{const i=Wj(s,n);return u1(t,n,null,i)}}}}function tl(t,e){const n=md(e);return t.queryToTagMap.get(n)}function md(t){return t._path.toString()+"$"+t._queryIdentifier}function fg(t,e){return t.tagToQueryMap.get(e)}function hg(t){const e=t.indexOf("$");return D(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ye(t.substr(0,e))}}function pg(t,e,n){const r=t.syncPointTree_.get(e);D(r,"Missing sync point for query tag that we're tracking");const s=hd(t.pendingWriteTree_,e);return ug(r,n,s,null)}function H4(t){return t.fold((e,n,r)=>{if(n&&ss(n))return[pd(n)];{let s=[];return n&&(s=o1(n)),Nt(r,(i,o)=>{s=s.concat(o)}),s}})}function wa(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(j4())(t._repo,t._path):t}function G4(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=md(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function K4(){return F4++}function q4(t,e,n){const r=e._path,s=tl(t,e),i=p1(t,n),o=t.listenProvider_.startListening(wa(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)D(!ss(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!re(c)&&u&&ss(u))return[pd(u).query];{let f=[];return u&&(f=f.concat(o1(u).map(p=>p.query))),Nt(d,(p,x)=>{f=f.concat(x)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(wa(u),tl(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new mg(n)}node(){return this.node_}}class gg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=We(this.path_,e);return new gg(this.syncTree_,n)}node(){return dg(this.syncTree_,this.path_)}}const Q4=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},B_=function(t,e,n){if(!t||typeof t!="object")return t;if(D(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Y4(t[".sv"],e,n);if(typeof t[".sv"]=="object")return X4(t[".sv"],e);D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Y4=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:D(!1,"Unexpected server value: "+t)}},X4=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&D(!1,"Unexpected increment value: "+r);const s=e.node();if(D(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},J4=function(t,e,n,r){return vg(e,new gg(n,t),r)},m1=function(t,e,n){return vg(t,new mg(e),n)};function vg(t,e,n){const r=t.getPriority().val(),s=B_(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=B_(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new He(a,qe(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new He(s))),o.forEachChild(Le,(a,l)=>{const c=vg(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function _g(t,e){let n=e instanceof ye?e:new ye(e),r=t,s=ie(n);for(;s!==null;){const i=fo(r.node.children,s)||{children:{},childCount:0};r=new yg(s,r,i),n=_e(n),s=ie(n)}return r}function Oo(t){return t.node.value}function g1(t,e){t.node.value=e,op(t)}function v1(t){return t.node.childCount>0}function Z4(t){return Oo(t)===void 0&&!v1(t)}function gd(t,e){Nt(t.node.children,(n,r)=>{e(new yg(n,t,r))})}function y1(t,e,n,r){n&&!r&&e(t),gd(t,s=>{y1(s,e,!0,r)}),n&&r&&e(t)}function e3(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function El(t){return new ye(t.parent===null?t.name:El(t.parent)+"/"+t.name)}function op(t){t.parent!==null&&t3(t.parent,t.name,t)}function t3(t,e,n){const r=Z4(n),s=lr(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,op(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,op(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=/[\[\].#$\/\u0000-\u001F\u007F]/,r3=/[\[\].#$\u0000-\u001F\u007F]/,bf=10*1024*1024,_1=function(t){return typeof t=="string"&&t.length!==0&&!n3.test(t)},w1=function(t){return typeof t=="string"&&t.length!==0&&!r3.test(t)},s3=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),w1(t)},i3=function(t,e,n,r){wg(Um(t,"value"),e,n)},wg=function(t,e,n){const r=n instanceof ye?new EF(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Es(r));if(typeof e=="function")throw new Error(t+"contains a function "+Es(r)+" with contents = "+e.toString());if(mS(e))throw new Error(t+"contains "+e.toString()+" "+Es(r));if(typeof e=="string"&&e.length>bf/3&&od(e)>bf)throw new Error(t+"contains a string greater than "+bf+" utf8 bytes "+Es(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Nt(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!_1(o)))throw new Error(t+" contains an invalid key ("+o+") "+Es(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);CF(r,o),wg(t,a,r),SF(r)}),s&&i)throw new Error(t+' contains ".value" child '+Es(r)+" in addition to actual children.")}},x1=function(t,e,n,r){if(!w1(n))throw new Error(Um(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},o3=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),x1(t,e,n)},a3=function(t,e){if(ie(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},l3=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!_1(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!s3(n))throw new Error(Um(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function E1(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!US(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function jn(t,e,n){E1(t,n),u3(t,r=>dn(r,e)||dn(e,r))}function u3(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(d3(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function d3(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ga&&at("event: "+n.toString()),Ao(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="repo_interrupt",h3=25;class p3{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new c3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_u(),this.transactionQueueTree_=new yg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function m3(t,e,n){if(t.stats_=Zm(t.repoInfo_),t.forceRestClient_||Kj())t.server_=new yu(t.repoInfo_,(r,s,i,o)=>{W_(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>V_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Be(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Yn(t.repoInfo_,e,(r,s,i,o)=>{W_(t,r,s,i,o)},r=>{V_(t,r)},r=>{v3(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Jj(t.repoInfo_,()=>new YF(t.stats_,t.server_)),t.infoData_=new HF,t.infoSyncTree_=new z_({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=wl(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Eg(t,"connected",!1),t.serverSyncTree_=new z_({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);jn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function g3(t){const n=t.infoData_.getNode(new ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function xg(t){return Q4({timestamp:g3(t)})}function W_(t,e,n,r,s){t.dataUpdateCount++;const i=new ye(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=au(n,c=>qe(c));o=B4(t.serverSyncTree_,i,l,s)}else{const l=qe(n);o=d1(t.serverSyncTree_,i,l,s)}else if(r){const l=au(n,c=>qe(c));o=U4(t.serverSyncTree_,i,l)}else{const l=qe(n);o=wl(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=yd(t,i)),jn(t.eventQueue_,a,o)}function V_(t,e){Eg(t,"connected",e),e===!1&&w3(t)}function v3(t,e){Nt(e,(n,r)=>{Eg(t,n,r)})}function Eg(t,e,n){const r=new ye("/.info/"+e),s=qe(n);t.infoData_.updateSnapshot(r,s);const i=wl(t.infoSyncTree_,r,s);jn(t.eventQueue_,r,i)}function C1(t){return t.nextWriteId_++}function y3(t,e,n){const r=V4(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=qe(s).withIndex(e._queryParams.getIndex());W4(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=wl(t.serverSyncTree_,e._path,i);else{const a=tl(t.serverSyncTree_,e);o=d1(t.serverSyncTree_,e._path,i,a)}return jn(t.eventQueue_,e._path,o),u1(t.serverSyncTree_,e,n,null,!0),i},s=>(vd(t,"get for query "+Be(e)+" failed: "+s),Promise.reject(new Error(s))))}function _3(t,e,n,r,s){vd(t,"set",{path:e.toString(),value:n,priority:r});const i=xg(t),o=qe(n,r),a=dg(t.serverSyncTree_,e),l=m1(o,a,i),c=C1(t),u=c1(t.serverSyncTree_,e,l,c,!0);E1(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,p)=>{const x=f==="ok";x||It("set at "+e+" failed: "+f);const v=Is(t.serverSyncTree_,c,!x);jn(t.eventQueue_,e,v),E3(t,s,f,p)});const d=N1(t,e);yd(t,d),jn(t.eventQueue_,d,[])}function w3(t){vd(t,"onDisconnectEvents");const e=xg(t),n=_u();tp(t.onDisconnect_,de(),(s,i)=>{const o=J4(s,i,t.serverSyncTree_,e);KS(n,s,o)});let r=[];tp(n,de(),(s,i)=>{r=r.concat(wl(t.serverSyncTree_,s,i));const o=N1(t,s);yd(t,o)}),t.onDisconnect_=_u(),jn(t.eventQueue_,de(),r)}function x3(t){t.persistentConnection_&&t.persistentConnection_.interrupt(f3)}function vd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),at(n,...e)}function E3(t,e,n,r){e&&Ao(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function S1(t,e,n){return dg(t.serverSyncTree_,e,n)||K.EMPTY_NODE}function Cg(t,e=t.transactionQueueTree_){if(e||_d(t,e),Oo(e)){const n=T1(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&C3(t,El(e),n)}else v1(e)&&gd(e,n=>{Cg(t,n)})}function C3(t,e,n){const r=n.map(c=>c.currentWriteId),s=S1(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];D(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=ft(e,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{vd(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Is(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();_d(t,_g(t.transactionQueueTree_,e)),Cg(t,t.transactionQueueTree_),jn(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Ao(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{It("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}yd(t,e)}},o)}function yd(t,e){const n=b1(t,e),r=El(n),s=T1(t,n);return S3(t,s,r),r}function S3(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=ft(n,l.path);let u=!1,d;if(D(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(Is(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=h3)u=!0,d="maxretry",s=s.concat(Is(t.serverSyncTree_,l.currentWriteId,!0));else{const f=S1(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){wg("transaction failed: Data returned ",p,l.path);let x=qe(p);typeof p=="object"&&p!=null&&lr(p,".priority")||(x=x.updatePriority(f.getPriority()));const _=l.currentWriteId,g=xg(t),y=m1(x,f,g);l.currentOutputSnapshotRaw=x,l.currentOutputSnapshotResolved=y,l.currentWriteId=C1(t),o.splice(o.indexOf(_),1),s=s.concat(c1(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),s=s.concat(Is(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",s=s.concat(Is(t.serverSyncTree_,l.currentWriteId,!0))}jn(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}_d(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ao(r[a]);Cg(t,t.transactionQueueTree_)}function b1(t,e){let n,r=t.transactionQueueTree_;for(n=ie(e);n!==null&&Oo(r)===void 0;)r=_g(r,n),e=_e(e),n=ie(e);return r}function T1(t,e){const n=[];return I1(t,e,n),n.sort((r,s)=>r.order-s.order),n}function I1(t,e,n){const r=Oo(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);gd(e,s=>{I1(t,s,n)})}function _d(t,e){const n=Oo(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,g1(e,n.length>0?n:void 0)}gd(e,r=>{_d(t,r)})}function N1(t,e){const n=El(b1(t,e)),r=_g(t.transactionQueueTree_,e);return e3(r,s=>{Tf(t,s)}),Tf(t,r),y1(r,s=>{Tf(t,s)}),n}function Tf(t,e){const n=Oo(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(D(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(D(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Is(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?g1(e,void 0):n.length=i+1,jn(t.eventQueue_,El(e),s);for(let o=0;o<r.length;o++)Ao(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function T3(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):It(`Invalid query segment '${n}' in query '${t}'`)}return e}const H_=function(t,e){const n=I3(t),r=n.namespace;n.domain==="firebase.com"&&or(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&or("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Fj();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new IS(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new ye(n.pathString)}},I3=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(s=b3(t.substring(u,d)));const f=T3(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const x=e.indexOf(".");r=e.substring(0,x).toLowerCase(),n=e.substring(x+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Be(this.snapshot.exportVal())}}class P3{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return re(this._path)?null:LS(this._path)}get ref(){return new cr(this._repo,this._path)}get _queryIdentifier(){const e=k_(this._queryParams),n=Xm(e);return n==="{}"?"default":n}get _queryObject(){return k_(this._queryParams)}isEqual(e){if(e=vt(e),!(e instanceof Sg))return!1;const n=this._repo===e._repo,r=US(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+xF(this._path)}}class cr extends Sg{constructor(e,n){super(e,n,new sg,!1)}get parent(){const e=FS(this._path);return e===null?null:new cr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class nl{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ye(e),r=ap(this.ref,e);return new nl(this._node.getChild(n),r,Le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new nl(s,ap(this.ref,r),Le)))}hasChild(e){const n=new ye(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Et(t,e){return t=vt(t),t._checkNotDeleted("ref"),e!==void 0?ap(t._root,e):t._root}function ap(t,e){return t=vt(t),ie(t._path)===null?o3("child","path",e):x1("child","path",e),new cr(t._repo,We(t._path,e))}function Ls(t,e){t=vt(t),a3("set",t._path),i3("set",e,t._path);const n=new id;return _3(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Qs(t){t=vt(t);const e=new k3(()=>{}),n=new bg(e);return y3(t._repo,t,n).then(r=>new nl(r,new cr(t._repo,t._path),t._queryParams.getIndex()))}class bg{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new N3("value",this,new nl(e.snapshotNode,new cr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new P3(this,e,n):null}matches(e){return e instanceof bg?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}R4(cr);L4(cr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="FIREBASE_DATABASE_EMULATOR_HOST",lp={};let A3=!1;function O3(t,e,n,r){const s=e.lastIndexOf(":"),i=e.substring(0,s),o=To(i);t.repoInfo_=new IS(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function D3(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||or("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),at("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=H_(i,s),a=o.repoInfo,l;typeof process<"u"&&f_&&(l=f_[R3]),l?(i=`http://${l}?ns=${a.namespace}`,o=H_(i,s),a=o.repoInfo):o.repoInfo.secure;const c=new Qj(t.name,t.options,e);l3("Invalid Firebase Database URL",o),re(o.path)||or("Database URL must point to the root of a Firebase Database (not including a child path).");const u=L3(a,t,c,new qj(t,n));return new j3(u,t)}function M3(t,e){const n=lp[e];(!n||n[t.key]!==t)&&or(`Database ${e}(${t.repoInfo_}) has already been deleted.`),x3(t),delete n[t.key]}function L3(t,e,n,r){let s=lp[e.name];s||(s={},lp[e.name]=s);let i=s[t.toURLString()];return i&&or("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new p3(t,A3,n,r),s[t.toURLString()]=i,i}class j3{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(m3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new cr(this._repo,de())),this._rootInternal}_delete(){return this._rootInternal!==null&&(M3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&or("Cannot call "+e+" on a deleted database.")}}function F3(t=kC(),e){const n=Bm(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=WD("database");r&&U3(n,...r)}return n}function U3(t,e,n,r={}){t=vt(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&Ws(r,i.repoInfo_.emulatorOptions))return;or("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&or('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ec(Ec.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:VD(r.mockUserToken,t.app.options.projectId);o=new Ec(a)}To(e)&&(EC(e),CC("Database",!0)),O3(i,s,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t){Aj(No),ho(new Vs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return D3(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),qr(h_,p_,t),qr(h_,p_,"esm2020")}Yn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Yn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};$3();const z3={apiKey:"AIzaSyCcM567OP8HEdR6v92xuq5t114aMnIZ7BA",authDomain:"pop-and-fun.firebaseapp.com",databaseURL:"https://pop-and-fun-default-rtdb.firebaseio.com",projectId:"pop-and-fun",storageBucket:"pop-and-fun.firebasestorage.app",messagingSenderId:"845863097371",appId:"1:845863097371:web:c407ac055a80fc2dee94be"},P1=PC(z3),If=Nj(P1),Ct=F3(P1),k1=m.createContext(void 0),B3=({children:t})=>{const[e,n]=m.useState(null),[r,s]=m.useState(!0);m.useEffect(()=>g2(If,l=>{n(l),s(!1)}),[]);const i=async(a,l)=>{await h2(If,a,l)},o=async()=>{await v2(If)};return h.jsx(k1.Provider,{value:{user:e,loading:r,login:i,logout:o},children:t})},Tg=()=>{const t=m.useContext(k1);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},R1=m.createContext(void 0),W3=({children:t})=>{const[e,n]=m.useState(()=>{const c=localStorage.getItem("popandfun-cart");return c?JSON.parse(c):[]});m.useEffect(()=>{localStorage.setItem("popandfun-cart",JSON.stringify(e))},[e]);const r=(c,u)=>{n(d=>d.find(p=>p.id===c.id&&p.selectedColor===u)?d.map(p=>p.id===c.id&&p.selectedColor===u?{...p,cartQuantity:p.cartQuantity+1}:p):[...d,{...c,cartQuantity:1,selectedColor:u}])},s=c=>{n(u=>u.filter(d=>d.id!==c))},i=(c,u)=>{if(u<=0){s(c);return}n(d=>d.map(f=>f.id===c?{...f,cartQuantity:u}:f))},o=()=>{n([])},a=()=>e.reduce((c,u)=>c+u.offerPrice*u.cartQuantity,0),l=()=>e.reduce((c,u)=>c+u.cartQuantity,0);return h.jsx(R1.Provider,{value:{cart:e,addToCart:r,removeFromCart:s,updateQuantity:i,clearCart:o,getTotalPrice:a,getTotalItems:l},children:t})},Ig=()=>{const t=m.useContext(R1);if(!t)throw new Error("useCart must be used within CartProvider");return t},V3=qu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ve=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?uP:"button";return h.jsx(o,{className:oe(V3({variant:e,size:n,className:t})),ref:i,...s})});ve.displayName="Button";const H3=qu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Xn({className:t,variant:e,...n}){return h.jsx("div",{className:oe(H3({variant:e}),t),...n})}const G3=()=>{si();const{getTotalItems:t}=Ig(),{user:e,logout:n}=Tg(),r=t();return h.jsx("nav",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:h.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[h.jsx(vi,{to:"/",className:"flex items-center gap-2",children:h.jsx("img",{src:"https://i.ibb.co/yFppc3Jc/Screenshot-2025-10-26-152658-removebg-preview.png",alt:"Pop and Fun Logo",className:"h-10 w-auto"})}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx(ve,{variant:"ghost",size:"sm",asChild:!0,children:h.jsx(vi,{to:"/",children:"Home"})}),e?h.jsxs(h.Fragment,{children:[h.jsx(ve,{variant:"ghost",size:"sm",asChild:!0,children:h.jsx(vi,{to:"/admin",children:"Dashboard"})}),h.jsx(ve,{variant:"ghost",size:"sm",onClick:n,children:"Logout"})]}):h.jsxs(h.Fragment,{children:[h.jsx(ve,{variant:"ghost",size:"icon",className:"relative",asChild:!0,children:h.jsxs(vi,{to:"/cart",children:[h.jsx(aE,{className:"h-5 w-5"}),r>0&&h.jsx(Xn,{className:"absolute -right-1 -top-1 h-5 w-5 flex items-center justify-center p-0 bg-primary text-primary-foreground text-xs",children:r})]})}),h.jsx(ve,{variant:"ghost",size:"icon",asChild:!0,children:h.jsx(vi,{to:"/admin/login",children:h.jsx(lk,{className:"h-5 w-5"})})})]})]})]})})},wn=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));wn.displayName="Card";const Cl=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",t),...e}));Cl.displayName="CardHeader";const Sl=m.forwardRef(({className:t,...e},n)=>h.jsx("h3",{ref:n,className:oe("text-2xl font-semibold leading-none tracking-tight",t),...e}));Sl.displayName="CardTitle";const A1=m.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));A1.displayName="CardDescription";const xn=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:oe("p-6 pt-0",t),...e}));xn.displayName="CardContent";const O1=m.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",t),...e}));O1.displayName="CardFooter";const K3=({product:t,onViewDetails:e})=>{const{cart:n,addToCart:r,updateQuantity:s}=Ig(),[i,o]=m.useState(0),[a,l]=m.useState(()=>{var _;return((_=t.images)==null?void 0:_.filter(Boolean))??[]});m.useEffect(()=>{var _;l(((_=t.images)==null?void 0:_.filter(Boolean))??[]),o(0)},[t.images]),m.useEffect(()=>{a.length!==0&&i>=a.length&&o(0)},[a.length,i]),m.useEffect(()=>{if(!a||a.length<=1)return;const _=setInterval(()=>{o(g=>(g+1)%a.length)},2e3);return()=>clearInterval(_)},[a.length]);const c=n.find(_=>_.id===t.id),u=(c==null?void 0:c.cartQuantity)??0,d=()=>{t.quantity!==0&&(r(t),Fe.success("Added to cart!"))},f=()=>{u>=t.quantity||s(t.id,u+1)},p=()=>{s(t.id,u-1)},x=Math.round((t.originalPrice-t.offerPrice)/t.originalPrice*100),v=t.quantity<5;return h.jsxs(wn,{className:"group overflow-hidden transition-all hover:shadow-hover animate-fade-in",children:[h.jsxs("div",{className:"relative aspect-square overflow-hidden bg-muted cursor-pointer",role:"button",tabIndex:0,onClick:()=>e(t),onKeyDown:_=>{(_.key==="Enter"||_.key===" ")&&(_.preventDefault(),e(t))},children:[a.length>0?a.map((_,g)=>h.jsx("img",{src:_,alt:t.title,onError:()=>{l(y=>y.filter(E=>E!==_))},className:`absolute inset-0 h-full w-full object-cover transition-opacity duration-700 ease-in-out ${g===i?"opacity-100":"opacity-0"} group-hover:scale-105`},`${t.id}-img-${g}`)):h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted text-muted-foreground",children:"Image unavailable"}),x>0&&h.jsxs(Xn,{className:"absolute left-2 top-2 bg-secondary",children:[x,"% OFF"]}),v&&h.jsx(Xn,{variant:"destructive",className:"absolute right-2 top-2",children:"Low Stock"})]}),h.jsxs(xn,{className:"p-4",children:[h.jsxs("div",{className:"mb-2",children:[h.jsx(Xn,{variant:"outline",className:"mb-2",children:t.category}),h.jsx("h3",{className:"font-semibold line-clamp-2 text-foreground",children:t.title})]}),h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",t.offerPrice]}),t.originalPrice>t.offerPrice&&h.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["",t.originalPrice]})]}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.quantity," units available"]})]}),h.jsxs(O1,{className:"p-4 pt-0 flex gap-2 items-center",children:[u===0?h.jsxs(ve,{onClick:_=>{_.stopPropagation(),d()},className:"flex-1",disabled:t.quantity===0,children:[h.jsx(aE,{className:"mr-2 h-4 w-4"}),"Add to Cart"]}):h.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[h.jsx(ve,{variant:"outline",size:"icon",onClick:_=>{_.stopPropagation(),p()},"aria-label":"Decrease quantity",children:h.jsx(sE,{className:"h-4 w-4"})}),h.jsx("span",{className:"min-w-8 text-center font-medium",children:u}),h.jsx(ve,{variant:"outline",size:"icon",onClick:_=>{_.stopPropagation(),f()},"aria-label":"Increase quantity",disabled:u>=t.quantity,children:h.jsx(Qu,{className:"h-4 w-4"})})]}),h.jsx(ve,{variant:"outline",size:"icon",onClick:_=>{_.stopPropagation(),e(t)},children:h.jsx(rk,{className:"h-4 w-4"})})]})]})},cn=m.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));cn.displayName="Input";var Nf="focusScope.autoFocusOnMount",Pf="focusScope.autoFocusOnUnmount",G_={bubbles:!1,cancelable:!0},q3="FocusScope",Ng=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=Kt(s),u=Kt(i),d=m.useRef(null),f=xe(e,v=>l(v)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let v=function(w){if(p.paused||!a)return;const E=w.target;a.contains(E)?d.current=E:_r(d.current,{select:!0})},_=function(w){if(p.paused||!a)return;const E=w.relatedTarget;E!==null&&(a.contains(E)||_r(d.current,{select:!0}))},g=function(w){if(document.activeElement===document.body)for(const C of w)C.removedNodes.length>0&&_r(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",_);const y=new MutationObserver(g);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",_),y.disconnect()}}},[r,a,p.paused]),m.useEffect(()=>{if(a){q_.add(p);const v=document.activeElement;if(!a.contains(v)){const g=new CustomEvent(Nf,G_);a.addEventListener(Nf,c),a.dispatchEvent(g),g.defaultPrevented||(Q3(eU(D1(a)),{select:!0}),document.activeElement===v&&_r(a))}return()=>{a.removeEventListener(Nf,c),setTimeout(()=>{const g=new CustomEvent(Pf,G_);a.addEventListener(Pf,u),a.dispatchEvent(g),g.defaultPrevented||_r(v??document.body,{select:!0}),a.removeEventListener(Pf,u),q_.remove(p)},0)}}},[a,c,u,p]);const x=m.useCallback(v=>{if(!n&&!r||p.paused)return;const _=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,g=document.activeElement;if(_&&g){const y=v.currentTarget,[w,E]=Y3(y);w&&E?!v.shiftKey&&g===E?(v.preventDefault(),n&&_r(w,{select:!0})):v.shiftKey&&g===w&&(v.preventDefault(),n&&_r(E,{select:!0})):g===y&&v.preventDefault()}},[n,r,p.paused]);return h.jsx(te.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});Ng.displayName=q3;function Q3(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(_r(r,{select:e}),document.activeElement!==n)return}function Y3(t){const e=D1(t),n=K_(e,t),r=K_(e.reverse(),t);return[n,r]}function D1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function K_(t,e){for(const n of t)if(!X3(n,{upTo:e}))return n}function X3(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function J3(t){return t instanceof HTMLInputElement&&"select"in t}function _r(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&J3(t)&&e&&t.select()}}var q_=Z3();function Z3(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Q_(t,e),t.unshift(e)},remove(e){var n;t=Q_(t,e),(n=t[0])==null||n.resume()}}}function Q_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function eU(t){return t.filter(e=>e.tagName!=="A")}var kf=0;function M1(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Y_()),document.body.insertAdjacentElement("beforeend",t[1]??Y_()),kf++,()=>{kf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),kf--}},[])}function Y_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Pn=function(){return Pn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pn.apply(this,arguments)};function L1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function tU(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Cc="right-scroll-bar-position",Sc="width-before-scroll-bar",nU="with-scroll-bars-hidden",rU="--removed-body-scroll-bar-size";function Rf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function sU(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var iU=typeof window<"u"?m.useLayoutEffect:m.useEffect,X_=new WeakMap;function oU(t,e){var n=sU(null,function(r){return t.forEach(function(s){return Rf(s,r)})});return iU(function(){var r=X_.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Rf(a,null)}),i.forEach(function(a){s.has(a)||Rf(a,o)})}X_.set(n,t)},[t]),n}function aU(t){return t}function lU(t,e){e===void 0&&(e=aU);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function cU(t){t===void 0&&(t={});var e=lU(null);return e.options=Pn({async:!0,ssr:!1},t),e}var j1=function(t){var e=t.sideCar,n=L1(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Pn({},n))};j1.isSideCarExport=!0;function uU(t,e){return t.useMedium(e),j1}var F1=cU(),Af=function(){},wd=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Af,onWheelCapture:Af,onTouchMoveCapture:Af}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,p=t.noRelative,x=t.noIsolation,v=t.inert,_=t.allowPinchZoom,g=t.as,y=g===void 0?"div":g,w=t.gapMode,E=L1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,S=oU([n,e]),b=Pn(Pn({},E),s);return m.createElement(m.Fragment,null,u&&m.createElement(C,{sideCar:F1,removeScrollBar:c,shards:d,noRelative:p,noIsolation:x,inert:v,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:w}),o?m.cloneElement(m.Children.only(a),Pn(Pn({},b),{ref:S})):m.createElement(y,Pn({},b,{className:l,ref:S}),a))});wd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wd.classNames={fullWidth:Sc,zeroRight:Cc};var dU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=dU();return e&&t.setAttribute("nonce",e),t}function hU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function pU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var mU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=fU())&&(hU(e,n),pU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},gU=function(){var t=mU();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},U1=function(){var t=gU(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},vU={left:0,top:0,right:0,gap:0},Of=function(t){return parseInt(t||"",10)||0},yU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Of(n),Of(r),Of(s)]},_U=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return vU;var e=yU(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},wU=U1(),Hi="data-scroll-locked",xU=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(nU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Hi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Cc," .").concat(Cc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Sc," .").concat(Sc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hi,`] {
    `).concat(rU,": ").concat(a,`px;
  }
`)},J_=function(){var t=parseInt(document.body.getAttribute(Hi)||"0",10);return isFinite(t)?t:0},EU=function(){m.useEffect(function(){return document.body.setAttribute(Hi,(J_()+1).toString()),function(){var t=J_()-1;t<=0?document.body.removeAttribute(Hi):document.body.setAttribute(Hi,t.toString())}},[])},CU=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;EU();var i=m.useMemo(function(){return _U(s)},[s]);return m.createElement(wU,{styles:xU(i,!e,s,n?"":"!important")})},cp=!1;if(typeof window<"u")try{var Zl=Object.defineProperty({},"passive",{get:function(){return cp=!0,!0}});window.addEventListener("test",Zl,Zl),window.removeEventListener("test",Zl,Zl)}catch{cp=!1}var hi=cp?{passive:!1}:!1,SU=function(t){return t.tagName==="TEXTAREA"},$1=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!SU(t)&&n[e]==="visible")},bU=function(t){return $1(t,"overflowY")},TU=function(t){return $1(t,"overflowX")},Z_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=z1(t,r);if(s){var i=B1(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},IU=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},NU=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},z1=function(t,e){return t==="v"?bU(e):TU(e)},B1=function(t,e){return t==="v"?IU(e):NU(e)},PU=function(t,e){return t==="h"&&e==="rtl"?-1:1},kU=function(t,e,n,r,s){var i=PU(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,f=0;do{if(!a)break;var p=B1(t,a),x=p[0],v=p[1],_=p[2],g=v-_-i*x;(x||g)&&z1(t,a)&&(d+=g,f+=x);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(d)<1||!s)||!u&&(Math.abs(f)<1||!s))&&(c=!0),c},ec=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ew=function(t){return[t.deltaX,t.deltaY]},tw=function(t){return t&&"current"in t?t.current:t},RU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},AU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},OU=0,pi=[];function DU(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(OU++)[0],i=m.useState(U1)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=tU([t.lockRef.current],(t.shards||[]).map(tw),!0).filter(Boolean);return v.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(v,_){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var g=ec(v),y=n.current,w="deltaX"in v?v.deltaX:y[0]-g[0],E="deltaY"in v?v.deltaY:y[1]-g[1],C,S=v.target,b=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in v&&b==="h"&&S.type==="range")return!1;var T=Z_(b,S);if(!T)return!0;if(T?C=b:(C=b==="v"?"h":"v",T=Z_(b,S)),!T)return!1;if(!r.current&&"changedTouches"in v&&(w||E)&&(r.current=C),!C)return!0;var A=r.current||C;return kU(A,_,v,A==="h"?w:E,!0)},[]),l=m.useCallback(function(v){var _=v;if(!(!pi.length||pi[pi.length-1]!==i)){var g="deltaY"in _?ew(_):ec(_),y=e.current.filter(function(C){return C.name===_.type&&(C.target===_.target||_.target===C.shadowParent)&&RU(C.delta,g)})[0];if(y&&y.should){_.cancelable&&_.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(tw).filter(Boolean).filter(function(C){return C.contains(_.target)}),E=w.length>0?a(_,w[0]):!o.current.noIsolation;E&&_.cancelable&&_.preventDefault()}}},[]),c=m.useCallback(function(v,_,g,y){var w={name:v,delta:_,target:g,should:y,shadowParent:MU(g)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(E){return E!==w})},1)},[]),u=m.useCallback(function(v){n.current=ec(v),r.current=void 0},[]),d=m.useCallback(function(v){c(v.type,ew(v),v.target,a(v,t.lockRef.current))},[]),f=m.useCallback(function(v){c(v.type,ec(v),v.target,a(v,t.lockRef.current))},[]);m.useEffect(function(){return pi.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,hi),document.addEventListener("touchmove",l,hi),document.addEventListener("touchstart",u,hi),function(){pi=pi.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,hi),document.removeEventListener("touchmove",l,hi),document.removeEventListener("touchstart",u,hi)}},[]);var p=t.removeScrollBar,x=t.inert;return m.createElement(m.Fragment,null,x?m.createElement(i,{styles:AU(s)}):null,p?m.createElement(CU,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function MU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const LU=uU(F1,DU);var Pg=m.forwardRef(function(t,e){return m.createElement(wd,Pn({},t,{ref:e,sideCar:LU}))});Pg.classNames=wd.classNames;var jU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},mi=new WeakMap,tc=new WeakMap,nc={},Df=0,W1=function(t){return t&&(t.host||W1(t.parentNode))},FU=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=W1(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},UU=function(t,e,n,r){var s=FU(e,Array.isArray(t)?t:[t]);nc[n]||(nc[n]=new WeakMap);var i=nc[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var p=f.getAttribute(r),x=p!==null&&p!=="false",v=(mi.get(f)||0)+1,_=(i.get(f)||0)+1;mi.set(f,v),i.set(f,_),o.push(f),v===1&&x&&tc.set(f,!0),_===1&&f.setAttribute(n,"true"),x||f.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",f,g)}})};return u(e),a.clear(),Df++,function(){o.forEach(function(d){var f=mi.get(d)-1,p=i.get(d)-1;mi.set(d,f),i.set(d,p),f||(tc.has(d)||d.removeAttribute(r),tc.delete(d)),p||d.removeAttribute(n)}),Df--,Df||(mi=new WeakMap,mi=new WeakMap,tc=new WeakMap,nc={})}},V1=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=jU(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),UU(r,s,n,"aria-hidden")):function(){return null}},xd="Dialog",[H1,p6]=ls(xd),[$U,En]=H1(xd),G1=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c,u]=lo({prop:r,defaultProp:s??!1,onChange:i,caller:xd});return h.jsx($U,{scope:e,triggerRef:a,contentRef:l,contentId:Vr(),titleId:Vr(),descriptionId:Vr(),open:c,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),modal:o,children:n})};G1.displayName=xd;var K1="DialogTrigger",q1=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=En(K1,n),i=xe(e,s.triggerRef);return h.jsx(te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ag(s.open),...r,ref:i,onClick:V(t.onClick,s.onOpenToggle)})});q1.displayName=K1;var kg="DialogPortal",[zU,Q1]=H1(kg,{forceMount:void 0}),Y1=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=En(kg,e);return h.jsx(zU,{scope:e,forceMount:n,children:m.Children.map(r,o=>h.jsx(ni,{present:n||i.open,children:h.jsx(Hu,{asChild:!0,container:s,children:o})}))})};Y1.displayName=kg;var Iu="DialogOverlay",X1=m.forwardRef((t,e)=>{const n=Q1(Iu,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=En(Iu,t.__scopeDialog);return i.modal?h.jsx(ni,{present:r||i.open,children:h.jsx(WU,{...s,ref:e})}):null});X1.displayName=Iu;var BU=ao("DialogOverlay.RemoveScroll"),WU=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=En(Iu,n);return h.jsx(Pg,{as:BU,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(te.div,{"data-state":Ag(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ys="DialogContent",J1=m.forwardRef((t,e)=>{const n=Q1(Ys,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=En(Ys,t.__scopeDialog);return h.jsx(ni,{present:r||i.open,children:i.modal?h.jsx(VU,{...s,ref:e}):h.jsx(HU,{...s,ref:e})})});J1.displayName=Ys;var VU=m.forwardRef((t,e)=>{const n=En(Ys,t.__scopeDialog),r=m.useRef(null),s=xe(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return V1(i)},[]),h.jsx(Z1,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:V(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:V(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:V(t.onFocusOutside,i=>i.preventDefault())})}),HU=m.forwardRef((t,e)=>{const n=En(Ys,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return h.jsx(Z1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Z1=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=En(Ys,n),l=m.useRef(null),c=xe(e,l);return M1(),h.jsxs(h.Fragment,{children:[h.jsx(Ng,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(ul,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Ag(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(GU,{titleId:a.titleId}),h.jsx(qU,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Rg="DialogTitle",eb=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=En(Rg,n);return h.jsx(te.h2,{id:s.titleId,...r,ref:e})});eb.displayName=Rg;var tb="DialogDescription",nb=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=En(tb,n);return h.jsx(te.p,{id:s.descriptionId,...r,ref:e})});nb.displayName=tb;var rb="DialogClose",sb=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=En(rb,n);return h.jsx(te.button,{type:"button",...r,ref:e,onClick:V(t.onClick,()=>s.onOpenChange(!1))})});sb.displayName=rb;function Ag(t){return t?"open":"closed"}var ib="DialogTitleWarning",[m6,ob]=lP(ib,{contentName:Ys,titleName:Rg,docsSlug:"dialog"}),GU=({titleId:t})=>{const e=ob(ib),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},KU="DialogDescriptionWarning",qU=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ob(KU).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},QU=G1,YU=q1,XU=Y1,ab=X1,lb=J1,cb=eb,ub=nb,JU=sb;const Og=QU,db=YU,ZU=XU,fb=m.forwardRef(({className:t,...e},n)=>h.jsx(ab,{ref:n,className:oe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));fb.displayName=ab.displayName;const Ed=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(ZU,{children:[h.jsx(fb,{}),h.jsxs(lb,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(JU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[h.jsx(lE,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ed.displayName=lb.displayName;const Cd=({className:t,...e})=>h.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Cd.displayName="DialogHeader";const Sd=m.forwardRef(({className:t,...e},n)=>h.jsx(cb,{ref:n,className:oe("text-lg font-semibold leading-none tracking-tight",t),...e}));Sd.displayName=cb.displayName;const e5=m.forwardRef(({className:t,...e},n)=>h.jsx(ub,{ref:n,className:oe("text-sm text-muted-foreground",t),...e}));e5.displayName=ub.displayName;function Mf({className:t,...e}){return h.jsx("div",{className:oe("animate-pulse rounded-md bg-muted",t),...e})}const t5=()=>{const[t,e]=m.useState([]),[n,r]=m.useState([]),[s,i]=m.useState([]),[o,a]=m.useState("All"),[l,c]=m.useState(null),[u,d]=m.useState(!0),[f,p]=m.useState(!1),[x,v]=m.useState("");m.useEffect(()=>{_()},[]),m.useEffect(()=>{const g=o==="All"?t:t.filter(E=>E.category===o),y=x.trim().toLowerCase();if(!y){i(g);return}const w=g.filter(E=>E.title.toLowerCase().includes(y));i(w)},[o,t,x]);const _=async()=>{try{const[g,y]=await Promise.all([Qs(Et(Ct,"products")),Qs(Et(Ct,"categories"))]);if(g.exists()){const w=JSON.parse(g.val()),E=Object.entries(w).map(([C,S])=>({id:C,...S}));e(E),i(E)}if(y.exists()){const w=JSON.parse(y.val()),E=Object.entries(w).map(([C,S])=>({id:C,...S}));r(E.sort((C,S)=>C.name.localeCompare(S.name)))}}catch(g){console.error("Error fetching data:",g)}finally{d(!1)}};return h.jsxs("div",{className:"container py-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold mb-2",children:"All Products"}),h.jsx("p",{className:"text-muted-foreground",children:"Discover amazing deals across all categories"})]}),h.jsx("div",{className:"mb-6",children:h.jsxs("div",{className:"relative",children:[h.jsx(ak,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),h.jsx(cn,{value:x,onChange:g=>v(g.target.value),placeholder:"Search products by title",className:"pl-9"})]})}),h.jsx("div",{className:"mb-6 lg:hidden",children:h.jsxs(ve,{variant:"outline",onClick:()=>p(!f),className:"w-full",children:[h.jsx(sk,{className:"mr-2 h-4 w-4"}),f?"Hide":"Show"," Filters"]})}),n.length>0&&h.jsx("div",{className:`mb-8 ${f?"block":"hidden lg:block"}`,children:h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx(ve,{variant:o==="All"?"default":"outline",onClick:()=>a("All"),children:"All Products"}),n.map(g=>h.jsx(ve,{variant:o===g.name?"default":"outline",onClick:()=>a(g.name),children:g.name},g.id))]})}),u?h.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[...Array(8)].map((g,y)=>h.jsxs("div",{className:"space-y-3",children:[h.jsx(Mf,{className:"aspect-square w-full rounded-lg"}),h.jsx(Mf,{className:"h-4 w-3/4"}),h.jsx(Mf,{className:"h-4 w-1/2"})]},y))}):s.length===0?h.jsx("div",{className:"text-center py-12",children:h.jsx("p",{className:"text-muted-foreground",children:t.length===0?"No products available yet. Check back soon!":"No products found in this category."})}):h.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:s.map(g=>h.jsx(K3,{product:g,onViewDetails:c},g.id))}),h.jsx(Og,{open:!!l,onOpenChange:()=>c(null),children:h.jsx(Ed,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:l&&h.jsxs(h.Fragment,{children:[h.jsxs(Cd,{children:[h.jsx(Sd,{className:"text-2xl",children:l.title}),h.jsx(Xn,{variant:"outline",className:"w-fit",children:l.category})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:h.jsx("img",{src:l.images[0],alt:l.title,className:"h-full w-full object-cover"})}),l.images.length>1&&h.jsx("div",{className:"flex gap-2 overflow-x-auto",children:l.images.slice(1).map((g,y)=>h.jsx("img",{src:g,alt:`${l.title} ${y+2}`,className:"h-20 w-20 object-cover rounded-lg"},y))}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("span",{className:"text-3xl font-bold text-primary",children:["",l.offerPrice]}),l.originalPrice>l.offerPrice&&h.jsxs(h.Fragment,{children:[h.jsxs("span",{className:"text-lg text-muted-foreground line-through",children:["",l.originalPrice]}),h.jsxs(Xn,{className:"bg-secondary",children:[Math.round((l.originalPrice-l.offerPrice)/l.originalPrice*100),"% OFF"]})]})]}),l.description&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),h.jsx("p",{className:"text-muted-foreground",children:l.description})]}),l.colorVariants&&l.colorVariants.length>0&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"Available Colors"}),h.jsx("div",{className:"flex gap-2",children:l.colorVariants.map(g=>h.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-border",style:{backgroundColor:g.toLowerCase()},title:g},g))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"Availability"}),h.jsx("p",{className:"text-muted-foreground",children:l.quantity>0?`${l.quantity} units in stock`:"Out of stock"})]})]})]})})})]})};var n5="Label",hb=m.forwardRef((t,e)=>h.jsx(te.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));hb.displayName=n5;var pb=hb;const r5=qu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),kt=m.forwardRef(({className:t,...e},n)=>h.jsx(pb,{ref:n,className:oe(r5(),t),...e}));kt.displayName=pb.displayName;const s5=()=>{const{cart:t,removeFromCart:e,updateQuantity:n,clearCart:r,getTotalPrice:s}=Ig(),[i,o]=m.useState(""),[a,l]=m.useState(!1),c=()=>{if(t.length===0){Fe.error("Your cart is empty");return}if(!i.trim()){Fe.error("Please enter your name");return}try{l(!0);const u=`PF${Date.now()}`,d=s(),f=t.map(v=>`${v.title}${v.selectedColor?` (${v.selectedColor})`:""} x ${v.cartQuantity} = ${v.offerPrice*v.cartQuantity}`).join("%0A"),x=`https://wa.me/918639122823?text=${`*New Order from Pop and Fun*%0A%0A*Customer Name:* ${i}%0A%0A*Order Details:*%0A${f}%0A%0A*Total Amount:* ${d}%0A*Order ID:* ${u}%0A%0A*Status:* Payment Pending%0A%0A*Timestamp:* ${new Date().toLocaleString()}%0A%0APlease send payment details to confirm the order.`}`;window.open(x,"_blank"),Fe.success("Order sent via WhatsApp!"),r(),o("")}catch(u){console.error("Checkout error:",u),Fe.error("Failed to send order. Please try again.")}finally{l(!1)}};return t.length===0?h.jsx("div",{className:"container py-16",children:h.jsxs("div",{className:"mx-auto max-w-md text-center",children:[h.jsx(oE,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),h.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Your cart is empty"}),h.jsx("p",{className:"text-muted-foreground mb-6",children:"Add some products to get started!"}),h.jsx(ve,{asChild:!0,children:h.jsx(vi,{to:"/",children:"Start Shopping"})})]})}):h.jsxs("div",{className:"container py-8",children:[h.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Shopping Cart"}),h.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[h.jsx("div",{className:"lg:col-span-2 space-y-4",children:t.map(u=>h.jsx(wn,{children:h.jsx(xn,{className:"p-4",children:h.jsxs("div",{className:"flex gap-4",children:[h.jsx("img",{src:u.images[0],alt:u.title,className:"h-24 w-24 rounded-lg object-cover"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold mb-1",children:u.title}),u.selectedColor&&h.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Color: ",u.selectedColor]}),h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsxs("span",{className:"text-lg font-bold text-primary",children:["",u.offerPrice]}),u.originalPrice>u.offerPrice&&h.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["",u.originalPrice]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"flex items-center border rounded-lg",children:[h.jsx(ve,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>n(u.id,u.cartQuantity-1),children:h.jsx(sE,{className:"h-4 w-4"})}),h.jsx("span",{className:"px-4 font-medium",children:u.cartQuantity}),h.jsx(ve,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>n(u.id,u.cartQuantity+1),disabled:u.cartQuantity>=u.quantity,children:h.jsx(Qu,{className:"h-4 w-4"})})]}),h.jsx(ve,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>e(u.id),children:h.jsx(gm,{className:"h-4 w-4"})})]})]}),h.jsx("div",{className:"text-right",children:h.jsxs("p",{className:"text-lg font-bold",children:["",u.offerPrice*u.cartQuantity]})})]})})},`${u.id}-${u.selectedColor}`))}),h.jsx("div",{children:h.jsx(wn,{className:"sticky top-20",children:h.jsxs(xn,{className:"p-6 space-y-4",children:[h.jsx("h2",{className:"text-xl font-bold",children:"Order Summary"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-muted-foreground",children:[h.jsx("span",{children:"Subtotal"}),h.jsxs("span",{children:["",s()]})]}),h.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[h.jsx("span",{children:"Total"}),h.jsxs("span",{className:"text-primary",children:["",s()]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"customerName",children:"Your Name"}),h.jsx(cn,{id:"customerName",placeholder:"Enter your name",value:i,onChange:u=>o(u.target.value)})]}),h.jsx(ve,{className:"w-full",size:"lg",onClick:c,disabled:a,children:a?"Sending order...":"Order via WhatsApp"}),h.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Order details with payment instructions sent via WhatsApp"})]})})})]})]})},i5=()=>{const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(!1),{login:o}=Tg(),a=Mm(),l=async c=>{c.preventDefault(),i(!0);try{await o(t,n),Fe.success("Login successful!"),a("/admin")}catch(u){Fe.error(u.message||"Login failed")}finally{i(!1)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-hero p-4",children:h.jsxs(wn,{className:"w-full max-w-md",children:[h.jsxs(Cl,{className:"text-center",children:[h.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:h.jsx(ik,{className:"h-6 w-6 text-primary"})}),h.jsx(Sl,{className:"text-2xl",children:"Admin Login"}),h.jsx(A1,{children:"Sign in to access the admin dashboard"})]}),h.jsx(xn,{children:h.jsxs("form",{onSubmit:l,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"email",children:"Email"}),h.jsx(cn,{id:"email",type:"email",placeholder:"admin@example.com",value:t,onChange:c=>e(c.target.value),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"password",children:"Password"}),h.jsx(cn,{id:"password",type:"password",placeholder:"",value:n,onChange:c=>r(c.target.value),required:!0})]}),h.jsx(ve,{type:"submit",className:"w-full",disabled:s,children:s?"Signing in...":"Sign In"})]})})]})})};var o5=m.createContext(void 0);function Dg(t){const e=m.useContext(o5);return t||e||"ltr"}var Lf="rovingFocusGroup.onEntryFocus",a5={bubbles:!1,cancelable:!0},bl="RovingFocusGroup",[up,mb,l5]=fm(bl),[c5,gb]=ls(bl,[l5]),[u5,d5]=c5(bl),vb=m.forwardRef((t,e)=>h.jsx(up.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(up.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(f5,{...t,ref:e})})}));vb.displayName=bl;var f5=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,f=m.useRef(null),p=xe(e,f),x=Dg(i),[v,_]=lo({prop:o,defaultProp:a??null,onChange:l,caller:bl}),[g,y]=m.useState(!1),w=Kt(c),E=mb(n),C=m.useRef(!1),[S,b]=m.useState(0);return m.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(Lf,w),()=>T.removeEventListener(Lf,w)},[w]),h.jsx(u5,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(T=>_(T),[_]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>b(T=>T+1),[]),onFocusableItemRemove:m.useCallback(()=>b(T=>T-1),[]),children:h.jsx(te.div,{tabIndex:g||S===0?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...t.style},onMouseDown:V(t.onMouseDown,()=>{C.current=!0}),onFocus:V(t.onFocus,T=>{const A=!C.current;if(T.target===T.currentTarget&&A&&!g){const R=new CustomEvent(Lf,a5);if(T.currentTarget.dispatchEvent(R),!R.defaultPrevented){const z=E().filter(U=>U.focusable),L=z.find(U=>U.active),H=z.find(U=>U.id===v),q=[L,H,...z].filter(Boolean).map(U=>U.ref.current);wb(q,u)}}C.current=!1}),onBlur:V(t.onBlur,()=>y(!1))})})}),yb="RovingFocusGroupItem",_b=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Vr(),c=i||l,u=d5(yb,n),d=u.currentTabStopId===c,f=mb(n),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:v}=u;return m.useEffect(()=>{if(r)return p(),()=>x()},[r,p,x]),h.jsx(up.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:h.jsx(te.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:V(t.onMouseDown,_=>{r?u.onItemFocus(c):_.preventDefault()}),onFocus:V(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:V(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const g=m5(_,u.orientation,u.dir);if(g!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let w=f().filter(E=>E.focusable).map(E=>E.ref.current);if(g==="last")w.reverse();else if(g==="prev"||g==="next"){g==="prev"&&w.reverse();const E=w.indexOf(_.currentTarget);w=u.loop?g5(w,E+1):w.slice(E+1)}setTimeout(()=>wb(w))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:v!=null}):o})})});_b.displayName=yb;var h5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function p5(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function m5(t,e,n){const r=p5(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return h5[r]}function wb(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function g5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var v5=vb,y5=_b,bd="Tabs",[_5,g6]=ls(bd,[gb]),xb=gb(),[w5,Mg]=_5(bd),Eb=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=Dg(a),[d,f]=lo({prop:r,onChange:s,defaultProp:i??"",caller:bd});return h.jsx(w5,{scope:n,baseId:Vr(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:l,children:h.jsx(te.div,{dir:u,"data-orientation":o,...c,ref:e})})});Eb.displayName=bd;var Cb="TabsList",Sb=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Mg(Cb,n),o=xb(n);return h.jsx(v5,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:h.jsx(te.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Sb.displayName=Cb;var bb="TabsTrigger",Tb=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Mg(bb,n),a=xb(n),l=Pb(o.baseId,r),c=kb(o.baseId,r),u=r===o.value;return h.jsx(y5,{asChild:!0,...a,focusable:!s,active:u,children:h.jsx(te.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:V(t.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:V(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:V(t.onFocus,()=>{const d=o.activationMode!=="manual";!u&&!s&&d&&o.onValueChange(r)})})})});Tb.displayName=bb;var Ib="TabsContent",Nb=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Mg(Ib,n),l=Pb(a.baseId,r),c=kb(a.baseId,r),u=r===a.value,d=m.useRef(u);return m.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),h.jsx(ni,{present:s||u,children:({present:f})=>h.jsx(te.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:f&&i})})});Nb.displayName=Ib;function Pb(t,e){return`${t}-trigger-${e}`}function kb(t,e){return`${t}-content-${e}`}var x5=Eb,Rb=Sb,Ab=Tb,Ob=Nb;const E5=x5,Db=m.forwardRef(({className:t,...e},n)=>h.jsx(Rb,{ref:n,className:oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Db.displayName=Rb.displayName;const bc=m.forwardRef(({className:t,...e},n)=>h.jsx(Ab,{ref:n,className:oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));bc.displayName=Ab.displayName;const Tc=m.forwardRef(({className:t,...e},n)=>h.jsx(Ob,{ref:n,className:oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Tc.displayName=Ob.displayName;const C5=()=>{const[t,e]=m.useState([]),[n,r]=m.useState(!0),[s,i]=m.useState(!1),[o,a]=m.useState("");m.useEffect(()=>{l()},[]);const l=async()=>{try{const d=Et(Ct,"categories"),f=await Qs(d);if(f.exists()){const p=JSON.parse(f.val()),x=Object.entries(p).map(([v,_])=>({id:v,..._}));e(x.sort((v,_)=>v.name.localeCompare(_.name)))}}catch(d){console.error("Error fetching categories:",d),Fe.error("Failed to load categories")}finally{r(!1)}},c=async d=>{if(d.preventDefault(),!o.trim()){Fe.error("Please enter a category name");return}try{const f={name:o.trim(),createdAt:Date.now()},p=Date.now().toString(),x=[...t,{...f,id:p}],v=x.reduce((_,g)=>(_[g.id]={name:g.name,createdAt:g.createdAt},_),{});await Ls(Et(Ct,"categories"),JSON.stringify(v)),Fe.success("Category added!"),e(x.sort((_,g)=>_.name.localeCompare(g.name))),a(""),i(!1)}catch(f){console.error("Error saving category:",f),Fe.error("Failed to save category")}},u=async(d,f)=>{if(confirm(`Delete "${f}" category? This won't delete products in this category.`))try{const p=t.filter(x=>x.id!==d);if(p.length===0)await Ls(Et(Ct,"categories"),null);else{const x=p.reduce((v,_)=>(v[_.id]={name:_.name,createdAt:_.createdAt},v),{});await Ls(Et(Ct,"categories"),JSON.stringify(x))}Fe.success("Category deleted!"),e(p)}catch(p){console.error("Error deleting category:",p),Fe.error("Failed to delete category")}};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-2xl font-bold",children:"Categories"}),h.jsxs(Og,{open:s,onOpenChange:i,children:[h.jsx(db,{asChild:!0,children:h.jsxs(ve,{children:[h.jsx(Qu,{className:"mr-2 h-4 w-4"}),"Add Category"]})}),h.jsxs(Ed,{children:[h.jsx(Cd,{children:h.jsx(Sd,{children:"Add New Category"})}),h.jsxs("form",{onSubmit:c,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"categoryName",children:"Category Name *"}),h.jsx(cn,{id:"categoryName",value:o,onChange:d=>a(d.target.value),placeholder:"e.g., Electronics, Fashion",required:!0})]}),h.jsx(ve,{type:"submit",className:"w-full",children:"Add Category"})]})]})]})]}),n?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"Loading categories..."})]}):t.length===0?h.jsx(wn,{children:h.jsxs(xn,{className:"py-12 text-center",children:[h.jsx(rE,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),h.jsx("p",{className:"text-muted-foreground mb-2",children:"No categories yet"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Add your first category to organize products"})]})}):h.jsx("div",{className:"grid gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:t.map(d=>h.jsxs(wn,{children:[h.jsxs(Cl,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[h.jsx(Sl,{className:"text-lg font-semibold",children:d.name}),h.jsx(ve,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>u(d.id,d.name),children:h.jsx(gm,{className:"h-4 w-4"})})]}),h.jsx(xn,{children:h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Created ",new Date(d.createdAt).toLocaleDateString()]})})]},d.id))})]})},dp=m.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));dp.displayName="Textarea";function nw(t,[e,n]){return Math.min(n,Math.max(e,t))}function S5(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var b5=[" ","Enter","ArrowUp","ArrowDown"],T5=[" ","Enter"],Xs="Select",[Td,Id,I5]=fm(Xs),[Do,v6]=ls(Xs,[I5,Zu]),Nd=Zu(),[N5,hs]=Do(Xs),[P5,k5]=Do(Xs),Mb=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:p,form:x}=t,v=Nd(e),[_,g]=m.useState(null),[y,w]=m.useState(null),[E,C]=m.useState(!1),S=Dg(c),[b,T]=lo({prop:r,defaultProp:s??!1,onChange:i,caller:Xs}),[A,R]=lo({prop:o,defaultProp:a,onChange:l,caller:Xs}),z=m.useRef(null),L=_?x||!!_.closest("form"):!0,[H,M]=m.useState(new Set),q=Array.from(H).map(U=>U.props.value).join(";");return h.jsx(VA,{...v,children:h.jsxs(N5,{required:p,scope:e,trigger:_,onTriggerChange:g,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:E,onValueNodeHasChildrenChange:C,contentId:Vr(),value:A,onValueChange:R,open:b,onOpenChange:T,dir:S,triggerPointerDownPosRef:z,disabled:f,children:[h.jsx(Td.Provider,{scope:e,children:h.jsx(P5,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(U=>{M(W=>new Set(W).add(U))},[]),onNativeOptionRemove:m.useCallback(U=>{M(W=>{const I=new Set(W);return I.delete(U),I})},[]),children:n})}),L?h.jsxs(iT,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:A,onChange:U=>R(U.target.value),disabled:f,form:x,children:[A===void 0?h.jsx("option",{value:""}):null,Array.from(H)]},q):null]})})};Mb.displayName=Xs;var Lb="SelectTrigger",jb=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Nd(n),o=hs(Lb,n),a=o.disabled||r,l=xe(e,o.onTriggerChange),c=Id(n),u=m.useRef("touch"),[d,f,p]=aT(v=>{const _=c().filter(w=>!w.disabled),g=_.find(w=>w.value===o.value),y=lT(_,v,g);y!==void 0&&o.onValueChange(y.value)}),x=v=>{a||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return h.jsx($E,{asChild:!0,...i,children:h.jsx(te.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":oT(o.value)?"":void 0,...s,ref:l,onClick:V(s.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&x(v)}),onPointerDown:V(s.onPointerDown,v=>{u.current=v.pointerType;const _=v.target;_.hasPointerCapture(v.pointerId)&&_.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:V(s.onKeyDown,v=>{const _=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(_&&v.key===" ")&&b5.includes(v.key)&&(x(),v.preventDefault())})})})});jb.displayName=Lb;var Fb="SelectValue",Ub=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=hs(Fb,n),{onValueNodeHasChildrenChange:c}=l,u=i!==void 0,d=xe(e,l.onValueNodeChange);return Ze(()=>{c(u)},[c,u]),h.jsx(te.span,{...a,ref:d,style:{pointerEvents:"none"},children:oT(l.value)?h.jsx(h.Fragment,{children:o}):i})});Ub.displayName=Fb;var R5="SelectIcon",$b=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return h.jsx(te.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});$b.displayName=R5;var A5="SelectPortal",zb=t=>h.jsx(Hu,{asChild:!0,...t});zb.displayName=A5;var Js="SelectContent",Bb=m.forwardRef((t,e)=>{const n=hs(Js,t.__scopeSelect),[r,s]=m.useState();if(Ze(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ti.createPortal(h.jsx(Wb,{scope:t.__scopeSelect,children:h.jsx(Td.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),i):null}return h.jsx(Vb,{...t,ref:e})});Bb.displayName=Js;var Zt=10,[Wb,ps]=Do(Js),O5="SelectContentImpl",D5=ao("SelectContent.RemoveScroll"),Vb=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:x,hideWhenDetached:v,avoidCollisions:_,...g}=t,y=hs(Js,n),[w,E]=m.useState(null),[C,S]=m.useState(null),b=xe(e,F=>E(F)),[T,A]=m.useState(null),[R,z]=m.useState(null),L=Id(n),[H,M]=m.useState(!1),q=m.useRef(!1);m.useEffect(()=>{if(w)return V1(w)},[w]),M1();const U=m.useCallback(F=>{const[he,...Oe]=L().map(ce=>ce.ref.current),[fe]=Oe.slice(-1),ae=document.activeElement;for(const ce of F)if(ce===ae||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===he&&C&&(C.scrollTop=0),ce===fe&&C&&(C.scrollTop=C.scrollHeight),ce==null||ce.focus(),document.activeElement!==ae))return},[L,C]),W=m.useCallback(()=>U([T,w]),[U,T,w]);m.useEffect(()=>{H&&W()},[H,W]);const{onOpenChange:I,triggerPointerDownPosRef:P}=y;m.useEffect(()=>{if(w){let F={x:0,y:0};const he=fe=>{var ae,ce;F={x:Math.abs(Math.round(fe.pageX)-(((ae=P.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((ce=P.current)==null?void 0:ce.y)??0))}},Oe=fe=>{F.x<=10&&F.y<=10?fe.preventDefault():w.contains(fe.target)||I(!1),document.removeEventListener("pointermove",he),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[w,I,P]),m.useEffect(()=>{const F=()=>I(!1);return window.addEventListener("blur",F),window.addEventListener("resize",F),()=>{window.removeEventListener("blur",F),window.removeEventListener("resize",F)}},[I]);const[j,Q]=aT(F=>{const he=L().filter(ae=>!ae.disabled),Oe=he.find(ae=>ae.ref.current===document.activeElement),fe=lT(he,F,Oe);fe&&setTimeout(()=>fe.ref.current.focus())}),B=m.useCallback((F,he,Oe)=>{const fe=!q.current&&!Oe;(y.value!==void 0&&y.value===he||fe)&&(A(F),fe&&(q.current=!0))},[y.value]),Z=m.useCallback(()=>w==null?void 0:w.focus(),[w]),Y=m.useCallback((F,he,Oe)=>{const fe=!q.current&&!Oe;(y.value!==void 0&&y.value===he||fe)&&z(F)},[y.value]),Ee=r==="popper"?fp:Hb,Ae=Ee===fp?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:x,hideWhenDetached:v,avoidCollisions:_}:{};return h.jsx(Wb,{scope:n,content:w,viewport:C,onViewportChange:S,itemRefCallback:B,selectedItem:T,onItemLeave:Z,itemTextRefCallback:Y,focusSelectedItem:W,selectedItemText:R,position:r,isPositioned:H,searchRef:j,children:h.jsx(Pg,{as:D5,allowPinchZoom:!0,children:h.jsx(Ng,{asChild:!0,trapped:y.open,onMountAutoFocus:F=>{F.preventDefault()},onUnmountAutoFocus:V(s,F=>{var he;(he=y.trigger)==null||he.focus({preventScroll:!0}),F.preventDefault()}),children:h.jsx(ul,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:F=>F.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:h.jsx(Ee,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:F=>F.preventDefault(),...g,...Ae,onPlaced:()=>M(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:V(g.onKeyDown,F=>{const he=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!he&&F.key.length===1&&Q(F.key),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let fe=L().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(F.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const ae=F.target,ce=fe.indexOf(ae);fe=fe.slice(ce+1)}setTimeout(()=>U(fe)),F.preventDefault()}})})})})})})});Vb.displayName=O5;var M5="SelectItemAlignedPosition",Hb=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=hs(Js,n),o=ps(Js,n),[a,l]=m.useState(null),[c,u]=m.useState(null),d=xe(e,b=>u(b)),f=Id(n),p=m.useRef(!1),x=m.useRef(!0),{viewport:v,selectedItem:_,selectedItemText:g,focusSelectedItem:y}=o,w=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&v&&_&&g){const b=i.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),R=g.getBoundingClientRect();if(i.dir!=="rtl"){const ae=R.left-T.left,ce=A.left-ae,tt=b.left-ce,Ft=b.width+tt,ms=Math.max(Ft,T.width),ur=window.innerWidth-Zt,gs=nw(ce,[Zt,Math.max(Zt,ur-ms)]);a.style.minWidth=Ft+"px",a.style.left=gs+"px"}else{const ae=T.right-R.right,ce=window.innerWidth-A.right-ae,tt=window.innerWidth-b.right-ce,Ft=b.width+tt,ms=Math.max(Ft,T.width),ur=window.innerWidth-Zt,gs=nw(ce,[Zt,Math.max(Zt,ur-ms)]);a.style.minWidth=Ft+"px",a.style.right=gs+"px"}const z=f(),L=window.innerHeight-Zt*2,H=v.scrollHeight,M=window.getComputedStyle(c),q=parseInt(M.borderTopWidth,10),U=parseInt(M.paddingTop,10),W=parseInt(M.borderBottomWidth,10),I=parseInt(M.paddingBottom,10),P=q+U+H+I+W,j=Math.min(_.offsetHeight*5,P),Q=window.getComputedStyle(v),B=parseInt(Q.paddingTop,10),Z=parseInt(Q.paddingBottom,10),Y=b.top+b.height/2-Zt,Ee=L-Y,Ae=_.offsetHeight/2,F=_.offsetTop+Ae,he=q+U+F,Oe=P-he;if(he<=Y){const ae=z.length>0&&_===z[z.length-1].ref.current;a.style.bottom="0px";const ce=c.clientHeight-v.offsetTop-v.offsetHeight,tt=Math.max(Ee,Ae+(ae?Z:0)+ce+W),Ft=he+tt;a.style.height=Ft+"px"}else{const ae=z.length>0&&_===z[0].ref.current;a.style.top="0px";const tt=Math.max(Y,q+v.offsetTop+(ae?B:0)+Ae)+Oe;a.style.height=tt+"px",v.scrollTop=he-Y+v.offsetTop}a.style.margin=`${Zt}px 0`,a.style.minHeight=j+"px",a.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,a,c,v,_,g,i.dir,r]);Ze(()=>w(),[w]);const[E,C]=m.useState();Ze(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const S=m.useCallback(b=>{b&&x.current===!0&&(w(),y==null||y(),x.current=!1)},[w,y]);return h.jsx(j5,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:h.jsx(te.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Hb.displayName=M5;var L5="SelectPopperPosition",fp=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Zt,...i}=t,o=Nd(n);return h.jsx(zE,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fp.displayName=L5;var[j5,Lg]=Do(Js,{}),hp="SelectViewport",Gb=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=ps(hp,n),o=Lg(hp,n),a=xe(e,i.onViewportChange),l=m.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(Td.Slot,{scope:n,children:h.jsx(te.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:V(s.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&d){const p=Math.abs(l.current-u.scrollTop);if(p>0){const x=window.innerHeight-Zt*2,v=parseFloat(d.style.minHeight),_=parseFloat(d.style.height),g=Math.max(v,_);if(g<x){const y=g+p,w=Math.min(x,y),E=y-w;d.style.height=w+"px",d.style.bottom==="0px"&&(u.scrollTop=E>0?E:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});Gb.displayName=hp;var Kb="SelectGroup",[F5,U5]=Do(Kb),$5=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Vr();return h.jsx(F5,{scope:n,id:s,children:h.jsx(te.div,{role:"group","aria-labelledby":s,...r,ref:e})})});$5.displayName=Kb;var qb="SelectLabel",Qb=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=U5(qb,n);return h.jsx(te.div,{id:s.id,...r,ref:e})});Qb.displayName=qb;var Nu="SelectItem",[z5,Yb]=Do(Nu),Xb=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=hs(Nu,n),l=ps(Nu,n),c=a.value===r,[u,d]=m.useState(i??""),[f,p]=m.useState(!1),x=xe(e,y=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,y,r,s)}),v=Vr(),_=m.useRef("touch"),g=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(z5,{scope:n,value:r,disabled:s,textId:v,isSelected:c,onItemTextChange:m.useCallback(y=>{d(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:h.jsx(Td.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:h.jsx(te.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:V(o.onFocus,()=>p(!0)),onBlur:V(o.onBlur,()=>p(!1)),onClick:V(o.onClick,()=>{_.current!=="mouse"&&g()}),onPointerUp:V(o.onPointerUp,()=>{_.current==="mouse"&&g()}),onPointerDown:V(o.onPointerDown,y=>{_.current=y.pointerType}),onPointerMove:V(o.onPointerMove,y=>{var w;_.current=y.pointerType,s?(w=l.onItemLeave)==null||w.call(l):_.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:V(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:V(o.onKeyDown,y=>{var E;((E=l.searchRef)==null?void 0:E.current)!==""&&y.key===" "||(T5.includes(y.key)&&g(),y.key===" "&&y.preventDefault())})})})})});Xb.displayName=Nu;var ra="SelectItemText",Jb=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=hs(ra,n),a=ps(ra,n),l=Yb(ra,n),c=k5(ra,n),[u,d]=m.useState(null),f=xe(e,g=>d(g),l.onItemTextChange,g=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,g,l.value,l.disabled)}),p=u==null?void 0:u.textContent,x=m.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:_}=c;return Ze(()=>(v(x),()=>_(x)),[v,_,x]),h.jsxs(h.Fragment,{children:[h.jsx(te.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ti.createPortal(i.children,o.valueNode):null]})});Jb.displayName=ra;var Zb="SelectItemIndicator",eT=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Yb(Zb,n).isSelected?h.jsx(te.span,{"aria-hidden":!0,...r,ref:e}):null});eT.displayName=Zb;var pp="SelectScrollUpButton",tT=m.forwardRef((t,e)=>{const n=ps(pp,t.__scopeSelect),r=Lg(pp,t.__scopeSelect),[s,i]=m.useState(!1),o=xe(e,r.onScrollButtonChange);return Ze(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(rT,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});tT.displayName=pp;var mp="SelectScrollDownButton",nT=m.forwardRef((t,e)=>{const n=ps(mp,t.__scopeSelect),r=Lg(mp,t.__scopeSelect),[s,i]=m.useState(!1),o=xe(e,r.onScrollButtonChange);return Ze(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(rT,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});nT.displayName=mp;var rT=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=ps("SelectScrollButton",n),o=m.useRef(null),a=Id(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),Ze(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),h.jsx(te.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:V(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:V(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:V(s.onPointerLeave,()=>{l()})})}),B5="SelectSeparator",sT=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(te.div,{"aria-hidden":!0,...r,ref:e})});sT.displayName=B5;var gp="SelectArrow",W5=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Nd(n),i=hs(gp,n),o=ps(gp,n);return i.open&&o.position==="popper"?h.jsx(BE,{...s,...r,ref:e}):null});W5.displayName=gp;var V5="SelectBubbleInput",iT=m.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=m.useRef(null),i=xe(r,s),o=S5(e);return m.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const d=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(d)}},[o,e]),h.jsx(te.select,{...n,style:{...Ax,...n.style},ref:i,defaultValue:e})});iT.displayName=V5;function oT(t){return t===""||t===void 0}function aT(t){const e=Kt(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function lT(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=H5(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function H5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var G5=Mb,cT=jb,K5=Ub,q5=$b,Q5=zb,uT=Bb,Y5=Gb,dT=Qb,fT=Xb,X5=Jb,J5=eT,hT=tT,pT=nT,mT=sT;const Z5=G5,e6=K5,gT=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(cT,{ref:r,className:oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(q5,{asChild:!0,children:h.jsx(nE,{className:"h-4 w-4 opacity-50"})})]}));gT.displayName=cT.displayName;const vT=m.forwardRef(({className:t,...e},n)=>h.jsx(hT,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(nk,{className:"h-4 w-4"})}));vT.displayName=hT.displayName;const yT=m.forwardRef(({className:t,...e},n)=>h.jsx(pT,{ref:n,className:oe("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(nE,{className:"h-4 w-4"})}));yT.displayName=pT.displayName;const _T=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>h.jsx(Q5,{children:h.jsxs(uT,{ref:s,className:oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(vT,{}),h.jsx(Y5,{className:oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(yT,{})]})}));_T.displayName=uT.displayName;const t6=m.forwardRef(({className:t,...e},n)=>h.jsx(dT,{ref:n,className:oe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));t6.displayName=dT.displayName;const wT=m.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(fT,{ref:r,className:oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(J5,{children:h.jsx(tE,{className:"h-4 w-4"})})}),h.jsx(X5,{children:e})]}));wT.displayName=fT.displayName;const n6=m.forwardRef(({className:t,...e},n)=>h.jsx(mT,{ref:n,className:oe("-mx-1 my-1 h-px bg-muted",t),...e}));n6.displayName=mT.displayName;const r6=()=>{const[t,e]=m.useState([]),[n,r]=m.useState([]),[s,i]=m.useState(!0),[o,a]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState({title:"",category:"Electronics",description:"",originalPrice:"",offerPrice:"",images:"",colorVariants:"",quantity:""});m.useEffect(()=>{f()},[]);const f=async()=>{try{const[g,y]=await Promise.all([Qs(Et(Ct,"products")),Qs(Et(Ct,"categories"))]);if(g.exists()){const w=JSON.parse(g.val()),E=Object.entries(w).map(([C,S])=>({id:C,...S}));e(E)}if(y.exists()){const w=JSON.parse(y.val()),E=Object.entries(w).map(([C,S])=>({id:C,...S}));r(E.sort((C,S)=>C.name.localeCompare(S.name)))}}catch(g){console.error("Error fetching data:",g),Fe.error("Failed to load data")}finally{i(!1)}},p=async g=>{g.preventDefault();try{const y={title:u.title,category:u.category,description:u.description,originalPrice:parseFloat(u.originalPrice),offerPrice:parseFloat(u.offerPrice),images:u.images.split(",").map(S=>S.trim()),colorVariants:u.colorVariants?u.colorVariants.split(",").map(S=>S.trim()):void 0,quantity:parseInt(u.quantity),createdAt:Date.now()},w=(l==null?void 0:l.id)||Date.now().toString(),E=l?t.map(S=>S.id===w?{...y,id:w}:S):[...t,{...y,id:w}],C=E.reduce((S,b)=>(S[b.id]={...b},delete S[b.id].id,S),{});await Ls(Et(Ct,"products"),JSON.stringify(C)),Fe.success(l?"Product updated!":"Product added!"),e(E),_(),a(!1)}catch(y){console.error("Error saving product:",y),Fe.error("Failed to save product")}},x=async g=>{if(confirm("Are you sure you want to delete this product?"))try{const y=t.filter(E=>E.id!==g),w=y.reduce((E,C)=>(E[C.id]={...C},delete E[C.id].id,E),{});await Ls(Et(Ct,"products"),JSON.stringify(w)),Fe.success("Product deleted!"),e(y)}catch(y){console.error("Error deleting product:",y),Fe.error("Failed to delete product")}},v=g=>{var y;c(g),d({title:g.title,category:g.category,description:g.description||"",originalPrice:g.originalPrice.toString(),offerPrice:g.offerPrice.toString(),images:g.images.join(", "),colorVariants:((y=g.colorVariants)==null?void 0:y.join(", "))||"",quantity:g.quantity.toString()}),a(!0)},_=()=>{d({title:"",category:"Electronics",description:"",originalPrice:"",offerPrice:"",images:"",colorVariants:"",quantity:""}),c(null)};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-2xl font-bold",children:"Products"}),h.jsxs(Og,{open:o,onOpenChange:g=>{a(g),g||_()},children:[h.jsx(db,{asChild:!0,children:h.jsxs(ve,{children:[h.jsx(Qu,{className:"mr-2 h-4 w-4"}),"Add Product"]})}),h.jsxs(Ed,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[h.jsx(Cd,{children:h.jsx(Sd,{children:l?"Edit Product":"Add New Product"})}),h.jsxs("form",{onSubmit:p,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"title",children:"Product Title *"}),h.jsx(cn,{id:"title",value:u.title,onChange:g=>d({...u,title:g.target.value}),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"category",children:"Category *"}),n.length===0?h.jsx("p",{className:"text-sm text-muted-foreground border rounded-md p-3",children:"No categories available. Please add categories first in the Categories tab."}):h.jsxs(Z5,{value:u.category,onValueChange:g=>d({...u,category:g}),children:[h.jsx(gT,{children:h.jsx(e6,{placeholder:"Select a category"})}),h.jsx(_T,{children:n.map(g=>h.jsx(wT,{value:g.name,children:g.name},g.id))})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"description",children:"Description"}),h.jsx(dp,{id:"description",value:u.description,onChange:g=>d({...u,description:g.target.value}),rows:3})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"originalPrice",children:"Original Price *"}),h.jsx(cn,{id:"originalPrice",type:"number",value:u.originalPrice,onChange:g=>d({...u,originalPrice:g.target.value}),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"offerPrice",children:"Offer Price *"}),h.jsx(cn,{id:"offerPrice",type:"number",value:u.offerPrice,onChange:g=>d({...u,offerPrice:g.target.value}),required:!0})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"images",children:"Image URLs (comma separated) *"}),h.jsx(dp,{id:"images",value:u.images,onChange:g=>d({...u,images:g.target.value}),placeholder:"https://example.com/image1.jpg, https://example.com/image2.jpg",required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"colorVariants",children:"Color Variants (comma separated, optional)"}),h.jsx(cn,{id:"colorVariants",value:u.colorVariants,onChange:g=>d({...u,colorVariants:g.target.value}),placeholder:"Red, Blue, Green"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(kt,{htmlFor:"quantity",children:"Available Quantity *"}),h.jsx(cn,{id:"quantity",type:"number",value:u.quantity,onChange:g=>d({...u,quantity:g.target.value}),required:!0})]}),h.jsx(ve,{type:"submit",className:"w-full",disabled:n.length===0,children:l?"Update Product":"Add Product"}),n.length===0&&h.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Add categories first to create products"})]})]})]})]}),s?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"Loading products..."})]}):t.length===0?h.jsx(wn,{children:h.jsx(xn,{className:"py-12 text-center",children:h.jsx("p",{className:"text-muted-foreground",children:"No products yet. Add your first product!"})})}):h.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(g=>h.jsxs(wn,{children:[h.jsxs(Cl,{children:[h.jsx("img",{src:g.images[0],alt:g.title,className:"w-full h-48 object-cover rounded-lg mb-2"}),h.jsx(Sl,{className:"line-clamp-2",children:g.title}),h.jsx(Xn,{variant:"outline",className:"w-fit",children:g.category})]}),h.jsxs(xn,{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsxs("span",{className:"text-xl font-bold text-primary",children:["",g.offerPrice]}),g.originalPrice>g.offerPrice&&h.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["",g.originalPrice]})]}),h.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Stock: ",g.quantity," units"]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(ve,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>v(g),children:[h.jsx(ok,{className:"mr-2 h-4 w-4"}),"Edit"]}),h.jsx(ve,{variant:"destructive",size:"sm",onClick:()=>x(g.id),children:h.jsx(gm,{className:"h-4 w-4"})})]})]})]},g.id))})]})},s6=()=>{const[t,e]=m.useState([]),[n,r]=m.useState([]),[s,i]=m.useState(!0);m.useEffect(()=>{o()},[]);const o=async()=>{try{const[l,c]=await Promise.all([Qs(Et(Ct,"orders")),Qs(Et(Ct,"products"))]);if(l.exists()){const u=JSON.parse(l.val()),d=Object.entries(u).map(([f,p])=>({id:f,...p}));e(d)}if(c.exists()){const u=JSON.parse(c.val()),d=Object.entries(u).map(([f,p])=>({id:f,...p}));r(d)}}catch(l){console.error("Error fetching data:",l),Fe.error("Failed to load orders")}finally{i(!1)}},a=async l=>{if(confirm("Mark this order as delivered?"))try{const c=[...n];l.items.forEach(p=>{const x=c.findIndex(v=>v.id===p.id);x!==-1&&(c[x].quantity-=p.cartQuantity)});const u=t.filter(p=>p.id!==l.id),d=u.reduce((p,x)=>(p[x.id]={...x},delete p[x.id].id,p),{}),f=c.reduce((p,x)=>(p[x.id]={...x},delete p[x.id].id,p),{});await Promise.all([Ls(Et(Ct,"orders"),JSON.stringify(d)),Ls(Et(Ct,"products"),JSON.stringify(f))]),e(u),r(c),Fe.success("Order marked as delivered!")}catch(c){console.error("Error updating order:",c),Fe.error("Failed to update order")}};return s?h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"Loading orders..."})]}):t.length===0?h.jsx(wn,{children:h.jsxs(xn,{className:"py-12 text-center",children:[h.jsx(iE,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"No pending orders"})]})}):h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-2xl font-bold",children:"Pending Orders"}),t.map(l=>h.jsxs(wn,{children:[h.jsx(Cl,{children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx(Sl,{className:"mb-2",children:l.customerName}),h.jsx(Xn,{variant:"outline",children:new Date(l.timestamp).toLocaleString()})]}),h.jsxs(Xn,{className:"bg-secondary",children:["",l.totalAmount]})]})}),h.jsxs(xn,{children:[h.jsx("div",{className:"space-y-3 mb-4",children:l.items.map((c,u)=>h.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[h.jsxs("div",{className:"flex gap-3",children:[h.jsx("img",{src:c.images[0],alt:c.title,className:"h-16 w-16 rounded object-cover"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium",children:c.title}),c.selectedColor&&h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Color: ",c.selectedColor]}),h.jsxs("p",{className:"text-sm text-muted-foreground",children:["Qty: ",c.cartQuantity]})]})]}),h.jsxs("p",{className:"font-semibold",children:["",c.offerPrice*c.cartQuantity]})]},u))}),h.jsxs(ve,{onClick:()=>a(l),className:"w-full",children:[h.jsx(tE,{className:"mr-2 h-4 w-4"}),"Mark as Delivered"]})]})]},l.id))]})},i6=()=>{const{user:t,loading:e}=Tg();return e?h.jsx("div",{className:"flex min-h-screen items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):t?h.jsxs("div",{className:"container py-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Admin Dashboard"}),h.jsx("p",{className:"text-muted-foreground",children:"Manage your products and orders"})]}),h.jsxs(E5,{defaultValue:"categories",className:"space-y-6",children:[h.jsxs(Db,{className:"grid w-full max-w-2xl grid-cols-3",children:[h.jsxs(bc,{value:"categories",className:"flex items-center gap-2",children:[h.jsx(rE,{className:"h-4 w-4"}),"Categories"]}),h.jsxs(bc,{value:"products",className:"flex items-center gap-2",children:[h.jsx(iE,{className:"h-4 w-4"}),"Products"]}),h.jsxs(bc,{value:"orders",className:"flex items-center gap-2",children:[h.jsx(oE,{className:"h-4 w-4"}),"Orders"]})]}),h.jsx(Tc,{value:"categories",className:"space-y-4",children:h.jsx(C5,{})}),h.jsx(Tc,{value:"products",className:"space-y-4",children:h.jsx(r6,{})}),h.jsx(Tc,{value:"orders",className:"space-y-4",children:h.jsx(s6,{})})]})]}):h.jsx(xD,{to:"/admin/login",replace:!0})},o6=()=>{const t=si();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),h.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),h.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),h.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},a6=new AO,l6=()=>h.jsx(DO,{client:a6,children:h.jsx(lO,{children:h.jsx(B3,{children:h.jsxs(W3,{children:[h.jsx(Vk,{}),h.jsx(ER,{}),(()=>{const e=typeof window<"u"&&window.location.hostname.endsWith("github.io")?kD:PD;return h.jsxs(e,{children:[h.jsx(G3,{}),h.jsxs(ED,{children:[h.jsx(gi,{path:"/",element:h.jsx(t5,{})}),h.jsx(gi,{path:"/cart",element:h.jsx(s5,{})}),h.jsx(gi,{path:"/admin/login",element:h.jsx(i5,{})}),h.jsx(gi,{path:"/admin",element:h.jsx(i6,{})}),h.jsx(gi,{path:"*",element:h.jsx(o6,{})})]})]})})()]})})})});bx(document.getElementById("root")).render(h.jsx(l6,{}));
